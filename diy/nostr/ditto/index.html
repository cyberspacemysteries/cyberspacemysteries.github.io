

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="exploring the why behind empowering technologies">
      
      
        <meta name="author" content="elidyweaver">
      
      
        <link rel="canonical" href="https://freedomweaver.tech/diy/nostr/ditto/index.html">
      
      
        <link rel="prev" href="../../../terminology/index.html">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>ditto - freedom weaver</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="../../../assets/external/unpkg.com/iframe-worker/shim.js"></script>
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

  <!-- Extra style sheets (can't be set in mkdocs.yml due to content hash) -->

  <link
    rel="stylesheet"
    href="../../../stylesheets/extra.css"
  />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ditto" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
 

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="freedom weaver" class="md-header__button md-logo" aria-label="freedom weaver" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            freedom weaver
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ditto
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to day mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to day mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to night mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to night mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </div>
  <div class="md-source__repository">
    cyberspacemysteries/cyberspacemysteries.github.io
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
    
  
  home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../read/index.html" class="md-tabs__link">
          
  
    
  
  read

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../now-and-then/index.html" class="md-tabs__link">
          
  
    
  
  now and then

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../buidl-hodl/index.html" class="md-tabs__link">
          
  
    
  
  research and ideas

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../freedom-tech-meetup/nostr/index.html" class="md-tabs__link">
          
  
    
  
  keep nostr weird

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../terminology/index.html" class="md-tabs__link">
          
  
    
  
  terminology

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
    
  
  DIY

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="freedom weaver" class="md-nav__button md-logo" aria-label="freedom weaver" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    freedom weaver
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </div>
  <div class="md-source__repository">
    cyberspacemysteries/cyberspacemysteries.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
  
  <span class="md-ellipsis">
    home
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    read
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            read
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../read/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - read
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            - read
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/page-1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1: truth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/page-2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2: badg3rground
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/page-3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3: knock, knock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/odds-and-ends.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odds and ends
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    now and then
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            now and then
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../now-and-then/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - now and then
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            - now and then
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    research and ideas
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            research and ideas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../buidl-hodl/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - BUIDL HODL
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            - BUIDL HODL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/freedom/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    freedom
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/experience/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    experience
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/keys/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    keys
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/limited/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    limited
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/time/before-and-after/nostr/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nostr in time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/openness/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/proof-of-work/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    proof of work
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/trust/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trust
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/value4value/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    value4value
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../gift-and-nemesis/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - gift and nemesis
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            - gift and nemesis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/decentralization/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    decentralization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/empowerment/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    empowerment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/ethics/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ethics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/incentives/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    incentives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/mistakes/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mistakes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/network-effects/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    network effects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/originality/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    originality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/protocols-over-platforms/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    protocols over platforms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/truth/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    truth
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    keep nostr weird
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            keep nostr weird
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../freedom-tech-meetup/nostr/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - nostr meetup kit
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            - nostr meetup kit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-unlogo/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the unlogo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-unbadges/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the unbadges
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-untshirts/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the untshirts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-unstickers/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the unstickers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    terminology
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            terminology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../terminology/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - terminology
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            - terminology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    DIY
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    - DIY
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            - DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminal" class="md-nav__link">
    <span class="md-ellipsis">
      Terminal
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-need" class="md-nav__link">
    <span class="md-ellipsis">
      What you need...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secure-your-vps" class="md-nav__link">
    <span class="md-ellipsis">
      secure your VPS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="secure your VPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-in-to-your-server-first-time" class="md-nav__link">
    <span class="md-ellipsis">
      log in to your server (first time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      new credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-keys" class="md-nav__link">
    <span class="md-ellipsis">
      SSH keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-your-ssh-keys-to-the-server" class="md-nav__link">
    <span class="md-ellipsis">
      copy your SSH keys to the server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ufw-uncomplicated-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      ufw (uncomplicated firewall)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ufw (uncomplicated firewall)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      setup firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configured-ports-list" class="md-nav__link">
    <span class="md-ellipsis">
      configured ports list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      enable ufw
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finally-ditto-install-docs" class="md-nav__link">
    <span class="md-ellipsis">
      finally, Ditto install docs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="finally, Ditto install docs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-system-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. System setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install-ditto" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install Ditto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2c-add-soapbox" class="md-nav__link">
    <span class="md-ellipsis">
      2.c. Add Soapbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2d-provision-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      2.d. Provision the database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2e-start-ditto" class="md-nav__link">
    <span class="md-ellipsis">
      2.e Start Ditto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-getting-online" class="md-nav__link">
    <span class="md-ellipsis">
      3. Getting online
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      restart from scratch
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io/edit/master/docs/diy/nostr/ditto/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io/raw/master/docs/diy/nostr/ditto/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="ditto">Ditto<a class="headerlink" href="#ditto" title="Permanent link">⚓︎</a></h1>
<p><strong>A different way of running on nostr, Ditto helps you host your own community, without needing to develop a nostr app yourself.</strong></p>
<!-- excerpt ends before this -->

<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">⚓︎</a></h2>
<p>Jumping into new rabbit holes means learning new information and testing it, often needing to troubleshoot. This journey is no different. </p>
<p>I have already tried to run Ditto a couple of times, restarting now from scratch a third time. The first time, I tried to follow the doc without any deviations. I tested a few changes in version two, but I kept getting a 502 nginx error. </p>
<p>This latest try, I documented the entire process here, modifying a few options. I don't get a 502 error, but the connection times out. </p>
<p>I hope this may be useful to people who know how this works to help me discover the issue that's preventing it from running. What's obvious in developers' eyes is often hard to see for newbies.</p>
<p>When we get it to work, I hope the process helps others run one as well, and learn from my mistakes on what not to do. </p>
<p>These steps will likely work if using Linux or MacOS (Sorry, no Windows)</p>
<p><span class="omega">Doubts and questions I have in the process are highlighted in cyan, often below the issue.</span></p>
<p>Resource: <a href="https://docs.soapbox.pub/ditto/install" target="_blank" alt="Ditto's installation docs">Ditto Installation Docs</a></p>
<h2 id="terminal">Terminal<a class="headerlink" href="#terminal" title="Permanent link">⚓︎</a></h2>
<p>If you are reading this and don't know how to use a terminal, I won't go through the details on how to use it. It can seem daunting, but it's like going into a digital library catalog and looking up information. You must, however, learn what to type in order to look it up. A lot of the time it's only a copy and paste process from installation docs like the one above, but if you run into issues, it helps to know what you are typing.</p>
<p>You can often locate it by searching "Terminal" and clicking on it. </p>
<p>It will open up an almost empty screen but for your home directory (user name followed by your computer's name). The location will change based on what you are doing, so keep an eye on where you are, so you can install items in the proper place.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">yourusername</span><span class="nd">@yourcomputer</span> <span class="o">~</span> <span class="o">%</span>
</span></code></pre></div>
<p>It's also not without help. Most of the time it guides you on what you're doing right, or at the very least, it doesn't show an error message if something was done correctly. For errors, it often suggests how to fix them. Some errors sound scarier than they are, sometimes they are sucess messages, so read carefully.</p>
<p>It does not understand typos. It is as if you were trying to speak a different language and the terminal did not understand you. It asks you to speak again, without the typos.  </p>
<p><strong>Passwords</strong></p>
<p>It's a good idea to paste your password when requested, instead of typing it in, because the terminal will not show you the passwords as you type. </p>
<p><strong>Hit enter</strong></p>
<p>Always hit enter after you type or paste a command or password.</p>
<h2 id="what-you-need">What you need...<a class="headerlink" href="#what-you-need" title="Permanent link">⚓︎</a></h2>
<blockquote>
<p>When starting to learn something new, always choose the recommended option</p>
</blockquote>
<p>Ditto docs recommends VPS with Ubuntu. </p>
<hr />
<ol>
<li>
<p>domain name</p>
</li>
<li>
<p>VPS plan (Ubuntu) - If you have ever hosted a website, then you likely know that hosting providers offer VPS plans, your server in the cloud, so it can run 24/7. Once subscribed to a plan, it will give you the following:</p>
<ul>
<li>
<p>IP address for your server (using 111.111.11.11 here as an example, please replace with your own)</p>
</li>
<li>
<p>SSH port of access (often 22 or replace with what your provider gives you)</p>
</li>
<li>
<p>Root (admin) password</p>
</li>
</ul>
</li>
</ol>
<p>Your hosting provider should have a tutorial on how to point your domain name to your server's IP address. </p>
<p>It will looking similar to this:</p>
<table>
<thead>
<tr>
<th>Record</th>
<th>Host</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>A Record</td>
<td>@</td>
<td>111.111.11.11 (example, enter your own)</td>
</tr>
<tr>
<td>CNAME Record</td>
<td>www</td>
<td>yourdomain.ending</td>
</tr>
</tbody>
</table>
<p>To check if your records point your website's domain to your IP you can enter:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">dig</span> <span class="n">yourwebsite</span><span class="o">.</span><span class="n">com</span> <span class="n">ANY</span> <span class="o">+</span><span class="n">noall</span> <span class="o">+</span> <span class="n">answer</span>
</span></code></pre></div>
<p><strong>recommended</strong></p>
<p>password manager</p>
<p>you will need to keep track of a few passwords. Password managers can help both save them and generate new ones for you. Choose long strong passwords with numbers, a mixture of uppercase and lowercase letters, and special characters.  </p>
<hr />
<blockquote>
<p>warnings exist for a reason, preventing future mistakes</p>
</blockquote>
<p>My hosting provider had a security warning on running a VPS from a root user. I'm documenting the steps to their security recommendations here.</p>
<p>Of course, going through best practices may also create additional steps or issues to solve, and, something in my initial setup, may be what's contributing to the 502 error.</p>
<h2 id="secure-your-vps">secure your VPS<a class="headerlink" href="#secure-your-vps" title="Permanent link">⚓︎</a></h2>
<p>remove root user &amp; set up a custom one</p>
<h3 id="log-in-to-your-server-first-time">log in to your server (first time)<a class="headerlink" href="#log-in-to-your-server-first-time" title="Permanent link">⚓︎</a></h3>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">ssh</span> <span class="n">root</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="o">-</span><span class="n">p22</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">The</span> <span class="n">authenticity</span> <span class="n">of</span> <span class="n">host</span> <span class="s1">&#39;111.111.11.11 (111.111.11.11)&#39;</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">established</span><span class="o">.</span> 
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">RSA</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="ow">is</span> <span class="n">SHA256</span><span class="p">:</span><span class="o">+.</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">This</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">known</span> <span class="n">by</span> <span class="nb">any</span> <span class="n">other</span> <span class="n">names</span><span class="o">.</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">Are</span> <span class="n">you</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">connecting</span> <span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">no</span><span class="o">/</span><span class="p">)</span><span class="err">?</span> 
</span></code></pre></div></p>
<p><div class="language-py highlight"><span class="filename">enter yes</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">yes</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a message like this one</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">Permanently</span> <span class="n">added</span> <span class="s1">&#39;111.111.11.11&#39;</span> <span class="p">(</span><span class="n">RSA</span><span class="p">)</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">known</span> <span class="n">hosts</span><span class="o">.</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">Connection</span> <span class="n">closed</span> <span class="n">by</span> <span class="mf">111.111.11.11</span> <span class="n">port</span> <span class="mi">22</span> 
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">you're back in your home directory</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">yourname</span><span class="nd">@yourcomputer</span> <span class="o">~</span> <span class="o">%</span>
</span></code></pre></div>
<h3 id="new-credentials">new credentials<a class="headerlink" href="#new-credentials" title="Permanent link">⚓︎</a></h3>
<div class="language-py highlight"><span class="filename">log in again</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">ssh</span> <span class="n">root</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="o">-</span><span class="n">p22</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter the password your service provider gave you</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">root</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="n">s</span> <span class="n">password</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">Welcome</span> <span class="n">to</span> <span class="n">Ubuntu</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a> <span class="o">*</span> <span class="n">Documentation</span><span class="p">:</span>  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">help</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a> <span class="o">*</span> <span class="n">Management</span><span class="p">:</span>     <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">landscape</span><span class="o">.</span><span class="n">canonical</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a> <span class="o">*</span> <span class="n">Support</span><span class="p">:</span>        <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">advantage</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">New</span> <span class="n">release</span> <span class="s1">&#39;&#39;</span> <span class="n">available</span><span class="o">.</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="n">Run</span> <span class="s1">&#39;do-release-upgrade&#39;</span> <span class="n">to</span> <span class="n">upgrade</span> <span class="n">to</span> <span class="n">it</span><span class="o">.</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">Last</span> <span class="n">login</span><span class="p">:</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">ending</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div>
<h4 id="create-a-new-user">create a new user<a class="headerlink" href="#create-a-new-user" title="Permanent link">⚓︎</a></h4>
<p>choose what your name you're going to use to access your server (yourusername).</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">useradd</span> <span class="o">-</span><span class="n">m</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;Admin&quot;</span>  <span class="n">yourusername</span> 
</span></code></pre></div>
<h4 id="set-a-new-password">set a new password<a class="headerlink" href="#set-a-new-password" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">passwd</span> <span class="n">yourusername</span> 
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal, after entering a password and retyping it</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">passwd</span><span class="p">:</span> <span class="n">password</span> <span class="n">updated</span> <span class="n">successfully</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">ending</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div></p>
<h4 id="give-admin-rights">give admin rights<a class="headerlink" href="#give-admin-rights" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">usermod</span> <span class="o">-</span><span class="n">aG</span> <span class="n">sudo</span> <span class="n">yourusername</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">if you don't get an error message, after hitting enter, and it looks like this, you're ok</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div></p>
<h4 id="test-if-it-works">test if it works<a class="headerlink" href="#test-if-it-works" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">switch to your username</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">sudo</span> <span class="n">su</span> <span class="o">-</span> <span class="n">yourusername</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">notice the directory change</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">yourusername</span><span class="nd">@server1</span><span class="p">:</span><span class="o">~</span><span class="err">$</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">run this command as a test</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">sudo</span> <span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="o">/</span><span class="n">root</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a similar list and its details, after entering yourusername's password</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">total</span> <span class="mi">21</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">drwx</span><span class="o">------</span>   
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="o">-</span><span class="n">rw</span><span class="o">-------</span>  <span class="o">.</span><span class="n">bash_history</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="n">drwx</span><span class="o">------</span>  <span class="n">cache</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  <span class="n">profile</span>
</span></code></pre></div>
<h4 id="disable-root">disable root<a class="headerlink" href="#disable-root" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">open config file</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span><span class="n">sshd_config</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">it will open a new window, look for PermitRootLogin (using the up and down arrows)</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># This is the sshd server system-wide configuration file.  See</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="c1"># sshd_config(5) for more information.</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="o">...</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1">#LoginGraceTime 2m</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="n">PermitRootLogin</span> <span class="n">yes</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="c1">#StrictModes yes</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c1">#MaxAuthTries 6</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="c1">#MaxSessions 10</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">set PermitRootLogin to no. Make sure there is no hashtag infront of it, unlike the other options. Hashtags are used to make comments that the program ignores.</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># This is the sshd server system-wide configuration file.  See</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="c1"># sshd_config(5) for more information.</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="o">...</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1">#LoginGraceTime 2m</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">PermitRootLogin</span> <span class="n">no</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="c1">#StrictModes yes</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="c1">#MaxAuthTries 6</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="c1">#MaxSessions 10</span>
</span></code></pre></div></p>
<h4 id="change-the-ssh-port">change the SSH port<a class="headerlink" href="#change-the-ssh-port" title="Permanent link">⚓︎</a></h4>
<p>In the same window you have open, remove the hashtag from port 22 and add another port of your preference (the example here is 2140)</p>
<div class="language-py highlight"><span class="filename">find port 22</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">#Port 22</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c1">#AddressFamily any</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="c1">#ListenAddress 0.0.0.0</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c1">#ListenAddress ::</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">remove the hashtag from Port 22 and add another port of your preference</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">Port</span> <span class="mi">22</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">Port</span> <span class="mi">2140</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="c1">#AddressFamily any</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1">#ListenAddress 0.0.0.0</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1">#ListenAddress ::</span>
</span></code></pre></div>
Save with Ctrl + O </p>
<div class="language-py highlight"><span class="filename">you'll see the following message highlighted in the bottom bar</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">File</span> <span class="n">Name</span> <span class="n">to</span> <span class="n">Write</span><span class="p">:</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span><span class="n">sshd_config</span>
</span></code></pre></div>
<p>hit enter</p>
<p>Exit with Ctrl + X</p>
<p>Try one of the following three commands, if you get a command not found error, try a different one.</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">sudo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">sshd</span> <span class="n">restart</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">sudo</span> <span class="n">service</span> <span class="n">sshd</span> <span class="n">restart</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">sudo</span> <span class="n">restart</span> <span class="n">ssh</span>
</span></code></pre></div></p>
<p>when you are able to log out and log back in again with your custom port, make sure to enter the config file again and add a hashtag to comment out port 22</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">#Port 22</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">Port</span> <span class="mi">2140</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1">#AddressFamily any</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1">#ListenAddress 0.0.0.0</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1">#Lis</span>
</span></code></pre></div>
<hr />
<h3 id="ssh-keys">SSH keys<a class="headerlink" href="#ssh-keys" title="Permanent link">⚓︎</a></h3>
<p>These keys (long strings of characters) authenticate you to your server. Generate new keys with the following, but don't do this if you already have keys in use to authenticate to this server or you may overwrite them.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">press enter to accept their recommended directory path</span><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">Generating</span> <span class="n">public</span><span class="o">/</span><span class="n">private</span> <span class="n">rsa</span> <span class="n">key</span> <span class="n">pair</span><span class="o">.</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">Enter</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">which</span> <span class="n">to</span> <span class="n">save</span> <span class="n">the</span> <span class="n">key</span> <span class="p">(</span><span class="o">/</span><span class="n">recommended</span><span class="o">-</span><span class="n">path</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter a strong password</span><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">Enter</span> <span class="n">passphrase</span> <span class="p">(</span><span class="n">empty</span> <span class="k">for</span> <span class="n">no</span> <span class="n">passphrase</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a similar message to this, along with randomart</span><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">Your</span> <span class="n">identification</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="ow">in</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="n">Your</span> <span class="n">public</span> <span class="n">key</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="ow">in</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="n">The</span> <span class="n">keys</span> <span class="n">randomart</span> <span class="n">image</span> <span class="ow">is</span>
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">check if your keys exist, listed as id_rsa and id_rsa.pub</span><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span>
</span></code></pre></div>
<p><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/working-with-ssh-key-passphrases" target="_blank">deeper dive on passwords for SSH keys</a></p>
<h3 id="copy-your-ssh-keys-to-the-server">copy your SSH keys to the server<a class="headerlink" href="#copy-your-ssh-keys-to-the-server" title="Permanent link">⚓︎</a></h3>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">copy</span><span class="o">-</span><span class="nb">id</span> <span class="o">-</span><span class="n">p</span> <span class="mi">2140</span> <span class="n">yourusername</span><span class="o">@</span><span class="mf">111.111.11.11</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ssh</span><span class="o">-</span><span class="n">copy</span><span class="o">-</span><span class="nb">id</span><span class="p">:</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Source</span> <span class="n">of</span> <span class="n">key</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">to</span> <span class="n">be</span> <span class="n">installed</span><span class="p">:</span> <span class="s2">&quot;/route/id_rsa.pub&quot;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="n">The</span> <span class="n">authenticity</span> <span class="n">of</span> <span class="n">host</span> <span class="s1">&#39;[111.111.11.11]:yourcustomport ([111.111.11.11]:yourcustomport)&#39;</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">established</span><span class="o">.</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="n">RSA</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="ow">is</span> <span class="n">SHA256</span><span class="p">:</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="n">Are</span> <span class="n">you</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">connecting</span> <span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">no</span><span class="p">)</span><span class="err">?</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="n">yes</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter your password</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">yourusername</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="n">password</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">success message</span><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">Number</span> <span class="n">of</span> <span class="n">key</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">added</span><span class="p">:</span> <span class="mi">1</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="n">Now</span> <span class="k">try</span> <span class="n">loggin</span> <span class="n">into</span> <span class="n">the</span> <span class="n">machine</span> <span class="k">with</span><span class="p">:</span> 
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="ow">and</span> <span class="n">check</span> <span class="n">to</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">that</span> <span class="n">only</span> <span class="n">the</span> <span class="n">key</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">you</span> <span class="n">wanted</span> <span class="n">were</span> <span class="n">added</span><span class="o">.</span>
</span></code></pre></div></p>
<h4 id="log-in-with-your-custom-settings">Log in with your custom settings<a class="headerlink" href="#log-in-with-your-custom-settings" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">exit twice to get back to your home folder</span><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="n">exit</span>
</span></code></pre></div>
<p>log back in</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">ssh</span> <span class="n">yourusername</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="o">-</span><span class="n">p2140</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a message like this one</span><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="n">Welcome</span> <span class="n">to</span> <span class="n">Ubuntu</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a> <span class="o">*</span> <span class="n">Documentation</span><span class="p">:</span>  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">help</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a> <span class="o">*</span> <span class="n">Management</span><span class="p">:</span>     <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">landscape</span><span class="o">.</span><span class="n">canonical</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a> <span class="o">*</span> <span class="n">Support</span><span class="p">:</span>        <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">advantage</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="n">New</span> <span class="n">release</span> <span class="s1">&#39;&#39;</span> <span class="n">available</span><span class="o">.</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="n">Run</span> <span class="s1">&#39;do-release-upgrade&#39;</span> <span class="n">to</span> <span class="n">upgrade</span> <span class="n">to</span> <span class="n">it</span><span class="o">.</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="n">Last</span> <span class="n">login</span><span class="p">:</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">ending</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">check if your key has been saved</span><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="n">nano</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">authorized_keys</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you should see your key in a new window</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">rsa</span> <span class="o">...</span>
</span></code></pre></div>
<p>exit with Ctrl + X</p>
<hr />
<h2 id="ufw-uncomplicated-firewall">ufw (uncomplicated firewall)<a class="headerlink" href="#ufw-uncomplicated-firewall" title="Permanent link">⚓︎</a></h2>
<p>ubuntu should already have ufw installed</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="n">ufw</span> <span class="n">status</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you should see this message</span><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="n">Status</span><span class="p">:</span> <span class="n">inactive</span>
</span></code></pre></div>
<p>if it's not installed:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="n">apt</span> <span class="n">install</span> <span class="n">ufw</span>
</span></code></pre></div>
<h3 id="setup-firewall">setup firewall<a class="headerlink" href="#setup-firewall" title="Permanent link">⚓︎</a></h3>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">deny</span> <span class="n">incoming</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="n">Default</span> <span class="n">incoming</span> <span class="n">policy</span> <span class="n">changed</span> <span class="n">to</span> <span class="s1">&#39;deny&#39;</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="p">(</span><span class="n">be</span> <span class="n">sure</span> <span class="n">to</span> <span class="n">update</span> <span class="n">your</span> <span class="n">rules</span> <span class="n">accordingly</span><span class="p">)</span>
</span></code></pre></div></p>
<p><div class="language-py highlight"><span class="filename">let your server access the internet</span><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="n">outgoing</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="n">Default</span> <span class="n">outgoing</span> <span class="n">policy</span> <span class="n">changed</span> <span class="n">to</span> <span class="s1">&#39;allow&#39;</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="p">(</span><span class="n">be</span> <span class="n">sure</span> <span class="n">to</span> <span class="n">update</span> <span class="n">your</span> <span class="n">rules</span> <span class="n">accordingly</span><span class="p">)</span>
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">allow your custom port</span><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="mi">2140</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">allow http</span><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="n">http</span><span class="o">/</span><span class="n">tcp</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">allow port for database</span><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="mi">5432</span>
</span></code></pre></div>
<p><span class="omega">if changing the access port for the server makes it more secure, could the database port be customized too? would it improve security or could it block some connections?</span></p>
<p>Leaving as is, 5432.</p>
<h3 id="configured-ports-list">configured ports list<a class="headerlink" href="#configured-ports-list" title="Permanent link">⚓︎</a></h3>
<p>this command will list the ports you have configured</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">status</span>
</span></code></pre></div>
<h3 id="enable-ufw">enable ufw<a class="headerlink" href="#enable-ufw" title="Permanent link">⚓︎</a></h3>
<p>So far, the ufw has been disabled. As long as the port you use to access the server is allowed, you should be ok to log back in. </p>
<p>However, you can test if you can log in by opening a separate terminal window, without closing the one you are in. </p>
<p>Once you are sure of your settings: </p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="n">ufw</span> <span class="n">enable</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="n">Command</span> <span class="n">may</span> <span class="n">disrupt</span> <span class="n">existing</span> <span class="n">ssh</span> <span class="n">connections</span><span class="o">.</span> <span class="n">Proceed</span> <span class="k">with</span> <span class="n">operation</span> <span class="p">(</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="n">y</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">check if it's running</span><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ufw</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">it should be green and active</span><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="err">●</span> <span class="n">ufw</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Uncomplicated</span> <span class="n">firewall</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/.../</span><span class="n">ufw</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">e</span><span class="o">&gt;</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">active</span> 
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>     <span class="o">...</span>
</span></code></pre></div>
Close with Ctrl + C</p>
<p><a href="https://www.youtube.com/watch?v=XtRXm4FFK7Q" target="_blank">deeper dive on configuring firewall rules with UFW</a></p>
<hr />
<h2 id="finally-ditto-install-docs">finally, Ditto install docs<a class="headerlink" href="#finally-ditto-install-docs" title="Permanent link">⚓︎</a></h2>
<p>Resource: <a href="https://docs.soapbox.pub/ditto/install" target="_blank" alt="Ditto's installation docs">Ditto Installation Docs</a></p>
<h3 id="1-system-setup">1. System setup<a class="headerlink" href="#1-system-setup" title="Permanent link">⚓︎</a></h3>
<h4 id="1a-install-updates">1.a. Install updates<a class="headerlink" href="#1a-install-updates" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message terminal gives</span><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="n">Hit</span><span class="p">:</span><span class="mi">1</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span> <span class="n">InRelease</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="n">Get</span><span class="p">:</span><span class="mi">2</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span> <span class="n">InRelease</span> <span class="p">[</span><span class="mi">128</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="n">Get</span><span class="p">:</span><span class="mi">3</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">security</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">security</span> <span class="n">InRelease</span> <span class="p">[</span><span class="mi">128</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="n">Get</span><span class="p">:</span><span class="mi">4</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">backports</span> <span class="n">InRelease</span> <span class="p">[</span><span class="mi">128</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="n">Get</span><span class="p">:</span><span class="mi">5</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">security</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">security</span><span class="o">/</span><span class="n">main</span> <span class="n">i386</span> <span class="n">Packages</span> <span class="p">[</span><span class="mi">807</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="n">Get</span><span class="p">:</span><span class="mi">6</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span><span class="o">/</span><span class="n">main</span> <span class="n">i386</span> <span class="n">Packages</span> <span class="p">[</span><span class="mi">1024</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="n">Get</span><span class="p">:</span><span class="mi">7</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span><span class="o">/</span><span class="n">main</span> <span class="n">amd64</span> <span class="n">Packages</span> <span class="p">[</span><span class="mi">3534</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="o">...</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="n">sudo</span> <span class="n">apt</span> <span class="n">upgrade</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">message terminal gives</span><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="n">Reading</span> <span class="n">package</span> <span class="n">lists</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="n">Building</span> <span class="n">dependency</span> <span class="n">tree</span>       
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="n">Reading</span> <span class="n">state</span> <span class="n">information</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="n">Calculating</span> <span class="n">upgrade</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="n">The</span> <span class="n">following</span> <span class="n">NEW</span> <span class="n">packages</span> <span class="n">will</span> <span class="n">be</span> <span class="n">installed</span><span class="p">:</span>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="o">...</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="n">Do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span><span class="err">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="n">Y</span>
</span></code></pre></div></p>
<p>You should see a progress bar at the bottom. In my case, it prepped and unpacked a long list of files, including some errors of "couldn't resolve device".</p>
<h4 id="1b-install-system-dependencies">1.b. Install system dependencies<a class="headerlink" href="#1b-install-system-dependencies" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">git</span> <span class="n">curl</span> <span class="n">unzip</span> <span class="n">nginx</span> <span class="n">postgresql</span><span class="o">-</span><span class="n">contrib</span> <span class="n">certbot</span> <span class="n">python3</span><span class="o">-</span><span class="n">certbot</span><span class="o">-</span><span class="n">nginx</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="n">Reading</span> <span class="n">package</span> <span class="n">lists</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="n">Building</span> <span class="n">dependency</span> <span class="n">tree</span>       
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="n">Reading</span> <span class="n">state</span> <span class="n">information</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="n">The</span> <span class="n">following</span> <span class="n">packages</span> <span class="n">were</span> <span class="n">automatically</span> <span class="n">installed</span> <span class="ow">and</span> <span class="n">are</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">required</span><span class="p">:</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a>  <span class="n">linux</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="n">generic</span> <span class="n">linux</span><span class="o">-</span><span class="n">modules</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="n">generic</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a>  <span class="n">linux</span><span class="o">-</span><span class="n">modules</span><span class="o">-</span><span class="n">extra</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="n">generic</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="n">Use</span> <span class="s1">&#39;sudo apt autoremove&#39;</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">them</span><span class="o">.</span>
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="n">The</span> <span class="n">following</span> <span class="n">additional</span> <span class="n">packages</span> <span class="n">will</span> <span class="n">be</span> <span class="n">installed</span><span class="p">:</span>
</span><span id="__span-66-9"><a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a><span class="o">...</span>
</span><span id="__span-66-10"><a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a><span class="n">Do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span><span class="err">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="n">Y</span>
</span></code></pre></div></p>
<p>You should see a progress bar at the bottom, and another long list of files.</p>
<h4 id="1c-install-deno">1.c. Install deno<a class="headerlink" href="#1c-install-deno" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">fsSL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">deno</span><span class="o">.</span><span class="n">land</span><span class="o">/</span><span class="n">x</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">DENO_INSTALL</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span> <span class="n">sh</span> <span class="o">-</span><span class="n">s</span> <span class="n">v1</span><span class="mf">.45.2</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="n">INSTALL</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span> <span class="n">sh</span> <span class="o">-</span><span class="n">s</span> <span class="n">v1</span><span class="mf">.45.2</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="c1">######################################################################## 100.0%</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="n">Archive</span><span class="p">:</span>  <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span>     
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="n">Deno</span> <span class="n">was</span> <span class="n">installed</span> <span class="n">successfully</span> <span class="n">to</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="n">Run</span> <span class="s1">&#39;deno --help&#39;</span> <span class="n">to</span> <span class="n">get</span> <span class="n">started</span>
</span></code></pre></div></p>
<h4 id="1d-create-the-ditto-user">1.d. Create the Ditto user<a class="headerlink" href="#1d-create-the-ditto-user" title="Permanent link">⚓︎</a></h4>
<p><span class="omega">notes</span></p>
<p>Since the program, the user, and the database are all named ditto, I had a hard time distinguishing them to learn more about the commands in this process. </p>
<p>That also gave me some doubts on which password to use, and where, so I could have made a mistake somewhere. In two instances it seemed like it may need a password but, if I tried to type one, it would do so in plain text, which doesn't seem right.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="n">sudo</span> <span class="n">adduser</span> <span class="n">ditto</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">enter password for ditto user and retype it</span><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="n">Adding</span> <span class="n">user</span> <span class="err">`</span><span class="n">ditto</span><span class="s1">&#39; ...</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="n">Adding</span> <span class="n">new</span> <span class="n">group</span> <span class="err">`</span><span class="n">ditto</span><span class="s1">&#39; (1001) ...</span>
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="n">Adding</span> <span class="n">new</span> <span class="n">user</span> <span class="err">`</span><span class="n">ditto</span><span class="s1">&#39; (1001) with group `ditto&#39;</span> <span class="o">...</span>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="n">Creating</span> <span class="n">home</span> <span class="n">directory</span> <span class="err">`</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ditto</span><span class="s1">&#39; ...</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="n">Copying</span> <span class="n">files</span> <span class="kn">from</span> <span class="err">`</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">skel</span><span class="s1">&#39; ...</span>
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="n">New</span> <span class="n">password</span><span class="p">:</span> 
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="n">Retype</span> <span class="n">password</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">success message</span><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="n">passwd</span><span class="p">:</span> <span class="n">password</span> <span class="n">updated</span> <span class="n">successfully</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="n">Changing</span> <span class="n">the</span> <span class="n">user</span> <span class="n">information</span> <span class="k">for</span> <span class="n">ditto</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="n">Enter</span> <span class="n">the</span> <span class="n">new</span> <span class="n">value</span><span class="p">,</span> <span class="ow">or</span> <span class="n">press</span> <span class="n">ENTER</span> <span class="k">for</span> <span class="n">the</span> <span class="n">default</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter after each one, except the name, don't need to fill it in</span><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="n">Full</span> <span class="n">Name</span> <span class="p">[]:</span> <span class="n">ditto</span> 
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>  <span class="n">Room</span> <span class="n">Number</span> <span class="p">[]:</span> 
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a>  <span class="n">Work</span> <span class="n">Phone</span> <span class="p">[]:</span> 
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>  <span class="n">Home</span> <span class="n">Phone</span> <span class="p">[]:</span> 
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a>  <span class="n">Other</span> <span class="p">[]:</span>
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="n">Is</span> <span class="n">the</span> <span class="n">information</span> <span class="n">correct</span><span class="err">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span> <span class="n">Y</span>
</span></code></pre></div></p>
<h3 id="2-install-ditto">2. Install Ditto<a class="headerlink" href="#2-install-ditto" title="Permanent link">⚓︎</a></h3>
<h4 id="2a-download-source-code">2.a. Download source code<a class="headerlink" href="#2a-download-source-code" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="n">sudo</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">soapbox</span><span class="o">-</span><span class="n">pub</span><span class="o">/</span><span class="n">ditto</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="n">Cloning</span> <span class="n">into</span> <span class="s1">&#39;/opt/ditto&#39;</span><span class="o">...</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="n">warning</span><span class="p">:</span> <span class="n">redirecting</span> <span class="n">to</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">soapbox</span><span class="o">-</span><span class="n">pub</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">git</span><span class="o">/</span>
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Enumerating</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">13338</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">916</span><span class="o">/</span><span class="mi">916</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">333</span><span class="o">/</span><span class="mi">333</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Total</span> <span class="mi">13338</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">645</span><span class="p">),</span> <span class="n">reused</span> <span class="mi">816</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">582</span><span class="p">),</span> <span class="n">pack</span><span class="o">-</span><span class="n">reused</span> <span class="mi">12422</span> <span class="p">(</span><span class="kn">from</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="n">Receiving</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">13338</span><span class="o">/</span><span class="mi">13338</span><span class="p">),</span> <span class="mf">3.59</span> <span class="n">MiB</span> <span class="o">|</span> <span class="mf">20.11</span> <span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-75-8"><a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="n">Resolving</span> <span class="n">deltas</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">9586</span><span class="o">/</span><span class="mi">9586</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
</span></code></pre></div></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="n">sudo</span> <span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="n">ditto</span><span class="p">:</span><span class="n">ditto</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<p>No message appears.</p>
<div class="language-py highlight"><span class="filename">navigate to the ditto directory</span><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">notice the change in location</span><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="n">yourusername</span><span class="nd">@server1</span><span class="p">:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="err">$</span>
</span></code></pre></div>
<p>become ditto</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="n">sudo</span> <span class="n">su</span> <span class="n">ditto</span>
</span></code></pre></div>
no message appears.</p>
<h4 id="2b-configure-ditto">2.b. Configure Ditto<a class="headerlink" href="#2b-configure-ditto" title="Permanent link">⚓︎</a></h4>
<p>create an .env file</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="n">deno</span> <span class="n">task</span> <span class="n">setup</span>
</span></code></pre></div>
<span class="omega">Setting up this screen is one of the most confusing in the entire process. I am not sure I've added the correct information.</span></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="n">Task</span> <span class="n">setup</span> <span class="n">deno</span> <span class="n">run</span> <span class="o">-</span><span class="n">A</span> <span class="n">scripts</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">ts</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="n">Hello</span><span class="err">!</span> <span class="n">Welcome</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Ditto</span> <span class="n">setup</span> <span class="n">tool</span><span class="o">.</span> <span class="n">We</span> <span class="n">will</span> <span class="n">ask</span> <span class="n">you</span> <span class="n">a</span> <span class="n">few</span> <span class="n">questions</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">a</span> <span class="o">.</span><span class="n">env</span> <span class="n">file</span> <span class="k">for</span> <span class="n">you</span><span class="o">.</span>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a>
</span><span id="__span-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="o">-</span> <span class="n">Ditto</span> <span class="n">docs</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">docs</span><span class="o">.</span><span class="n">soapbox</span><span class="o">.</span><span class="n">pub</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span>
</span><span id="__span-81-6"><a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a><span class="o">-</span> <span class="n">Press</span> <span class="n">Ctrl</span><span class="o">+</span><span class="n">D</span> <span class="n">to</span> <span class="n">exit</span> <span class="n">at</span> <span class="nb">any</span> <span class="n">time</span><span class="o">.</span>
</span><span id="__span-81-7"><a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a>
</span><span id="__span-81-8"><a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a>  <span class="n">Generated</span> <span class="n">secret</span> <span class="n">key</span>
</span><span id="__span-81-9"><a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a>
</span><span id="__span-81-10"><a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a><span class="err">?</span> <span class="n">What</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">domain</span> <span class="n">of</span> <span class="n">your</span> <span class="n">instance</span><span class="err">?</span> <span class="p">(</span><span class="n">eg</span> <span class="n">ditto</span><span class="o">.</span><span class="n">pub</span><span class="p">)</span> <span class="p">[</span><span class="n">localhost</span><span class="p">:</span><span class="mi">4036</span><span class="p">]</span>
</span></code></pre></div>
<p>I had a hard time typing a website out, it had a bug (all three times I ran it) that showed what I was typing repeated multiple times, and it wouldn't delete the extra ones. So I just hit enter, and it kept</p>
<p>localhost:4036 </p>
<p><span class="omega">Is the 4036 an independent port, like the database port, or should it be the custom port used to access the server?</span></p>
<p><span class="omega">Should the IP be left as is, or exchanged for the server's IP?</span></p>
<p>I am guessing that the localhost:4036 needs to be updated in the .env file to either:</p>
<p>serverIP:customport</p>
<p>or</p>
<p>server@domain:customport</p>
<p>I have also tried it with the localhost IP. </p>
<div class="language-py highlight"><span class="filename">just hit enter, it will select postgres</span><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="n">Which</span> <span class="n">database</span> <span class="n">do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span><span class="err">?</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="o">&gt;</span> <span class="n">postgres</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a>  <span class="n">sqlite</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">host</span> <span class="n">localhost</span>
</span></code></pre></div>
<p><span class="omega">I left it as localhost, but since it is a VPS I don't know if I need to try * or something else , nor where to modify it after leaving it as is.</span></p>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">port</span> <span class="mi">5432</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">user</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">password</span> <span class="n">ditto</span>
</span></code></pre></div>
<p><span class="omega">
If enter a real password here, it shows in plain text, so I don't know if that's what it's requesting. I am guessing it is the name of the user that we need to enter (ditto). Is it? 
</span></p>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">database</span> <span class="n">dittodb</span>
</span></code></pre></div>
<p>I changed the name from ditto to dittodb, to try to distinguish between the user and its database, but then, as I went through the rest of the steps, I kept getting errors of either user does not exist or database doesn't exist. I'm not sure I set it up properly. Maybe there's a reason they're all ditto.</p>
<h4 id="media-uploads">media uploads<a class="headerlink" href="#media-uploads" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="n">How</span> <span class="n">do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">upload</span> <span class="n">files</span><span class="err">?</span> 
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="o">&gt;</span> <span class="n">nostrbuild</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a>  <span class="n">blossom</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a>  <span class="n">s3</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a>  <span class="n">ipfs</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a>  <span class="n">local</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="err">?</span> <span class="n">nostr</span><span class="o">.</span><span class="n">build</span> <span class="n">endpoint</span> <span class="p">[</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">nostr</span><span class="o">.</span><span class="n">build</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">upload</span><span class="o">/</span><span class="n">files</span><span class="p">]</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="n">Writing</span> <span class="n">to</span> <span class="o">.</span><span class="n">env</span> <span class="n">file</span><span class="o">...</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="n">Done</span>
</span></code></pre></div>
<h3 id="2c-add-soapbox">2.c. Add Soapbox<a class="headerlink" href="#2c-add-soapbox" title="Permanent link">⚓︎</a></h3>
<div class="language-py highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="n">deno</span> <span class="n">task</span> <span class="n">soapbox</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">a very very long list of files gets installed</span><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="n">Task</span> <span class="n">soapbox</span> <span class="n">curl</span> <span class="o">-</span><span class="n">O</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dl</span><span class="o">.</span><span class="n">soapbox</span><span class="o">.</span><span class="n">pub</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span> <span class="o">&amp;&amp;</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">public</span> <span class="o">&amp;&amp;</span> <span class="n">mv</span> <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span> <span class="n">public</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">public</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">unzip</span> <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span> <span class="o">&amp;&amp;</span> <span class="n">rm</span> <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a>  <span class="o">%</span> <span class="n">Total</span>    <span class="o">%</span> <span class="n">Received</span> <span class="o">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a>                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="mi">100</span> <span class="mf">20.8</span><span class="n">M</span>  <span class="mi">100</span> <span class="mf">20.8</span><span class="n">M</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">9666</span><span class="n">k</span>      <span class="mi">0</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="mi">9662</span><span class="n">k</span>
</span><span id="__span-92-5"><a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="n">Archive</span><span class="p">:</span>  <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-92-6"><a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">report</span><span class="o">.</span><span class="n">html</span>             
</span><span id="__span-92-7"><a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a>   <span class="n">creating</span><span class="p">:</span> <span class="n">packs</span><span class="o">/</span>
</span><span id="__span-92-8"><a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">packs</span><span class="o">/</span><span class="n">audio</span><span class="o">.</span><span class="n">worker</span><span class="o">-</span><span class="n">PmTdibbe</span><span class="o">.</span><span class="n">js</span>  
</span><span id="__span-92-9"><a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">packs</span><span class="o">/</span><span class="n">memory</span><span class="o">.</span><span class="n">worker</span><span class="o">-</span><span class="n">BoRe3qDz</span><span class="o">.</span><span class="n">js</span> 
</span><span id="__span-92-10"><a id="__codelineno-92-10" name="__codelineno-92-10" href="#__codelineno-92-10"></a>  <span class="o">...</span>
</span><span id="__span-92-11"><a id="__codelineno-92-11" name="__codelineno-92-11" href="#__codelineno-92-11"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">sw</span><span class="o">.</span><span class="n">js</span>                   
</span><span id="__span-92-12"><a id="__codelineno-92-12" name="__codelineno-92-12" href="#__codelineno-92-12"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">sw</span><span class="o">.</span><span class="n">js</span><span class="o">.</span><span class="n">map</span>               
</span><span id="__span-92-13"><a id="__codelineno-92-13" name="__codelineno-92-13" href="#__codelineno-92-13"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">index</span><span class="o">.</span><span class="n">html</span>              
</span><span id="__span-92-14"><a id="__codelineno-92-14" name="__codelineno-92-14" href="#__codelineno-92-14"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="mf">404.</span><span class="n">html</span>  
</span></code></pre></div>
<p>to stop being the ditto user, if you type exit just once, it doesn't change the directory location, you're still in /opt/ditto, but, I assume, you do stop being the ditto user.</p>
<div class="language-py highlight"><span class="filename">enter exit only once</span><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="n">exit</span>
</span></code></pre></div>
<h3 id="2d-provision-the-database">2.d. Provision the database<a class="headerlink" href="#2d-provision-the-database" title="Permanent link">⚓︎</a></h3>
<p>create postgress user and database (from within /opt/ditto)</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">createuser</span> <span class="o">-</span><span class="n">P</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter ditto user password</span><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="n">Enter</span> <span class="n">password</span> <span class="k">for</span> <span class="n">new</span> <span class="n">role</span><span class="p">:</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="n">Retype</span><span class="p">:</span>
</span></code></pre></div>
<p><span class="omega">I entered the existing ditto user password, should it have been a password for a second ditto user?</span></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">createdb</span> <span class="n">ditto</span> <span class="o">-</span><span class="n">O</span> <span class="n">dittodb</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">ditto</span> <span class="n">psql</span> <span class="n">dittodb</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="n">psql</span> <span class="p">(</span><span class="n">version</span> <span class="p">(</span><span class="n">Ubuntu</span><span class="p">)</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="n">Type</span> <span class="s2">&quot;help&quot;</span> <span class="k">for</span> <span class="n">help</span><span class="o">.</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="n">ditto</span><span class="o">=&gt;</span> <span class="n">ALTER</span> <span class="n">USER</span> <span class="n">ditto</span> <span class="n">WITH</span> <span class="n">PASSWORD</span> <span class="s1">&#39;added new database password&#39;</span><span class="p">;</span>
</span></code></pre></div>
<p><span class="omega">Unsure on this one, as the docs point out to use a previously entered password, so it could be the one for the second ditto user, or maybe it is to fill in the database password where I just left the word ditto previously. Or perhaps the second ditto user and the database password are the same. I added what I'd like the database password to be. </span></p>
<div class="language-py highlight"><span class="filename">close database</span><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a>\<span class="n">q</span>
</span></code></pre></div>
<h3 id="2e-start-ditto">2.e Start Ditto<a class="headerlink" href="#2e-start-ditto" title="Permanent link">⚓︎</a></h3>
<div class="language-py highlight"><span class="filename">from within the /opt/ditto folder</span><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="n">sudo</span> <span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">installation</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span>
</span></code></pre></div>
<p>no message appeared.</p>
<div class="language-py highlight"><span class="filename">to reload</span><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">daemon</span><span class="o">-</span><span class="n">reload</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enable ditto to run automatically</span><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="o">--</span><span class="n">now</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="n">Created</span> <span class="n">symlink</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">wants</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="err">→</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="o">.</span>
</span></code></pre></div>
<p>check if ditto is running</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
<p>stop process with Ctrl + C</p>
<p>It fails here, but I haven't updated the .env file yet. </p>
<h3 id="3-getting-online">3. Getting online<a class="headerlink" href="#3-getting-online" title="Permanent link">⚓︎</a></h3>
<h4 id="3a-configure-nginx">3.a. Configure Nginx<a class="headerlink" href="#3a-configure-nginx" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">correct location</span><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="n">sudo</span> <span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">installation</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">conf</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">conf</span>
</span></code></pre></div>
<p>open config file window to replace example.com with your domain</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">conf</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">original conf file for reference</span><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="c1"># Nginx configuration for Ditto.</span>
</span><span id="__span-107-2"><a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="c1">#</span>
</span><span id="__span-107-3"><a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="c1"># Edit this file to change occurences of &quot;example.com&quot; to your own domain.</span>
</span><span id="__span-107-4"><a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a>
</span><span id="__span-107-5"><a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a><span class="n">upstream</span> <span class="n">ditto</span> <span class="p">{</span>
</span><span id="__span-107-6"><a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a>  <span class="n">server</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">4036</span><span class="p">;</span>
</span><span id="__span-107-7"><a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a><span class="p">}</span>
</span><span id="__span-107-8"><a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a>
</span><span id="__span-107-9"><a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-107-10"><a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a>  <span class="n">listen</span> <span class="mi">80</span><span class="p">;</span>
</span><span id="__span-107-11"><a id="__codelineno-107-11" name="__codelineno-107-11" href="#__codelineno-107-11"></a>  <span class="n">listen</span> <span class="p">[::]:</span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-107-12"><a id="__codelineno-107-12" name="__codelineno-107-12" href="#__codelineno-107-12"></a>  <span class="n">location</span> <span class="o">/.</span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="o">/</span><span class="n">acme</span><span class="o">-</span><span class="n">challenge</span><span class="o">/</span> <span class="p">{</span> <span class="n">allow</span> <span class="nb">all</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-107-13"><a id="__codelineno-107-13" name="__codelineno-107-13" href="#__codelineno-107-13"></a>  <span class="n">location</span> <span class="o">/</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">301</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="err">$</span><span class="n">host</span><span class="err">$</span><span class="n">request_uri</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-107-14"><a id="__codelineno-107-14" name="__codelineno-107-14" href="#__codelineno-107-14"></a><span class="p">}</span>
</span><span id="__span-107-15"><a id="__codelineno-107-15" name="__codelineno-107-15" href="#__codelineno-107-15"></a>
</span><span id="__span-107-16"><a id="__codelineno-107-16" name="__codelineno-107-16" href="#__codelineno-107-16"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-107-17"><a id="__codelineno-107-17" name="__codelineno-107-17" href="#__codelineno-107-17"></a>  <span class="n">server_name</span> <span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">;</span>
</span><span id="__span-107-18"><a id="__codelineno-107-18" name="__codelineno-107-18" href="#__codelineno-107-18"></a>
</span><span id="__span-107-19"><a id="__codelineno-107-19" name="__codelineno-107-19" href="#__codelineno-107-19"></a>  <span class="n">keepalive_timeout</span> <span class="mi">70</span><span class="p">;</span>
</span><span id="__span-107-20"><a id="__codelineno-107-20" name="__codelineno-107-20" href="#__codelineno-107-20"></a>  <span class="n">sendfile</span> <span class="n">on</span><span class="p">;</span>
</span><span id="__span-107-21"><a id="__codelineno-107-21" name="__codelineno-107-21" href="#__codelineno-107-21"></a>  <span class="n">client_max_body_size</span> <span class="mi">100</span><span class="n">m</span><span class="p">;</span>
</span><span id="__span-107-22"><a id="__codelineno-107-22" name="__codelineno-107-22" href="#__codelineno-107-22"></a>  <span class="n">ignore_invalid_headers</span> <span class="n">off</span><span class="p">;</span>
</span><span id="__span-107-23"><a id="__codelineno-107-23" name="__codelineno-107-23" href="#__codelineno-107-23"></a>
</span><span id="__span-107-24"><a id="__codelineno-107-24" name="__codelineno-107-24" href="#__codelineno-107-24"></a>  <span class="n">proxy_http_version</span> <span class="mf">1.1</span><span class="p">;</span>
</span><span id="__span-107-25"><a id="__codelineno-107-25" name="__codelineno-107-25" href="#__codelineno-107-25"></a>  <span class="n">proxy_set_header</span> <span class="n">Upgrade</span> <span class="err">$</span><span class="n">http_upgrade</span><span class="p">;</span>
</span><span id="__span-107-26"><a id="__codelineno-107-26" name="__codelineno-107-26" href="#__codelineno-107-26"></a>  <span class="n">proxy_set_header</span> <span class="n">Connection</span> <span class="s2">&quot;upgrade&quot;</span><span class="p">;</span>
</span><span id="__span-107-27"><a id="__codelineno-107-27" name="__codelineno-107-27" href="#__codelineno-107-27"></a>  <span class="n">proxy_set_header</span> <span class="n">Host</span> <span class="err">$</span><span class="n">host</span><span class="p">;</span>
</span><span id="__span-107-28"><a id="__codelineno-107-28" name="__codelineno-107-28" href="#__codelineno-107-28"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Real</span><span class="o">-</span><span class="n">IP</span> <span class="err">$</span><span class="n">remote_addr</span><span class="p">;</span>
</span><span id="__span-107-29"><a id="__codelineno-107-29" name="__codelineno-107-29" href="#__codelineno-107-29"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">For</span> <span class="err">$</span><span class="n">proxy_add_x_forwarded_for</span><span class="p">;</span>
</span><span id="__span-107-30"><a id="__codelineno-107-30" name="__codelineno-107-30" href="#__codelineno-107-30"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Proto</span> <span class="err">$</span><span class="n">scheme</span><span class="p">;</span>
</span><span id="__span-107-31"><a id="__codelineno-107-31" name="__codelineno-107-31" href="#__codelineno-107-31"></a>
</span><span id="__span-107-32"><a id="__codelineno-107-32" name="__codelineno-107-32" href="#__codelineno-107-32"></a>  <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-107-33"><a id="__codelineno-107-33" name="__codelineno-107-33" href="#__codelineno-107-33"></a>
</span><span id="__span-107-34"><a id="__codelineno-107-34" name="__codelineno-107-34" href="#__codelineno-107-34"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">packs</span> <span class="p">{</span>
</span><span id="__span-107-35"><a id="__codelineno-107-35" name="__codelineno-107-35" href="#__codelineno-107-35"></a>    <span class="n">add_header</span> <span class="n">Cache</span><span class="o">-</span><span class="n">Control</span> <span class="s2">&quot;public, max-age=31536000, immutable&quot;</span><span class="p">;</span>
</span><span id="__span-107-36"><a id="__codelineno-107-36" name="__codelineno-107-36" href="#__codelineno-107-36"></a>    <span class="n">add_header</span> <span class="n">Strict</span><span class="o">-</span><span class="n">Transport</span><span class="o">-</span><span class="n">Security</span> <span class="s2">&quot;max-age=31536000&quot;</span> <span class="n">always</span><span class="p">;</span>
</span><span id="__span-107-37"><a id="__codelineno-107-37" name="__codelineno-107-37" href="#__codelineno-107-37"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-107-38"><a id="__codelineno-107-38" name="__codelineno-107-38" href="#__codelineno-107-38"></a>  <span class="p">}</span>
</span><span id="__span-107-39"><a id="__codelineno-107-39" name="__codelineno-107-39" href="#__codelineno-107-39"></a>
</span><span id="__span-107-40"><a id="__codelineno-107-40" name="__codelineno-107-40" href="#__codelineno-107-40"></a>  <span class="n">location</span> <span class="o">~</span> <span class="o">^/</span><span class="p">(</span><span class="n">instance</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span><span class="err">$</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span>\<span class="o">.</span><span class="n">map</span><span class="err">$</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-107-41"><a id="__codelineno-107-41" name="__codelineno-107-41" href="#__codelineno-107-41"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-107-42"><a id="__codelineno-107-42" name="__codelineno-107-42" href="#__codelineno-107-42"></a>    <span class="n">try_files</span> <span class="err">$</span><span class="n">uri</span> <span class="o">=</span><span class="mi">404</span><span class="p">;</span>
</span><span id="__span-107-43"><a id="__codelineno-107-43" name="__codelineno-107-43" href="#__codelineno-107-43"></a>  <span class="p">}</span>
</span><span id="__span-107-44"><a id="__codelineno-107-44" name="__codelineno-107-44" href="#__codelineno-107-44"></a>
</span><span id="__span-107-45"><a id="__codelineno-107-45" name="__codelineno-107-45" href="#__codelineno-107-45"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">metrics</span> <span class="p">{</span>
</span><span id="__span-107-46"><a id="__codelineno-107-46" name="__codelineno-107-46" href="#__codelineno-107-46"></a>    <span class="n">allow</span> <span class="mf">127.0.0.1</span><span class="p">;</span>
</span><span id="__span-107-47"><a id="__codelineno-107-47" name="__codelineno-107-47" href="#__codelineno-107-47"></a>    <span class="n">deny</span> <span class="nb">all</span><span class="p">;</span>
</span><span id="__span-107-48"><a id="__codelineno-107-48" name="__codelineno-107-48" href="#__codelineno-107-48"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-107-49"><a id="__codelineno-107-49" name="__codelineno-107-49" href="#__codelineno-107-49"></a>  <span class="p">}</span>
</span><span id="__span-107-50"><a id="__codelineno-107-50" name="__codelineno-107-50" href="#__codelineno-107-50"></a>
</span><span id="__span-107-51"><a id="__codelineno-107-51" name="__codelineno-107-51" href="#__codelineno-107-51"></a><span class="n">location</span> <span class="o">/</span> <span class="p">{</span>
</span><span id="__span-107-52"><a id="__codelineno-107-52" name="__codelineno-107-52" href="#__codelineno-107-52"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-107-53"><a id="__codelineno-107-53" name="__codelineno-107-53" href="#__codelineno-107-53"></a>  <span class="p">}</span>
</span><span id="__span-107-54"><a id="__codelineno-107-54" name="__codelineno-107-54" href="#__codelineno-107-54"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">updated file</span><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="c1"># Nginx configuration for Ditto.</span>
</span><span id="__span-108-2"><a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a><span class="c1">#</span>
</span><span id="__span-108-3"><a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a><span class="c1"># Edit this file to change occurences of &quot;example.com&quot; to your own domain.</span>
</span><span id="__span-108-4"><a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a>
</span><span id="__span-108-5"><a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a><span class="n">upstream</span> <span class="n">ditto</span> <span class="p">{</span>
</span><span id="__span-108-6"><a id="__codelineno-108-6" name="__codelineno-108-6" href="#__codelineno-108-6"></a>  <span class="n">server</span> <span class="mf">111.111.11.11</span><span class="p">:</span><span class="mi">2140</span><span class="p">;</span>
</span><span id="__span-108-7"><a id="__codelineno-108-7" name="__codelineno-108-7" href="#__codelineno-108-7"></a><span class="p">}</span>
</span><span id="__span-108-8"><a id="__codelineno-108-8" name="__codelineno-108-8" href="#__codelineno-108-8"></a>
</span><span id="__span-108-9"><a id="__codelineno-108-9" name="__codelineno-108-9" href="#__codelineno-108-9"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-108-10"><a id="__codelineno-108-10" name="__codelineno-108-10" href="#__codelineno-108-10"></a>  <span class="n">listen</span> <span class="mi">80</span><span class="p">;</span>
</span><span id="__span-108-11"><a id="__codelineno-108-11" name="__codelineno-108-11" href="#__codelineno-108-11"></a>  <span class="n">listen</span> <span class="p">[::]:</span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-108-12"><a id="__codelineno-108-12" name="__codelineno-108-12" href="#__codelineno-108-12"></a>  <span class="n">location</span> <span class="o">/.</span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="o">/</span><span class="n">acme</span><span class="o">-</span><span class="n">challenge</span><span class="o">/</span> <span class="p">{</span> <span class="n">allow</span> <span class="nb">all</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-108-13"><a id="__codelineno-108-13" name="__codelineno-108-13" href="#__codelineno-108-13"></a>  <span class="n">location</span> <span class="o">/</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">301</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="err">$</span><span class="n">host</span><span class="err">$</span><span class="n">request_uri</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-108-14"><a id="__codelineno-108-14" name="__codelineno-108-14" href="#__codelineno-108-14"></a><span class="p">}</span>
</span><span id="__span-108-15"><a id="__codelineno-108-15" name="__codelineno-108-15" href="#__codelineno-108-15"></a>
</span><span id="__span-108-16"><a id="__codelineno-108-16" name="__codelineno-108-16" href="#__codelineno-108-16"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-108-17"><a id="__codelineno-108-17" name="__codelineno-108-17" href="#__codelineno-108-17"></a>  <span class="n">server_name</span> <span class="n">owndomain</span><span class="o">.</span><span class="n">com</span><span class="p">;</span>
</span><span id="__span-108-18"><a id="__codelineno-108-18" name="__codelineno-108-18" href="#__codelineno-108-18"></a>
</span><span id="__span-108-19"><a id="__codelineno-108-19" name="__codelineno-108-19" href="#__codelineno-108-19"></a>  <span class="n">keepalive_timeout</span> <span class="mi">70</span><span class="p">;</span>
</span><span id="__span-108-20"><a id="__codelineno-108-20" name="__codelineno-108-20" href="#__codelineno-108-20"></a>  <span class="n">sendfile</span> <span class="n">on</span><span class="p">;</span>
</span><span id="__span-108-21"><a id="__codelineno-108-21" name="__codelineno-108-21" href="#__codelineno-108-21"></a>  <span class="n">client_max_body_size</span> <span class="mi">100</span><span class="n">m</span><span class="p">;</span>
</span><span id="__span-108-22"><a id="__codelineno-108-22" name="__codelineno-108-22" href="#__codelineno-108-22"></a>  <span class="n">ignore_invalid_headers</span> <span class="n">off</span><span class="p">;</span>
</span><span id="__span-108-23"><a id="__codelineno-108-23" name="__codelineno-108-23" href="#__codelineno-108-23"></a>
</span><span id="__span-108-24"><a id="__codelineno-108-24" name="__codelineno-108-24" href="#__codelineno-108-24"></a>  <span class="n">proxy_http_version</span> <span class="mf">1.1</span><span class="p">;</span>
</span><span id="__span-108-25"><a id="__codelineno-108-25" name="__codelineno-108-25" href="#__codelineno-108-25"></a>  <span class="n">proxy_set_header</span> <span class="n">Upgrade</span> <span class="err">$</span><span class="n">http_upgrade</span><span class="p">;</span>
</span><span id="__span-108-26"><a id="__codelineno-108-26" name="__codelineno-108-26" href="#__codelineno-108-26"></a>  <span class="n">proxy_set_header</span> <span class="n">Connection</span> <span class="s2">&quot;upgrade&quot;</span><span class="p">;</span>
</span><span id="__span-108-27"><a id="__codelineno-108-27" name="__codelineno-108-27" href="#__codelineno-108-27"></a>  <span class="n">proxy_set_header</span> <span class="n">Host</span> <span class="err">$</span><span class="n">host</span><span class="p">;</span>
</span><span id="__span-108-28"><a id="__codelineno-108-28" name="__codelineno-108-28" href="#__codelineno-108-28"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Real</span><span class="o">-</span><span class="n">IP</span> <span class="err">$</span><span class="n">remote_addr</span><span class="p">;</span>
</span><span id="__span-108-29"><a id="__codelineno-108-29" name="__codelineno-108-29" href="#__codelineno-108-29"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">For</span> <span class="err">$</span><span class="n">proxy_add_x_forwarded_for</span><span class="p">;</span>
</span><span id="__span-108-30"><a id="__codelineno-108-30" name="__codelineno-108-30" href="#__codelineno-108-30"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Proto</span> <span class="err">$</span><span class="n">scheme</span><span class="p">;</span>
</span><span id="__span-108-31"><a id="__codelineno-108-31" name="__codelineno-108-31" href="#__codelineno-108-31"></a>
</span><span id="__span-108-32"><a id="__codelineno-108-32" name="__codelineno-108-32" href="#__codelineno-108-32"></a>  <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-108-33"><a id="__codelineno-108-33" name="__codelineno-108-33" href="#__codelineno-108-33"></a>
</span><span id="__span-108-34"><a id="__codelineno-108-34" name="__codelineno-108-34" href="#__codelineno-108-34"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">packs</span> <span class="p">{</span>
</span><span id="__span-108-35"><a id="__codelineno-108-35" name="__codelineno-108-35" href="#__codelineno-108-35"></a>    <span class="n">add_header</span> <span class="n">Cache</span><span class="o">-</span><span class="n">Control</span> <span class="s2">&quot;public, max-age=31536000, immutable&quot;</span><span class="p">;</span>
</span><span id="__span-108-36"><a id="__codelineno-108-36" name="__codelineno-108-36" href="#__codelineno-108-36"></a>    <span class="n">add_header</span> <span class="n">Strict</span><span class="o">-</span><span class="n">Transport</span><span class="o">-</span><span class="n">Security</span> <span class="s2">&quot;max-age=31536000&quot;</span> <span class="n">always</span><span class="p">;</span>
</span><span id="__span-108-37"><a id="__codelineno-108-37" name="__codelineno-108-37" href="#__codelineno-108-37"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-108-38"><a id="__codelineno-108-38" name="__codelineno-108-38" href="#__codelineno-108-38"></a>  <span class="p">}</span>
</span><span id="__span-108-39"><a id="__codelineno-108-39" name="__codelineno-108-39" href="#__codelineno-108-39"></a>
</span><span id="__span-108-40"><a id="__codelineno-108-40" name="__codelineno-108-40" href="#__codelineno-108-40"></a>  <span class="n">location</span> <span class="o">~</span> <span class="o">^/</span><span class="p">(</span><span class="n">instance</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span><span class="err">$</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span>\<span class="o">.</span><span class="n">map</span><span class="err">$</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-108-41"><a id="__codelineno-108-41" name="__codelineno-108-41" href="#__codelineno-108-41"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-108-42"><a id="__codelineno-108-42" name="__codelineno-108-42" href="#__codelineno-108-42"></a>
</span><span id="__span-108-43"><a id="__codelineno-108-43" name="__codelineno-108-43" href="#__codelineno-108-43"></a>    <span class="n">try_files</span> <span class="err">$</span><span class="n">uri</span> <span class="o">=</span><span class="mi">404</span><span class="p">;</span>
</span><span id="__span-108-44"><a id="__codelineno-108-44" name="__codelineno-108-44" href="#__codelineno-108-44"></a>  <span class="p">}</span>
</span><span id="__span-108-45"><a id="__codelineno-108-45" name="__codelineno-108-45" href="#__codelineno-108-45"></a>
</span><span id="__span-108-46"><a id="__codelineno-108-46" name="__codelineno-108-46" href="#__codelineno-108-46"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">metrics</span> <span class="p">{</span>
</span><span id="__span-108-47"><a id="__codelineno-108-47" name="__codelineno-108-47" href="#__codelineno-108-47"></a>    <span class="n">allow</span> <span class="mf">111.111.11.11</span><span class="p">;</span>
</span><span id="__span-108-48"><a id="__codelineno-108-48" name="__codelineno-108-48" href="#__codelineno-108-48"></a>    <span class="c1"># changed to server IP</span>
</span><span id="__span-108-49"><a id="__codelineno-108-49" name="__codelineno-108-49" href="#__codelineno-108-49"></a>    <span class="n">deny</span> <span class="nb">all</span><span class="p">;</span>
</span><span id="__span-108-50"><a id="__codelineno-108-50" name="__codelineno-108-50" href="#__codelineno-108-50"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-108-51"><a id="__codelineno-108-51" name="__codelineno-108-51" href="#__codelineno-108-51"></a>  <span class="p">}</span>
</span><span id="__span-108-52"><a id="__codelineno-108-52" name="__codelineno-108-52" href="#__codelineno-108-52"></a>
</span><span id="__span-108-53"><a id="__codelineno-108-53" name="__codelineno-108-53" href="#__codelineno-108-53"></a><span class="n">location</span> <span class="o">/</span> <span class="p">{</span>
</span><span id="__span-108-54"><a id="__codelineno-108-54" name="__codelineno-108-54" href="#__codelineno-108-54"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-108-55"><a id="__codelineno-108-55" name="__codelineno-108-55" href="#__codelineno-108-55"></a>  <span class="p">}</span>
</span><span id="__span-108-56"><a id="__codelineno-108-56" name="__codelineno-108-56" href="#__codelineno-108-56"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>after changes</strong></p>
<p>If you make any other changes to the .env file, make sure to restart nginx. If you get any errors, the latest change you made is likely to be wrong.</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">nginx</span>
</span></code></pre></div>
<br></p>
<h5 id="3bi-setting-up-nginx-to-serve-local-uploads">3.b.i. Setting up nginx to serve local uploads<a class="headerlink" href="#3bi-setting-up-nginx-to-serve-local-uploads" title="Permanent link">⚓︎</a></h5>
<p>There's an extra step here if you didn't choose nostr.build for image uploads. </p>
<p><br></p>
<h4 id="3b-obtain-an-ssl-certificate">3.b. Obtain an SSL certificate<a class="headerlink" href="#3b-obtain-an-ssl-certificate" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">navigate back to your server's home folder (username@server) repeating the following command twice</span><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="n">cd</span> <span class="o">..</span>
</span></code></pre></div>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="n">sudo</span> <span class="n">certbot</span> <span class="o">--</span><span class="n">nginx</span>
</span></code></pre></div>
If your env file has no syntax errors, it will ask you for a contact email:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="n">Saving</span> <span class="n">debug</span> <span class="n">log</span> <span class="n">to</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">.</span><span class="n">log</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="n">Plugins</span> <span class="n">selected</span><span class="p">:</span> <span class="n">Authenticator</span> <span class="n">nginx</span><span class="p">,</span> <span class="n">Installer</span> <span class="n">nginx</span>
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="n">Enter</span> <span class="n">email</span> <span class="n">address</span> <span class="p">(</span><span class="n">used</span> <span class="k">for</span> <span class="n">urgent</span> <span class="n">renewal</span> <span class="ow">and</span> <span class="n">security</span> <span class="n">notices</span><span class="p">)</span> <span class="p">(</span><span class="n">Enter</span> <span class="s1">&#39;c&#39;</span> <span class="n">to</span>
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="n">cancel</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">agree to the terms of service</span><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="n">Please</span> <span class="n">read</span> <span class="n">the</span> <span class="n">Terms</span> <span class="n">of</span> <span class="n">Service</span> <span class="n">at</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">letsencrypt</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">documents</span><span class="o">/</span><span class="n">LE</span><span class="o">-</span><span class="n">SA</span><span class="o">-</span><span class="n">v1</span><span class="mf">.4</span><span class="o">-</span><span class="n">April</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mf">2024.</span><span class="n">pdf</span><span class="o">.</span> <span class="n">You</span> <span class="n">must</span> <span class="n">agree</span> <span class="ow">in</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="n">order</span> <span class="n">to</span> <span class="n">register</span> <span class="k">with</span> <span class="n">the</span> <span class="n">ACME</span> <span class="n">server</span> <span class="n">at</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">acme</span><span class="o">-</span><span class="n">v02</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">letsencrypt</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">directory</span>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="n">gree</span><span class="o">/</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="n">ancel</span><span class="p">:</span> <span class="n">A</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">share your email address</span><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="n">Would</span> <span class="n">you</span> <span class="n">be</span> <span class="n">willing</span> <span class="n">to</span> <span class="n">share</span> <span class="n">your</span> <span class="n">email</span> <span class="n">address</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Electronic</span> <span class="n">Frontier</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="n">Foundation</span><span class="p">,</span> <span class="n">a</span> <span class="n">founding</span> <span class="n">partner</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Let</span><span class="s1">&#39;s Encrypt project and the non-profit</span>
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="n">organization</span> <span class="n">that</span> <span class="n">develops</span> <span class="n">Certbot</span><span class="err">?</span> <span class="n">We</span><span class="s1">&#39;d like to send you email about our work</span>
</span><span id="__span-114-5"><a id="__codelineno-114-5" name="__codelineno-114-5" href="#__codelineno-114-5"></a><span class="n">encrypting</span> <span class="n">the</span> <span class="n">web</span><span class="p">,</span> <span class="n">EFF</span> <span class="n">news</span><span class="p">,</span> <span class="n">campaigns</span><span class="p">,</span> <span class="ow">and</span> <span class="n">ways</span> <span class="n">to</span> <span class="n">support</span> <span class="n">digital</span> <span class="n">freedom</span><span class="o">.</span>
</span><span id="__span-114-6"><a id="__codelineno-114-6" name="__codelineno-114-6" href="#__codelineno-114-6"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-114-7"><a id="__codelineno-114-7" name="__codelineno-114-7" href="#__codelineno-114-7"></a><span class="p">(</span><span class="n">Y</span><span class="p">)</span><span class="n">es</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="n">o</span><span class="p">:</span> <span class="n">N</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">it will display your domain name, hit enter</span><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="n">Which</span> <span class="n">names</span> <span class="n">would</span> <span class="n">you</span> <span class="n">like</span> <span class="n">to</span> <span class="n">activate</span> <span class="n">HTTPS</span> <span class="k">for</span><span class="err">?</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="mi">1</span><span class="p">:</span> <span class="n">your</span> <span class="n">domain</span> <span class="n">name</span>
</span><span id="__span-115-4"><a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-115-5"><a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="n">Select</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">numbers</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">commas</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">spaces</span><span class="p">,</span> <span class="ow">or</span> <span class="n">leave</span> <span class="nb">input</span>
</span><span id="__span-115-6"><a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a><span class="n">blank</span> <span class="n">to</span> <span class="n">select</span> <span class="nb">all</span> <span class="n">options</span> <span class="n">shown</span> <span class="p">(</span><span class="n">Enter</span> <span class="s1">&#39;c&#39;</span> <span class="n">to</span> <span class="n">cancel</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">choose your option</span><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="n">Please</span> <span class="n">choose</span> <span class="n">whether</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">to</span> <span class="n">redirect</span> <span class="n">HTTP</span> <span class="n">traffic</span> <span class="n">to</span> <span class="n">HTTPS</span><span class="p">,</span> <span class="n">removing</span> <span class="n">HTTP</span> <span class="n">access</span><span class="o">.</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="mi">1</span><span class="p">:</span> <span class="n">No</span> <span class="n">redirect</span> <span class="o">-</span> <span class="n">Make</span> <span class="n">no</span> <span class="n">further</span> <span class="n">changes</span> <span class="n">to</span> <span class="n">the</span> <span class="n">webserver</span> <span class="n">configuration</span><span class="o">.</span>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="mi">2</span><span class="p">:</span> <span class="n">Redirect</span> <span class="o">-</span> <span class="n">Make</span> <span class="nb">all</span> <span class="n">requests</span> <span class="n">redirect</span> <span class="n">to</span> <span class="n">secure</span> <span class="n">HTTPS</span> <span class="n">access</span><span class="o">.</span> <span class="n">Choose</span> <span class="n">this</span> <span class="k">for</span>
</span><span id="__span-116-5"><a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="n">new</span> <span class="n">sites</span><span class="p">,</span> <span class="ow">or</span> <span class="k">if</span> <span class="n">you</span> <span class="n">are</span> <span class="n">confident</span> <span class="n">your</span> <span class="n">site</span> <span class="n">works</span> <span class="n">on</span> <span class="n">HTTPS</span><span class="o">.</span> 
</span><span id="__span-116-6"><a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a><span class="n">You</span> <span class="n">can</span> <span class="n">undo</span> <span class="n">this</span>
</span><span id="__span-116-7"><a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="n">change</span> <span class="n">by</span> <span class="n">editing</span> <span class="n">your</span> <span class="n">web</span> <span class="n">server</span> <span class="n">s</span> <span class="n">configuration</span><span class="o">.</span>
</span><span id="__span-116-8"><a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-116-9"><a id="__codelineno-116-9" name="__codelineno-116-9" href="#__codelineno-116-9"></a><span class="n">Select</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">number</span> <span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="n">then</span> <span class="p">[</span><span class="n">enter</span><span class="p">]</span> <span class="p">(</span><span class="n">press</span> <span class="s1">&#39;c&#39;</span> <span class="n">to</span> <span class="n">cancel</span><span class="p">):</span> <span class="mi">2</span>
</span></code></pre></div>
<span class="omega">chose to redirect all traffic to https, not sure if all traffic to ditto arrives so</span></p>
<p><div class="language-py highlight"><span class="filename">success message with analyze link</span><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-117-2"><a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="n">Congratulations</span><span class="err">!</span> <span class="n">You</span> <span class="n">have</span> <span class="n">successfully</span> <span class="n">enabled</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">yourdomain</span>
</span><span id="__span-117-3"><a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a>
</span><span id="__span-117-4"><a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="n">You</span> <span class="n">should</span> <span class="n">test</span> <span class="n">your</span> <span class="n">configuration</span> <span class="n">at</span><span class="p">:</span>
</span><span id="__span-117-5"><a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">ssllabs</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ssltest</span><span class="o">/</span><span class="n">analyze</span><span class="o">.</span><span class="n">html</span><span class="err">?</span><span class="n">d</span><span class="o">=</span><span class="n">yourdomain</span>
</span><span id="__span-117-6"><a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-117-7"><a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a>
</span><span id="__span-117-8"><a id="__codelineno-117-8" name="__codelineno-117-8" href="#__codelineno-117-8"></a><span class="n">IMPORTANT</span> <span class="n">NOTES</span><span class="p">:</span>
</span><span id="__span-117-9"><a id="__codelineno-117-9" name="__codelineno-117-9" href="#__codelineno-117-9"></a> <span class="o">-</span> <span class="n">Congratulations</span><span class="err">!</span> <span class="n">Your</span> <span class="n">certificate</span> <span class="ow">and</span> <span class="n">chain</span> <span class="n">have</span> <span class="n">been</span> <span class="n">saved</span> <span class="n">at</span><span class="p">:</span>
</span><span id="__span-117-10"><a id="__codelineno-117-10" name="__codelineno-117-10" href="#__codelineno-117-10"></a>   <span class="o">...</span>
</span><span id="__span-117-11"><a id="__codelineno-117-11" name="__codelineno-117-11" href="#__codelineno-117-11"></a>   <span class="n">Your</span> <span class="n">cert</span> <span class="n">will</span> <span class="n">expire</span> <span class="n">on</span><span class="o">.</span> <span class="n">To</span> <span class="n">obtain</span> <span class="n">a</span> <span class="n">new</span> <span class="ow">or</span> <span class="n">tweaked</span>
</span><span id="__span-117-12"><a id="__codelineno-117-12" name="__codelineno-117-12" href="#__codelineno-117-12"></a>   <span class="n">version</span> <span class="n">of</span> <span class="n">this</span> <span class="n">certificate</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">future</span><span class="p">,</span> <span class="n">simply</span> <span class="n">run</span> <span class="n">certbot</span> <span class="n">again</span>
</span><span id="__span-117-13"><a id="__codelineno-117-13" name="__codelineno-117-13" href="#__codelineno-117-13"></a>   <span class="k">with</span> <span class="n">the</span> <span class="s2">&quot;certonly&quot;</span> <span class="n">option</span><span class="o">.</span> <span class="n">To</span> <span class="n">non</span><span class="o">-</span><span class="n">interactively</span> <span class="n">renew</span> <span class="o">*</span><span class="nb">all</span><span class="o">*</span> <span class="n">of</span>
</span><span id="__span-117-14"><a id="__codelineno-117-14" name="__codelineno-117-14" href="#__codelineno-117-14"></a>   <span class="n">your</span> <span class="n">certificates</span><span class="p">,</span> <span class="n">run</span> <span class="s2">&quot;certbot renew&quot;</span>
</span><span id="__span-117-15"><a id="__codelineno-117-15" name="__codelineno-117-15" href="#__codelineno-117-15"></a> <span class="o">-</span> <span class="n">Your</span> <span class="n">account</span> <span class="n">credentials</span> <span class="n">have</span> <span class="n">been</span> <span class="n">saved</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">Certbot</span>
</span><span id="__span-117-16"><a id="__codelineno-117-16" name="__codelineno-117-16" href="#__codelineno-117-16"></a>   <span class="n">configuration</span> <span class="n">directory</span> <span class="n">at</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">.</span> <span class="n">You</span> <span class="n">should</span> <span class="n">make</span> <span class="n">a</span>
</span><span id="__span-117-17"><a id="__codelineno-117-17" name="__codelineno-117-17" href="#__codelineno-117-17"></a>   <span class="n">secure</span> <span class="n">backup</span> <span class="n">of</span> <span class="n">this</span> <span class="n">folder</span> <span class="n">now</span><span class="o">.</span> <span class="n">This</span> <span class="n">configuration</span> <span class="n">directory</span> <span class="n">will</span>
</span><span id="__span-117-18"><a id="__codelineno-117-18" name="__codelineno-117-18" href="#__codelineno-117-18"></a>   <span class="n">also</span> <span class="n">contain</span> <span class="n">certificates</span> <span class="ow">and</span> <span class="n">private</span> <span class="n">keys</span> <span class="n">obtained</span> <span class="n">by</span> <span class="n">Certbot</span> <span class="n">so</span>
</span><span id="__span-117-19"><a id="__codelineno-117-19" name="__codelineno-117-19" href="#__codelineno-117-19"></a>   <span class="n">making</span> <span class="n">regular</span> <span class="n">backups</span> <span class="n">of</span> <span class="n">this</span> <span class="n">folder</span> <span class="ow">is</span> <span class="n">ideal</span><span class="o">.</span>
</span><span id="__span-117-20"><a id="__codelineno-117-20" name="__codelineno-117-20" href="#__codelineno-117-20"></a> <span class="o">-</span> <span class="n">If</span> <span class="n">you</span> <span class="n">like</span> <span class="n">Certbot</span><span class="p">,</span> <span class="n">please</span> <span class="n">consider</span> <span class="n">supporting</span> <span class="n">our</span> <span class="n">work</span> <span class="n">by</span><span class="p">:</span>
</span><span id="__span-117-21"><a id="__codelineno-117-21" name="__codelineno-117-21" href="#__codelineno-117-21"></a>
</span><span id="__span-117-22"><a id="__codelineno-117-22" name="__codelineno-117-22" href="#__codelineno-117-22"></a>   <span class="n">Donating</span> <span class="n">to</span> <span class="n">ISRG</span> <span class="o">/</span> <span class="n">Let</span><span class="s1">&#39;s Encrypt:   https://letsencrypt.org/donate</span>
</span><span id="__span-117-23"><a id="__codelineno-117-23" name="__codelineno-117-23" href="#__codelineno-117-23"></a>   <span class="n">Donating</span> <span class="n">to</span> <span class="n">EFF</span><span class="p">:</span>                    <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">eff</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">donate</span><span class="o">-</span><span class="n">le</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">visit the analyze link above</span><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="n">A</span> <span class="n">grade</span> 
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="k">for</span> 
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="n">certificate</span>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="n">protocol</span> <span class="n">support</span> 
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="n">key</span> <span class="n">exchange</span> 
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="n">cipher</span> <span class="n">strength</span>
</span><span id="__span-118-7"><a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a>
</span><span id="__span-118-8"><a id="__codelineno-118-8" name="__codelineno-118-8" href="#__codelineno-118-8"></a><span class="n">HTTP</span> <span class="n">request</span> <span class="n">failed</span>
</span><span id="__span-118-9"><a id="__codelineno-118-9" name="__codelineno-118-9" href="#__codelineno-118-9"></a><span class="n">Server</span> <span class="n">supports</span> <span class="n">TLS</span> <span class="mf">1.3</span>
</span><span id="__span-118-10"><a id="__codelineno-118-10" name="__codelineno-118-10" href="#__codelineno-118-10"></a><span class="n">Trusted</span> <span class="n">Yes</span>
</span><span id="__span-118-11"><a id="__codelineno-118-11" name="__codelineno-118-11" href="#__codelineno-118-11"></a>
</span><span id="__span-118-12"><a id="__codelineno-118-12" name="__codelineno-118-12" href="#__codelineno-118-12"></a><span class="n">It</span> <span class="n">expires</span> <span class="ow">in</span> <span class="n">over</span> <span class="mi">2</span> <span class="n">years</span>
</span></code></pre></div></p>
<p><a href="https://www.ssllabs.com/projects/documentation/index.html" target="_blank" alt="Qualys SSL labs">Qualys SSL labs documentation page</a></p>
<p>restart nginx</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">nginx</span>
</span></code></pre></div>
<p>The previous two times I got a 502 error.
Right now I'm getting a connection that has timed out. </p>
<p>check again if ditto is running</p>
<p>if checked from server home folder</p>
<p><div class="language-py highlight"><span class="filename">check status</span><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
stop process with Ctrl + C</p>
<div class="language-py highlight"><span class="filename">it's not running, here's the error message</span><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="err">●</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Ditto</span>
</span><span id="__span-121-2"><a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">enabled</span><span class="p">)</span>
</span><span id="__span-121-3"><a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">failed</span> <span class="p">(</span><span class="n">Result</span><span class="p">:</span> <span class="n">exit</span><span class="o">-</span><span class="n">code</span><span class="p">)</span> <span class="n">since</span> <span class="n">date</span> <span class="o">&amp;</span> <span class="n">time</span>
</span><span id="__span-121-4"><a id="__codelineno-121-4" name="__codelineno-121-4" href="#__codelineno-121-4"></a>    <span class="n">Process</span><span class="p">:</span> <span class="mi">64502</span> <span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> <span class="n">task</span> <span class="n">start</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAIL</span><span class="o">&gt;</span>
</span><span id="__span-121-5"><a id="__codelineno-121-5" name="__codelineno-121-5" href="#__codelineno-121-5"></a>   <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">64502</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAILURE</span><span class="p">)</span>
</span></code></pre></div>
<p>if checked from within /opt/ditto</p>
<p><div class="language-py highlight"><span class="filename">check status</span><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
stop process with Ctrl + C</p>
<div class="language-py highlight"><span class="filename">it's not running, here's the error message</span><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="err">●</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Ditto</span>
</span><span id="__span-123-2"><a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span><span class="o">&gt;</span>
</span><span id="__span-123-3"><a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">failed</span> <span class="p">(</span><span class="n">Result</span><span class="p">:</span> <span class="n">exit</span><span class="o">-</span><span class="n">code</span><span class="p">)</span> <span class="n">since</span> <span class="n">date</span> <span class="n">a</span><span class="o">&gt;</span>
</span><span id="__span-123-4"><a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a>    <span class="n">Process</span><span class="p">:</span> <span class="mi">64502</span> <span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> <span class="n">task</span> <span class="n">start</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">statu</span><span class="o">&gt;</span>
</span><span id="__span-123-5"><a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a>   <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">64502</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAILURE</span><span class="p">)</span>
</span><span id="__span-123-6"><a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a>
</span><span id="__span-123-7"><a id="__codelineno-123-7" name="__codelineno-123-7" href="#__codelineno-123-7"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">:</span> <span class="n">Scheduled</span><span class="o">&gt;</span>
</span><span id="__span-123-8"><a id="__codelineno-123-8" name="__codelineno-123-8" href="#__codelineno-123-8"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Stopped</span> <span class="n">Ditto</span><span class="o">.</span>
</span><span id="__span-123-9"><a id="__codelineno-123-9" name="__codelineno-123-9" href="#__codelineno-123-9"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">:</span> <span class="n">Start</span> <span class="n">req</span><span class="o">&gt;</span>
</span><span id="__span-123-10"><a id="__codelineno-123-10" name="__codelineno-123-10" href="#__codelineno-123-10"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">:</span> <span class="n">Failed</span> <span class="n">wi</span><span class="o">&gt;</span>
</span><span id="__span-123-11"><a id="__codelineno-123-11" name="__codelineno-123-11" href="#__codelineno-123-11"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">start</span> <span class="n">Ditto</span><span class="o">.</span>
</span></code></pre></div>
<hr />
<h2 id="restart-from-scratch">restart from scratch<a class="headerlink" href="#restart-from-scratch" title="Permanent link">⚓︎</a></h2>
<blockquote>
<p>Learning about tech means learning to make mistakes and trying again.</p>
</blockquote>
<p>If you reinstall the server software to try this process again from scratch, on the same server IP, you will get a scary warning like this one:</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="o">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span>
</span><span id="__span-124-2"><a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a><span class="o">@</span>    <span class="n">WARNING</span><span class="p">:</span> <span class="n">REMOTE</span> <span class="n">HOST</span> <span class="n">IDENTIFICATION</span> <span class="n">HAS</span> <span class="n">CHANGED</span><span class="err">!</span>     <span class="o">@</span>
</span><span id="__span-124-3"><a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="o">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span>
</span><span id="__span-124-4"><a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="n">IT</span> <span class="n">IS</span> <span class="n">POSSIBLE</span> <span class="n">THAT</span> <span class="n">SOMEONE</span> <span class="n">IS</span> <span class="n">DOING</span> <span class="n">SOMETHING</span> <span class="n">NASTY</span><span class="err">!</span>
</span><span id="__span-124-5"><a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a><span class="n">Someone</span> <span class="n">could</span> <span class="n">be</span> <span class="n">eavesdropping</span> <span class="n">on</span> <span class="n">you</span> <span class="n">right</span> <span class="n">now</span> <span class="p">(</span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span> <span class="n">attack</span><span class="p">)</span><span class="err">!</span>
</span><span id="__span-124-6"><a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a><span class="n">It</span> <span class="ow">is</span> <span class="n">also</span> <span class="n">possible</span> <span class="n">that</span> <span class="n">a</span> <span class="n">host</span> <span class="n">key</span> <span class="n">has</span> <span class="n">just</span> <span class="n">been</span> <span class="n">changed</span><span class="o">.</span>
</span></code></pre></div>
Don't worry, you can fix it by removing your old key from the server's IP:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">R</span> <span class="mf">111.111.11.11</span>
</span></code></pre></div>
<p>source: <a href="https://www.youtube.com/watch?v=SOjtB4n8WiE" target="blank" alt="How to Fix Warning Remote Host Identification Has Changed from Tony Teaches Tech">How to Fix Warning Remote Host Identification Has Changed</a></p>
<p><br>
<br>
<br></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../../terminology/index.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: terminology">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                terminology
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Powered by shaka hugs. Built to be free. Content and art released under a creative commons 0 license, except when content is about projects and art not created by elidy.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://nostr.com/npub1a7n2h5y3gt90y00mwrknhx74fyzzjqw25ehkscje58x9tfyhqd5snyvfnu" target="_blank" rel="noopener" title="nostr.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M21.1 33.9c12.7-4.6 26.9-.7 35.5 9.6L320 359.6V64c0-17.7 14.3-32 32-32s32 14.3 32 32v384c0 13.5-8.4 25.5-21.1 30.1s-26.9.7-35.5-9.6L64 152.4V448c0 17.7-14.3 32-32 32S0 465.7 0 448V64c0-13.5 8.4-25.5 21.1-30.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    

  <!-- Extra JavaScript (can't be set in mkdocs.yml due to content hash) -->
  <script src="../../../javascripts/extra.js"></script>

  </body>
</html>