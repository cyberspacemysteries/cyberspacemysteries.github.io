

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="exploring the why behind empowering technologies">
      
      
        <meta name="author" content="elidyweaver">
      
      
        <link rel="canonical" href="https://freedomweaver.tech/diy/nostr/ditto/index.html">
      
      
        <link rel="prev" href="../../../terminology/index.html">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>ditto - freedom weaver</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="../../../assets/external/unpkg.com/iframe-worker/shim.js"></script>
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

  <!-- Extra style sheets (can't be set in mkdocs.yml due to content hash) -->

  <link
    rel="stylesheet"
    href="../../../stylesheets/extra.css"
  />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ditto" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
 

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="freedom weaver" class="md-header__button md-logo" aria-label="freedom weaver" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            freedom weaver
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ditto
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to day mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to day mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to night mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to night mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </div>
  <div class="md-source__repository">
    cyberspacemysteries/cyberspacemysteries.github.io
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
    
  
  home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../read/index.html" class="md-tabs__link">
          
  
    
  
  read

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../now-and-then/index.html" class="md-tabs__link">
          
  
    
  
  now and then

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../buidl-hodl/index.html" class="md-tabs__link">
          
  
    
  
  research and ideas

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../freedom-tech-meetup/nostr/index.html" class="md-tabs__link">
          
  
    
  
  keep nostr weird

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../terminology/index.html" class="md-tabs__link">
          
  
    
  
  terminology

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
    
  
  DIY

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="freedom weaver" class="md-nav__button md-logo" aria-label="freedom weaver" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    freedom weaver
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </div>
  <div class="md-source__repository">
    cyberspacemysteries/cyberspacemysteries.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
  
  <span class="md-ellipsis">
    home
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    read
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            read
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../read/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - read
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            - read
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/page-1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1: truth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/page-2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2: badg3rground
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/page-3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3: knock, knock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/odds-and-ends.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odds and ends
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    now and then
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            now and then
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../now-and-then/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - now and then
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            - now and then
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    research and ideas
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            research and ideas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../buidl-hodl/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - BUIDL HODL
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            - BUIDL HODL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/freedom/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    freedom
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/experience/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    experience
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/keys/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    keys
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/limited/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    limited
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/time/before-and-after/nostr/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nostr in time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/openness/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/proof-of-work/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    proof of work
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/trust/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trust
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../buidl-hodl/value4value/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    value4value
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../gift-and-nemesis/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - gift and nemesis
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            - gift and nemesis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/decentralization/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    decentralization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/empowerment/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    empowerment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/ethics/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ethics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/incentives/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    incentives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/mistakes/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mistakes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/network-effects/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    network effects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/originality/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    originality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/protocols-over-platforms/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    protocols over platforms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gift-and-nemesis/truth/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    truth
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    keep nostr weird
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            keep nostr weird
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../freedom-tech-meetup/nostr/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - nostr meetup kit
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_1" id="__nav_5_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            - nostr meetup kit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-unlogo/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the unlogo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-unbadges/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the unbadges
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-untshirts/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the untshirts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../freedom-tech-meetup/nostr/the-nostr-unstickers/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    the unstickers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    terminology
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            terminology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../terminology/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    - terminology
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            - terminology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    DIY
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    - DIY
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            - DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terminal" class="md-nav__link">
    <span class="md-ellipsis">
      Terminal
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-need" class="md-nav__link">
    <span class="md-ellipsis">
      What you need...
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secure-your-vps" class="md-nav__link">
    <span class="md-ellipsis">
      secure your VPS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="secure your VPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-in-to-your-server-first-time" class="md-nav__link">
    <span class="md-ellipsis">
      log in to your server (first time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      new credentials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-keys" class="md-nav__link">
    <span class="md-ellipsis">
      SSH keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-your-ssh-keys-to-the-server" class="md-nav__link">
    <span class="md-ellipsis">
      copy your SSH keys to the server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ufw-uncomplicated-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      ufw (uncomplicated firewall)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ufw (uncomplicated firewall)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      setup firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configured-ports-list" class="md-nav__link">
    <span class="md-ellipsis">
      configured ports list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      enable ufw
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finally-ditto-install-docs" class="md-nav__link">
    <span class="md-ellipsis">
      finally, Ditto install docs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="finally, Ditto install docs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-system-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. System setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install-ditto" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install Ditto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      troubleshooting postgresql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2c-add-soapbox" class="md-nav__link">
    <span class="md-ellipsis">
      2.c. Add Soapbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2d-provision-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      2.d. Provision the database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2e-start-ditto" class="md-nav__link">
    <span class="md-ellipsis">
      2.e Start Ditto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-getting-online" class="md-nav__link">
    <span class="md-ellipsis">
      3. Getting online
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-in-error-message" class="md-nav__link">
    <span class="md-ellipsis">
      files in error message
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      restart from scratch
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io/edit/master/docs/diy/nostr/ditto/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io/raw/master/docs/diy/nostr/ditto/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="ditto">Ditto<a class="headerlink" href="#ditto" title="Permanent link">⚓︎</a></h1>
<p><strong>A different way of running on nostr, Ditto helps you host your own community, without needing to develop a nostr app yourself.</strong></p>
<!-- excerpt ends before this -->

<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">⚓︎</a></h2>
<p>Jumping into new rabbit holes means learning new information and testing it, often needing to troubleshoot. This journey is no different. </p>
<p>I have already tried to run Ditto a couple of times, restarting now from scratch a third time. The first time, I tried to follow the doc without any deviations. I tested a few changes in version two, but I kept getting a 502 nginx error. </p>
<p>This latest try, I documented the entire process here, modifying a few options. I don't get a 502 error, but the connection times out. </p>
<p>I hope this may be useful to people who know how this works to help me discover the issue that's preventing it from running. What's obvious in developers' eyes is often hard to see for newbies.</p>
<p>When we get it to work, I hope the process helps others run one as well, and learn from my mistakes on what not to do. </p>
<p>These steps will likely work if using Linux or MacOS (Sorry, no Windows)</p>
<p><span class="omega">Doubts and questions I have in the process are highlighted in cyan, often below the issue.</span></p>
<p>Resource: <a href="https://docs.soapbox.pub/ditto/install" target="_blank" alt="Ditto's installation docs">Ditto Installation Docs</a></p>
<h2 id="terminal">Terminal<a class="headerlink" href="#terminal" title="Permanent link">⚓︎</a></h2>
<p>If you are reading this and don't know how to use a terminal, I won't go through the details on how to use it. It can seem daunting, but it's like going into a digital library catalog and looking up information. You must, however, learn what to type in order to look it up. A lot of the time it's only a copy and paste process from installation docs like the one above, but if you run into issues, it helps to know what you are typing.</p>
<p>You can often locate it by searching "Terminal" and clicking on it. </p>
<p>It will open up an almost empty screen but for your home directory (user name followed by your computer's name). The location will change based on what you are doing, so keep an eye on where you are, so you can install items in the proper place.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">yourusername</span><span class="nd">@yourcomputer</span> <span class="o">~</span> <span class="o">%</span>
</span></code></pre></div>
<p>It's also not without help. Most of the time it guides you on what you're doing right, or at the very least, it doesn't show an error message if something was done correctly. For errors, it often suggests how to fix them. Some errors sound scarier than they are, sometimes they are sucess messages, so read carefully.</p>
<p>It does not understand typos. It is as if you were trying to speak a different language and the terminal did not understand you. It asks you to speak again, without the typos.  </p>
<p><strong>Passwords</strong></p>
<p>It's a good idea to paste your password when requested, instead of typing it in, because the terminal will not show you the passwords as you type. </p>
<p><strong>Hit enter</strong></p>
<p>Always hit enter after you type or paste a command or password.</p>
<h2 id="what-you-need">What you need...<a class="headerlink" href="#what-you-need" title="Permanent link">⚓︎</a></h2>
<blockquote>
<p>When starting to learn something new, always choose the recommended option</p>
</blockquote>
<p>Ditto docs recommends VPS with Ubuntu. </p>
<hr />
<ol>
<li>
<p>domain name</p>
</li>
<li>
<p>VPS plan (Ubuntu) - If you have ever hosted a website, then you likely know that hosting providers offer VPS plans, your server in the cloud, so it can run 24/7. Once subscribed to a plan, it will give you the following:</p>
<ul>
<li>
<p>IP address for your server (using 111.111.11.11 here as an example, please replace with your own)</p>
</li>
<li>
<p>SSH port of access (often 22 or replace with what your provider gives you)</p>
</li>
<li>
<p>Root (admin) password</p>
</li>
</ul>
</li>
</ol>
<p>Your hosting provider should have a tutorial on how to point your domain name to your server's IP address. </p>
<p>It will looking similar to this:</p>
<table>
<thead>
<tr>
<th>Record</th>
<th>Host</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>A Record</td>
<td>@</td>
<td>111.111.11.11 (example, enter your own)</td>
</tr>
<tr>
<td>CNAME Record</td>
<td>www</td>
<td>yourdomain.ending</td>
</tr>
</tbody>
</table>
<p>To check if your records point your website's domain to your IP you can enter:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">dig</span> <span class="n">yourwebsite</span><span class="o">.</span><span class="n">com</span> <span class="n">ANY</span> <span class="o">+</span><span class="n">noall</span> <span class="o">+</span> <span class="n">answer</span>
</span></code></pre></div>
<p><strong>recommended</strong></p>
<p>password manager</p>
<p>you will need to keep track of a few passwords. Password managers can help both save them and generate new ones for you. Choose long strong passwords with numbers, a mixture of uppercase and lowercase letters, and special characters.  </p>
<hr />
<blockquote>
<p>warnings exist for a reason, preventing future mistakes</p>
</blockquote>
<p>My hosting provider had a security warning on running a VPS from a root user. I'm documenting the steps to their security recommendations here.</p>
<p>Of course, going through best practices may also create additional steps or issues to solve, and, something in my initial setup, may be what's contributing to the 502 error.</p>
<h2 id="secure-your-vps">secure your VPS<a class="headerlink" href="#secure-your-vps" title="Permanent link">⚓︎</a></h2>
<p>remove root user &amp; set up a custom one</p>
<h3 id="log-in-to-your-server-first-time">log in to your server (first time)<a class="headerlink" href="#log-in-to-your-server-first-time" title="Permanent link">⚓︎</a></h3>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">ssh</span> <span class="n">root</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="o">-</span><span class="n">p22</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">The</span> <span class="n">authenticity</span> <span class="n">of</span> <span class="n">host</span> <span class="s1">&#39;111.111.11.11 (111.111.11.11)&#39;</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">established</span><span class="o">.</span> 
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">RSA</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="ow">is</span> <span class="n">SHA256</span><span class="p">:</span><span class="o">+.</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">This</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">known</span> <span class="n">by</span> <span class="nb">any</span> <span class="n">other</span> <span class="n">names</span><span class="o">.</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">Are</span> <span class="n">you</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">connecting</span> <span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">no</span><span class="o">/</span><span class="p">)</span><span class="err">?</span> 
</span></code></pre></div></p>
<p><div class="language-py highlight"><span class="filename">enter yes</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">yes</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a message like this one</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">Permanently</span> <span class="n">added</span> <span class="s1">&#39;111.111.11.11&#39;</span> <span class="p">(</span><span class="n">RSA</span><span class="p">)</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">known</span> <span class="n">hosts</span><span class="o">.</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">Connection</span> <span class="n">closed</span> <span class="n">by</span> <span class="mf">111.111.11.11</span> <span class="n">port</span> <span class="mi">22</span> 
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">you're back in your home directory</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">yourname</span><span class="nd">@yourcomputer</span> <span class="o">~</span> <span class="o">%</span>
</span></code></pre></div>
<h3 id="new-credentials">new credentials<a class="headerlink" href="#new-credentials" title="Permanent link">⚓︎</a></h3>
<div class="language-py highlight"><span class="filename">log in again</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">ssh</span> <span class="n">root</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="o">-</span><span class="n">p22</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter the password your service provider gave you</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">root</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="n">s</span> <span class="n">password</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">Welcome</span> <span class="n">to</span> <span class="n">Ubuntu</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a> <span class="o">*</span> <span class="n">Documentation</span><span class="p">:</span>  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">help</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a> <span class="o">*</span> <span class="n">Management</span><span class="p">:</span>     <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">landscape</span><span class="o">.</span><span class="n">canonical</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a> <span class="o">*</span> <span class="n">Support</span><span class="p">:</span>        <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">advantage</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">New</span> <span class="n">release</span> <span class="s1">&#39;&#39;</span> <span class="n">available</span><span class="o">.</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="n">Run</span> <span class="s1">&#39;do-release-upgrade&#39;</span> <span class="n">to</span> <span class="n">upgrade</span> <span class="n">to</span> <span class="n">it</span><span class="o">.</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">Last</span> <span class="n">login</span><span class="p">:</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">ending</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div>
<h4 id="create-a-new-user">create a new user<a class="headerlink" href="#create-a-new-user" title="Permanent link">⚓︎</a></h4>
<p>choose what your name you're going to use to access your server (yourusername).</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">useradd</span> <span class="o">-</span><span class="n">m</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;Admin&quot;</span>  <span class="n">yourusername</span> 
</span></code></pre></div>
<h4 id="set-a-new-password">set a new password<a class="headerlink" href="#set-a-new-password" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">passwd</span> <span class="n">yourusername</span> 
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal, after entering a password and retyping it</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">passwd</span><span class="p">:</span> <span class="n">password</span> <span class="n">updated</span> <span class="n">successfully</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">ending</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div></p>
<h4 id="give-admin-rights">give admin rights<a class="headerlink" href="#give-admin-rights" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">usermod</span> <span class="o">-</span><span class="n">aG</span> <span class="n">sudo</span> <span class="n">yourusername</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">if you don't get an error message, after hitting enter, and it looks like this, you're ok</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div></p>
<h4 id="test-if-it-works">test if it works<a class="headerlink" href="#test-if-it-works" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">switch to your username</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">sudo</span> <span class="n">su</span> <span class="o">-</span> <span class="n">yourusername</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">notice the directory change</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">yourusername</span><span class="nd">@server1</span><span class="p">:</span><span class="o">~</span><span class="err">$</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">run this command as a test</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">sudo</span> <span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="o">/</span><span class="n">root</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a similar list and its details, after entering yourusername's password</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">total</span> <span class="mi">21</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">drwx</span><span class="o">------</span>   
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="o">-</span><span class="n">rw</span><span class="o">-------</span>  <span class="o">.</span><span class="n">bash_history</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="n">drwx</span><span class="o">------</span>  <span class="n">cache</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  <span class="n">profile</span>
</span></code></pre></div>
<h4 id="disable-root">disable root<a class="headerlink" href="#disable-root" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">open config file</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span><span class="n">sshd_config</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">it will open a new window, look for PermitRootLogin (using the up and down arrows)</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># This is the sshd server system-wide configuration file.  See</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="c1"># sshd_config(5) for more information.</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="o">...</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1">#LoginGraceTime 2m</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="n">PermitRootLogin</span> <span class="n">yes</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="c1">#StrictModes yes</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c1">#MaxAuthTries 6</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="c1">#MaxSessions 10</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">set PermitRootLogin to no. Make sure there is no hashtag infront of it, unlike the other options. Hashtags are used to make comments that the program ignores.</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># This is the sshd server system-wide configuration file.  See</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="c1"># sshd_config(5) for more information.</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="o">...</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1">#LoginGraceTime 2m</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">PermitRootLogin</span> <span class="n">no</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="c1">#StrictModes yes</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="c1">#MaxAuthTries 6</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="c1">#MaxSessions 10</span>
</span></code></pre></div></p>
<h4 id="change-the-ssh-port">change the SSH port<a class="headerlink" href="#change-the-ssh-port" title="Permanent link">⚓︎</a></h4>
<p>In the same window you have open, remove the hashtag from port 22 and add another port of your preference (the example here is 2140)</p>
<div class="language-py highlight"><span class="filename">find port 22</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">#Port 22</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c1">#AddressFamily any</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="c1">#ListenAddress 0.0.0.0</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c1">#ListenAddress ::</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">remove the hashtag from Port 22 and add another port of your preference</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">Port</span> <span class="mi">22</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">Port</span> <span class="mi">2140</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="c1">#AddressFamily any</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1">#ListenAddress 0.0.0.0</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c1">#ListenAddress ::</span>
</span></code></pre></div>
Save with Ctrl + O </p>
<div class="language-py highlight"><span class="filename">you'll see the following message highlighted in the bottom bar</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">File</span> <span class="n">Name</span> <span class="n">to</span> <span class="n">Write</span><span class="p">:</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span><span class="n">sshd_config</span>
</span></code></pre></div>
<p>hit enter</p>
<p>Exit with Ctrl + X</p>
<p>Try one of the following three commands, if you get a command not found error, try a different one.</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">sudo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">sshd</span> <span class="n">restart</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">sudo</span> <span class="n">service</span> <span class="n">sshd</span> <span class="n">restart</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="n">sudo</span> <span class="n">restart</span> <span class="n">ssh</span>
</span></code></pre></div></p>
<p>when you are able to log out and log back in again with your custom port, make sure to enter the config file again and add a hashtag to comment out port 22</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">#Port 22</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">Port</span> <span class="mi">2140</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1">#AddressFamily any</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1">#ListenAddress 0.0.0.0</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c1">#Lis</span>
</span></code></pre></div>
<hr />
<h3 id="ssh-keys">SSH keys<a class="headerlink" href="#ssh-keys" title="Permanent link">⚓︎</a></h3>
<p>These keys (long strings of characters) authenticate you to your server. Generate new keys with the following, but don't do this if you already have keys in use to authenticate to this server or you may overwrite them.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">press enter to accept their recommended directory path</span><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">Generating</span> <span class="n">public</span><span class="o">/</span><span class="n">private</span> <span class="n">rsa</span> <span class="n">key</span> <span class="n">pair</span><span class="o">.</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">Enter</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">which</span> <span class="n">to</span> <span class="n">save</span> <span class="n">the</span> <span class="n">key</span> <span class="p">(</span><span class="o">/</span><span class="n">recommended</span><span class="o">-</span><span class="n">path</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter a strong password</span><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">Enter</span> <span class="n">passphrase</span> <span class="p">(</span><span class="n">empty</span> <span class="k">for</span> <span class="n">no</span> <span class="n">passphrase</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a similar message to this, along with randomart</span><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">Your</span> <span class="n">identification</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="ow">in</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="n">Your</span> <span class="n">public</span> <span class="n">key</span> <span class="n">has</span> <span class="n">been</span> <span class="n">saved</span> <span class="ow">in</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="n">The</span> <span class="n">keys</span> <span class="n">randomart</span> <span class="n">image</span> <span class="ow">is</span>
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">check if your keys exist, listed as id_rsa and id_rsa.pub</span><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="n">ls</span> <span class="o">-</span><span class="n">la</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span>
</span></code></pre></div>
<p><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/working-with-ssh-key-passphrases" target="_blank">deeper dive on passwords for SSH keys</a></p>
<h3 id="copy-your-ssh-keys-to-the-server">copy your SSH keys to the server<a class="headerlink" href="#copy-your-ssh-keys-to-the-server" title="Permanent link">⚓︎</a></h3>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">copy</span><span class="o">-</span><span class="nb">id</span> <span class="o">-</span><span class="n">p</span> <span class="mi">2140</span> <span class="n">yourusername</span><span class="o">@</span><span class="mf">111.111.11.11</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ssh</span><span class="o">-</span><span class="n">copy</span><span class="o">-</span><span class="nb">id</span><span class="p">:</span> <span class="n">INFO</span><span class="p">:</span> <span class="n">Source</span> <span class="n">of</span> <span class="n">key</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">to</span> <span class="n">be</span> <span class="n">installed</span><span class="p">:</span> <span class="s2">&quot;/route/id_rsa.pub&quot;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="n">The</span> <span class="n">authenticity</span> <span class="n">of</span> <span class="n">host</span> <span class="s1">&#39;[111.111.11.11]:yourcustomport ([111.111.11.11]:yourcustomport)&#39;</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">established</span><span class="o">.</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="n">RSA</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="ow">is</span> <span class="n">SHA256</span><span class="p">:</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="n">Are</span> <span class="n">you</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">connecting</span> <span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">no</span><span class="p">)</span><span class="err">?</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="n">yes</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter your password</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">yourusername</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="n">password</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">success message</span><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">Number</span> <span class="n">of</span> <span class="n">key</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">added</span><span class="p">:</span> <span class="mi">1</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="n">Now</span> <span class="k">try</span> <span class="n">loggin</span> <span class="n">into</span> <span class="n">the</span> <span class="n">machine</span> <span class="k">with</span><span class="p">:</span> 
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="ow">and</span> <span class="n">check</span> <span class="n">to</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">that</span> <span class="n">only</span> <span class="n">the</span> <span class="n">key</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">you</span> <span class="n">wanted</span> <span class="n">were</span> <span class="n">added</span><span class="o">.</span>
</span></code></pre></div></p>
<h4 id="log-in-with-your-custom-settings">Log in with your custom settings<a class="headerlink" href="#log-in-with-your-custom-settings" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">exit twice to get back to your home folder</span><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="n">exit</span>
</span></code></pre></div>
<p>log back in</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">ssh</span> <span class="n">yourusername</span><span class="o">@</span><span class="mf">111.111.11.11</span> <span class="o">-</span><span class="n">p2140</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you'll get a message like this one</span><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="n">Welcome</span> <span class="n">to</span> <span class="n">Ubuntu</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a> <span class="o">*</span> <span class="n">Documentation</span><span class="p">:</span>  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">help</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a> <span class="o">*</span> <span class="n">Management</span><span class="p">:</span>     <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">landscape</span><span class="o">.</span><span class="n">canonical</span><span class="o">.</span><span class="n">com</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a> <span class="o">*</span> <span class="n">Support</span><span class="p">:</span>        <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">advantage</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="n">New</span> <span class="n">release</span> <span class="s1">&#39;&#39;</span> <span class="n">available</span><span class="o">.</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="n">Run</span> <span class="s1">&#39;do-release-upgrade&#39;</span> <span class="n">to</span> <span class="n">upgrade</span> <span class="n">to</span> <span class="n">it</span><span class="o">.</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="n">Last</span> <span class="n">login</span><span class="p">:</span> <span class="n">date</span> <span class="ow">and</span> <span class="n">time</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="p">[]</span> <span class="p">[</span><span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">ending</span> <span class="o">~</span><span class="p">]</span> <span class="c1"># </span>
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">check if your key has been saved</span><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="n">nano</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">authorized_keys</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you should see your key in a new window</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">rsa</span> <span class="o">...</span>
</span></code></pre></div>
<p>exit with Ctrl + X</p>
<hr />
<h2 id="ufw-uncomplicated-firewall">ufw (uncomplicated firewall)<a class="headerlink" href="#ufw-uncomplicated-firewall" title="Permanent link">⚓︎</a></h2>
<p>ubuntu should already have ufw installed</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="n">ufw</span> <span class="n">status</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">you should see this message</span><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="n">Status</span><span class="p">:</span> <span class="n">inactive</span>
</span></code></pre></div>
<p>if it's not installed:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="n">apt</span> <span class="n">install</span> <span class="n">ufw</span>
</span></code></pre></div>
<h3 id="setup-firewall">setup firewall<a class="headerlink" href="#setup-firewall" title="Permanent link">⚓︎</a></h3>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">deny</span> <span class="n">incoming</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="n">Default</span> <span class="n">incoming</span> <span class="n">policy</span> <span class="n">changed</span> <span class="n">to</span> <span class="s1">&#39;deny&#39;</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="p">(</span><span class="n">be</span> <span class="n">sure</span> <span class="n">to</span> <span class="n">update</span> <span class="n">your</span> <span class="n">rules</span> <span class="n">accordingly</span><span class="p">)</span>
</span></code></pre></div></p>
<p><div class="language-py highlight"><span class="filename">let your server access the internet</span><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="n">outgoing</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="n">Default</span> <span class="n">outgoing</span> <span class="n">policy</span> <span class="n">changed</span> <span class="n">to</span> <span class="s1">&#39;allow&#39;</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="p">(</span><span class="n">be</span> <span class="n">sure</span> <span class="n">to</span> <span class="n">update</span> <span class="n">your</span> <span class="n">rules</span> <span class="n">accordingly</span><span class="p">)</span>
</span></code></pre></div></p>
<div class="language-py highlight"><span class="filename">allow your custom port</span><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="mi">2140</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">allow http</span><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="n">http</span><span class="o">/</span><span class="n">tcp</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">allow port for ssl certifificate</span><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="mi">443</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">allow port for database</span><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">default</span> <span class="n">allow</span> <span class="mi">5432</span>
</span></code></pre></div>
<p><span class="omega">if changing the access port for the server makes it more secure, could the database port be customized too? would it improve security or could it block some connections?</span></p>
<p>Leaving as is, 5432.</p>
<h3 id="configured-ports-list">configured ports list<a class="headerlink" href="#configured-ports-list" title="Permanent link">⚓︎</a></h3>
<p>this command will list the ports you have configured</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="n">sudo</span> <span class="n">ufw</span> <span class="n">status</span>
</span></code></pre></div>
<h3 id="enable-ufw">enable ufw<a class="headerlink" href="#enable-ufw" title="Permanent link">⚓︎</a></h3>
<p>So far, the ufw has been disabled. As long as the port you use to access the server is allowed, you should be ok to log back in. </p>
<p>However, you can test if you can log in by opening a separate terminal window, without closing the one you are in. </p>
<p>Once you are sure of your settings: </p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="n">ufw</span> <span class="n">enable</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="n">Command</span> <span class="n">may</span> <span class="n">disrupt</span> <span class="n">existing</span> <span class="n">ssh</span> <span class="n">connections</span><span class="o">.</span> <span class="n">Proceed</span> <span class="k">with</span> <span class="n">operation</span> <span class="p">(</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="n">y</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">check if it's running</span><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ufw</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">it should be green and active</span><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="err">●</span> <span class="n">ufw</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Uncomplicated</span> <span class="n">firewall</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/.../</span><span class="n">ufw</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">e</span><span class="o">&gt;</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">active</span> 
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>     <span class="o">...</span>
</span></code></pre></div>
Close with Ctrl + C</p>
<p><a href="https://www.youtube.com/watch?v=XtRXm4FFK7Q" target="_blank">deeper dive on configuring firewall rules with UFW</a></p>
<hr />
<h2 id="finally-ditto-install-docs">finally, Ditto install docs<a class="headerlink" href="#finally-ditto-install-docs" title="Permanent link">⚓︎</a></h2>
<p>Resource: <a href="https://docs.soapbox.pub/ditto/install" target="_blank" alt="Ditto's installation docs">Ditto Installation Docs</a></p>
<h3 id="1-system-setup">1. System setup<a class="headerlink" href="#1-system-setup" title="Permanent link">⚓︎</a></h3>
<h4 id="1a-install-updates">1.a. Install updates<a class="headerlink" href="#1a-install-updates" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message terminal gives</span><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="n">Hit</span><span class="p">:</span><span class="mi">1</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span> <span class="n">InRelease</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="n">Get</span><span class="p">:</span><span class="mi">2</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span> <span class="n">InRelease</span> <span class="p">[</span><span class="mi">128</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="n">Get</span><span class="p">:</span><span class="mi">3</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">security</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">security</span> <span class="n">InRelease</span> <span class="p">[</span><span class="mi">128</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="n">Get</span><span class="p">:</span><span class="mi">4</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">backports</span> <span class="n">InRelease</span> <span class="p">[</span><span class="mi">128</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="n">Get</span><span class="p">:</span><span class="mi">5</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">security</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">security</span><span class="o">/</span><span class="n">main</span> <span class="n">i386</span> <span class="n">Packages</span> <span class="p">[</span><span class="mi">807</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="n">Get</span><span class="p">:</span><span class="mi">6</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span><span class="o">/</span><span class="n">main</span> <span class="n">i386</span> <span class="n">Packages</span> <span class="p">[</span><span class="mi">1024</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="n">Get</span><span class="p">:</span><span class="mi">7</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">archive</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ubuntu</span> <span class="n">focal</span><span class="o">-</span><span class="n">updates</span><span class="o">/</span><span class="n">main</span> <span class="n">amd64</span> <span class="n">Packages</span> <span class="p">[</span><span class="mi">3534</span> <span class="n">kB</span><span class="p">]</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="o">...</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="n">All</span> <span class="n">packages</span> <span class="n">are</span> <span class="n">up</span> <span class="n">to</span> <span class="n">date</span><span class="o">.</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="n">sudo</span> <span class="n">apt</span> <span class="n">upgrade</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">message terminal gives</span><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="n">Reading</span> <span class="n">package</span> <span class="n">lists</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="n">Building</span> <span class="n">dependency</span> <span class="n">tree</span>       
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="n">Reading</span> <span class="n">state</span> <span class="n">information</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="n">Calculating</span> <span class="n">upgrade</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="n">The</span> <span class="n">following</span> <span class="n">NEW</span> <span class="n">packages</span> <span class="n">will</span> <span class="n">be</span> <span class="n">installed</span><span class="p">:</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="o">...</span>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="n">Do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span><span class="err">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="n">Y</span>
</span></code></pre></div></p>
<p>You should see a progress bar at the bottom. In my case, it prepped and unpacked a long list of files, including some errors of "couldn't resolve device".</p>
<h4 id="1b-install-system-dependencies">1.b. Install system dependencies<a class="headerlink" href="#1b-install-system-dependencies" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">git</span> <span class="n">curl</span> <span class="n">unzip</span> <span class="n">nginx</span> <span class="n">postgresql</span><span class="o">-</span><span class="n">contrib</span> <span class="n">certbot</span> <span class="n">python3</span><span class="o">-</span><span class="n">certbot</span><span class="o">-</span><span class="n">nginx</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="n">Reading</span> <span class="n">package</span> <span class="n">lists</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="n">Building</span> <span class="n">dependency</span> <span class="n">tree</span>       
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="n">Reading</span> <span class="n">state</span> <span class="n">information</span><span class="o">...</span> <span class="n">Done</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="n">The</span> <span class="n">following</span> <span class="n">packages</span> <span class="n">were</span> <span class="n">automatically</span> <span class="n">installed</span> <span class="ow">and</span> <span class="n">are</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">required</span><span class="p">:</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a>  <span class="n">linux</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="n">generic</span> <span class="n">linux</span><span class="o">-</span><span class="n">modules</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="n">generic</span>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a>  <span class="n">linux</span><span class="o">-</span><span class="n">modules</span><span class="o">-</span><span class="n">extra</span><span class="o">-</span><span class="mf">5.4.0</span><span class="o">-</span><span class="mi">26</span><span class="o">-</span><span class="n">generic</span>
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="n">Use</span> <span class="s1">&#39;sudo apt autoremove&#39;</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">them</span><span class="o">.</span>
</span><span id="__span-67-8"><a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="n">The</span> <span class="n">following</span> <span class="n">additional</span> <span class="n">packages</span> <span class="n">will</span> <span class="n">be</span> <span class="n">installed</span><span class="p">:</span>
</span><span id="__span-67-9"><a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="o">...</span>
</span><span id="__span-67-10"><a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a><span class="n">Do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span><span class="err">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="n">Y</span>
</span></code></pre></div></p>
<p>You should see a progress bar at the bottom, and another long list of files.</p>
<h4 id="1c-install-deno">1.c. Install deno<a class="headerlink" href="#1c-install-deno" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="n">curl</span> <span class="o">-</span><span class="n">fsSL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">deno</span><span class="o">.</span><span class="n">land</span><span class="o">/</span><span class="n">x</span><span class="o">/</span><span class="n">install</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">DENO_INSTALL</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span> <span class="n">sh</span> <span class="o">-</span><span class="n">s</span> <span class="n">v1</span><span class="mf">.45.2</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="n">INSTALL</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span> <span class="n">sh</span> <span class="o">-</span><span class="n">s</span> <span class="n">v1</span><span class="mf">.45.2</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="c1">######################################################################## 100.0%</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="n">Archive</span><span class="p">:</span>  <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span>     
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="n">Deno</span> <span class="n">was</span> <span class="n">installed</span> <span class="n">successfully</span> <span class="n">to</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span>
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="n">Run</span> <span class="s1">&#39;deno --help&#39;</span> <span class="n">to</span> <span class="n">get</span> <span class="n">started</span>
</span></code></pre></div></p>
<h4 id="1d-create-the-ditto-user">1.d. Create the Ditto user<a class="headerlink" href="#1d-create-the-ditto-user" title="Permanent link">⚓︎</a></h4>
<p><span class="omega">notes</span></p>
<p>Since the program, the user, and the database are all named ditto, I had a hard time distinguishing them to learn more about the commands in this process. </p>
<p>That also gave me some doubts on which password to use, and where, so I could have made a mistake somewhere. In two instances it seemed like it may need a password but, if I tried to type one, it would do so in plain text, which doesn't seem right.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="n">sudo</span> <span class="n">adduser</span> <span class="n">ditto</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">enter password for ditto user and retype it</span><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="n">Adding</span> <span class="n">user</span> <span class="err">`</span><span class="n">ditto</span><span class="s1">&#39; ...</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="n">Adding</span> <span class="n">new</span> <span class="n">group</span> <span class="err">`</span><span class="n">ditto</span><span class="s1">&#39; (1001) ...</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="n">Adding</span> <span class="n">new</span> <span class="n">user</span> <span class="err">`</span><span class="n">ditto</span><span class="s1">&#39; (1001) with group `ditto&#39;</span> <span class="o">...</span>
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="n">Creating</span> <span class="n">home</span> <span class="n">directory</span> <span class="err">`</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ditto</span><span class="s1">&#39; ...</span>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="n">Copying</span> <span class="n">files</span> <span class="kn">from</span> <span class="err">`</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">skel</span><span class="s1">&#39; ...</span>
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="n">New</span> <span class="n">password</span><span class="p">:</span> 
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="n">Retype</span> <span class="n">password</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">success message</span><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="n">passwd</span><span class="p">:</span> <span class="n">password</span> <span class="n">updated</span> <span class="n">successfully</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="n">Changing</span> <span class="n">the</span> <span class="n">user</span> <span class="n">information</span> <span class="k">for</span> <span class="n">ditto</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="n">Enter</span> <span class="n">the</span> <span class="n">new</span> <span class="n">value</span><span class="p">,</span> <span class="ow">or</span> <span class="n">press</span> <span class="n">ENTER</span> <span class="k">for</span> <span class="n">the</span> <span class="n">default</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter after each one, except the name, don't need to fill it in</span><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="n">Full</span> <span class="n">Name</span> <span class="p">[]:</span> <span class="n">ditto</span> 
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>  <span class="n">Room</span> <span class="n">Number</span> <span class="p">[]:</span> 
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a>  <span class="n">Work</span> <span class="n">Phone</span> <span class="p">[]:</span> 
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a>  <span class="n">Home</span> <span class="n">Phone</span> <span class="p">[]:</span> 
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a>  <span class="n">Other</span> <span class="p">[]:</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="n">Is</span> <span class="n">the</span> <span class="n">information</span> <span class="n">correct</span><span class="err">?</span> <span class="p">[</span><span class="n">Y</span><span class="o">/</span><span class="n">n</span><span class="p">]</span> <span class="n">Y</span>
</span></code></pre></div></p>
<h3 id="2-install-ditto">2. Install Ditto<a class="headerlink" href="#2-install-ditto" title="Permanent link">⚓︎</a></h3>
<h4 id="2a-download-source-code">2.a. Download source code<a class="headerlink" href="#2a-download-source-code" title="Permanent link">⚓︎</a></h4>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="n">sudo</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">soapbox</span><span class="o">-</span><span class="n">pub</span><span class="o">/</span><span class="n">ditto</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="n">Cloning</span> <span class="n">into</span> <span class="s1">&#39;/opt/ditto&#39;</span><span class="o">...</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="n">warning</span><span class="p">:</span> <span class="n">redirecting</span> <span class="n">to</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">soapbox</span><span class="o">-</span><span class="n">pub</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">git</span><span class="o">/</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Enumerating</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">13338</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Counting</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">916</span><span class="o">/</span><span class="mi">916</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Compressing</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">333</span><span class="o">/</span><span class="mi">333</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="n">remote</span><span class="p">:</span> <span class="n">Total</span> <span class="mi">13338</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">645</span><span class="p">),</span> <span class="n">reused</span> <span class="mi">816</span> <span class="p">(</span><span class="n">delta</span> <span class="mi">582</span><span class="p">),</span> <span class="n">pack</span><span class="o">-</span><span class="n">reused</span> <span class="mi">12422</span> <span class="p">(</span><span class="kn">from</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="n">Receiving</span> <span class="n">objects</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">13338</span><span class="o">/</span><span class="mi">13338</span><span class="p">),</span> <span class="mf">3.59</span> <span class="n">MiB</span> <span class="o">|</span> <span class="mf">20.11</span> <span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span> <span class="n">done</span><span class="o">.</span>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="n">Resolving</span> <span class="n">deltas</span><span class="p">:</span> <span class="mi">100</span><span class="o">%</span> <span class="p">(</span><span class="mi">9586</span><span class="o">/</span><span class="mi">9586</span><span class="p">),</span> <span class="n">done</span><span class="o">.</span>
</span></code></pre></div></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="n">sudo</span> <span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="n">ditto</span><span class="p">:</span><span class="n">ditto</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<p>No message appears.</p>
<div class="language-py highlight"><span class="filename">navigate to the ditto directory</span><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">notice the change in location</span><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="n">yourusername</span><span class="nd">@server1</span><span class="p">:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="err">$</span>
</span></code></pre></div>
<p>become ditto</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="n">sudo</span> <span class="n">su</span> <span class="n">ditto</span>
</span></code></pre></div>
no message appears.</p>
<h4 id="2b-configure-ditto">2.b. Configure Ditto<a class="headerlink" href="#2b-configure-ditto" title="Permanent link">⚓︎</a></h4>
<p>create an .env file</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="n">deno</span> <span class="n">task</span> <span class="n">setup</span>
</span></code></pre></div>
<span class="omega">Setting up this screen is one of the most confusing in the entire process. I am not sure I've added the correct information.</span></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="n">Task</span> <span class="n">setup</span> <span class="n">deno</span> <span class="n">run</span> <span class="o">-</span><span class="n">A</span> <span class="n">scripts</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">ts</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="n">Hello</span><span class="err">!</span> <span class="n">Welcome</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Ditto</span> <span class="n">setup</span> <span class="n">tool</span><span class="o">.</span> <span class="n">We</span> <span class="n">will</span> <span class="n">ask</span> <span class="n">you</span> <span class="n">a</span> <span class="n">few</span> <span class="n">questions</span> <span class="n">to</span> <span class="n">generate</span> <span class="n">a</span> <span class="o">.</span><span class="n">env</span> <span class="n">file</span> <span class="k">for</span> <span class="n">you</span><span class="o">.</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a>
</span><span id="__span-82-5"><a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="o">-</span> <span class="n">Ditto</span> <span class="n">docs</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">docs</span><span class="o">.</span><span class="n">soapbox</span><span class="o">.</span><span class="n">pub</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span>
</span><span id="__span-82-6"><a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="o">-</span> <span class="n">Press</span> <span class="n">Ctrl</span><span class="o">+</span><span class="n">D</span> <span class="n">to</span> <span class="n">exit</span> <span class="n">at</span> <span class="nb">any</span> <span class="n">time</span><span class="o">.</span>
</span><span id="__span-82-7"><a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a>
</span><span id="__span-82-8"><a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a>  <span class="n">Generated</span> <span class="n">secret</span> <span class="n">key</span>
</span><span id="__span-82-9"><a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a>
</span><span id="__span-82-10"><a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="err">?</span> <span class="n">What</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">domain</span> <span class="n">of</span> <span class="n">your</span> <span class="n">instance</span><span class="err">?</span> <span class="p">(</span><span class="n">eg</span> <span class="n">ditto</span><span class="o">.</span><span class="n">pub</span><span class="p">)</span> <span class="p">[</span><span class="n">localhost</span><span class="p">:</span><span class="mi">4036</span><span class="p">]</span>
</span></code></pre></div>
<p>I had a hard time typing a website out, it had a bug (all three times I ran it) that showed what I was typing repeated multiple times, and it wouldn't delete the extra ones. So I just hit enter, and it kept</p>
<p>localhost:4036 </p>
<p><span class="omega">Is the 4036 an independent port, like the database port, or should it be the custom port used to access the server?</span></p>
<p><span class="omega">Should the IP be left as is, or exchanged for the server's IP?</span></p>
<p>I am guessing that the localhost:4036 needs to be updated in the .env file to either:</p>
<p>serverIP:customport</p>
<p>or</p>
<p>server@domain:customport</p>
<p>I have also tried it with the localhost IP. </p>
<div class="language-py highlight"><span class="filename">just hit enter, it will select postgres</span><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="n">Which</span> <span class="n">database</span> <span class="n">do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span><span class="err">?</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="o">&gt;</span> <span class="n">postgres</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a>  <span class="n">sqlite</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">host</span> <span class="n">localhost</span>
</span></code></pre></div>
<p><span class="omega">I left it as localhost, but since it is a VPS I don't know if I need to try * or something else , nor where to modify it after leaving it as is.</span></p>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">port</span> <span class="mi">5432</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">user</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">password</span> <span class="n">ditto</span>
</span></code></pre></div>
<p><span class="omega">
If I enter a real password here, it shows in plain text, so I don't know if that's what it's requesting. I am guessing it is the name of the user that we need to enter (ditto). Is it? 
</span></p>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="err">?</span> <span class="n">Postgres</span> <span class="n">database</span> <span class="n">dittodb</span>
</span></code></pre></div>
<p>I changed the name from ditto to dittodb, to try to distinguish between the user and its database, but then, as I went through the rest of the steps, I kept getting errors of either user does not exist or database doesn't exist. I'm not sure I set it up properly. Maybe there's a reason they're all ditto.</p>
<h4 id="media-uploads">media uploads<a class="headerlink" href="#media-uploads" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="n">How</span> <span class="n">do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">upload</span> <span class="n">files</span><span class="err">?</span> 
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="o">&gt;</span> <span class="n">nostrbuild</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a>  <span class="n">blossom</span>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a>  <span class="n">s3</span>
</span><span id="__span-89-5"><a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a>  <span class="n">ipfs</span>
</span><span id="__span-89-6"><a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a>  <span class="n">local</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">hit enter</span><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="err">?</span> <span class="n">nostr</span><span class="o">.</span><span class="n">build</span> <span class="n">endpoint</span> <span class="p">[</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">nostr</span><span class="o">.</span><span class="n">build</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">upload</span><span class="o">/</span><span class="n">files</span><span class="p">]</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="n">Writing</span> <span class="n">to</span> <span class="o">.</span><span class="n">env</span> <span class="n">file</span><span class="o">...</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="n">Done</span>
</span></code></pre></div>
<h3 id="troubleshooting-postgresql">troubleshooting postgresql<a class="headerlink" href="#troubleshooting-postgresql" title="Permanent link">⚓︎</a></h3>
<p>learning more about the database
adjusting config files to allow connection to VPS, in case that solves for the error</p>
<p>source: <a href="https://www.youtube.com/watch?v=Seadsujb4Zk" alt="YouTube video to troubleshoot issue in Spanish" target="_blank">3) CURSO VPS - Instalando PostgresQL en Ubuntu y configurar el acceso remoto</a></p>
<hr />
<p>log in as yourusername to postgres database</p>
<div class="language-py highlight"><span class="filename">navigate to /opt/ditto, if not there already</span><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<p>if requested, enter ditto password, then exit (as you are logged in as ditto)</p>
<p>if requested yourusername password, continue</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">psql</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="n">psql</span> <span class="p">(</span><span class="mf">12.20</span> <span class="p">(</span><span class="n">Ubuntu</span> <span class="mf">12.20</span><span class="o">-</span><span class="mi">0</span><span class="n">ubuntu0</span><span class="mf">.20.04.1</span><span class="p">))</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="n">Type</span> <span class="s2">&quot;help&quot;</span> <span class="k">for</span> <span class="n">help</span><span class="o">.</span>
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a>
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="n">postgres</span><span class="o">=</span><span class="c1">#</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">find config file</span><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="n">SHOW</span> <span class="n">config_file</span><span class="p">;</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a> <span class="n">config_file</span>               
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="o">-----------------------------------------</span>
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">postgresql</span><span class="o">.</span><span class="n">conf</span>
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="p">(</span><span class="mi">1</span> <span class="n">row</span><span class="p">)</span>
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a>
</span><span id="__span-96-6"><a id="__codelineno-96-6" name="__codelineno-96-6" href="#__codelineno-96-6"></a><span class="n">postgres</span><span class="o">=</span><span class="c1">#</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">quit</span><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a>\<span class="n">q</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">copy file route from above</span><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">postgresql</span><span class="o">.</span><span class="n">conf</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">original (very long) config file window</span><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="c1"># -----------------------------</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="c1"># PostgreSQL configuration file</span>
</span><span id="__span-99-3"><a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="c1"># -----------------------------</span>
</span><span id="__span-99-4"><a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="c1">#</span>
</span><span id="__span-99-5"><a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="c1"># This file consists of lines of the form:</span>
</span><span id="__span-99-6"><a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="c1">#</span>
</span><span id="__span-99-7"><a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a><span class="c1">#   name = value</span>
</span><span id="__span-99-8"><a id="__codelineno-99-8" name="__codelineno-99-8" href="#__codelineno-99-8"></a><span class="c1">#</span>
</span><span id="__span-99-9"><a id="__codelineno-99-9" name="__codelineno-99-9" href="#__codelineno-99-9"></a><span class="c1"># (The &quot;=&quot; is optional.)  Whitespace may be used.  Comments are introduced with</span>
</span><span id="__span-99-10"><a id="__codelineno-99-10" name="__codelineno-99-10" href="#__codelineno-99-10"></a><span class="c1"># &quot;#&quot; anywhere on a line.  The complete list of parameter names and allowed</span>
</span><span id="__span-99-11"><a id="__codelineno-99-11" name="__codelineno-99-11" href="#__codelineno-99-11"></a><span class="c1"># values can be found in the PostgreSQL documentation.</span>
</span><span id="__span-99-12"><a id="__codelineno-99-12" name="__codelineno-99-12" href="#__codelineno-99-12"></a><span class="c1">#</span>
</span><span id="__span-99-13"><a id="__codelineno-99-13" name="__codelineno-99-13" href="#__codelineno-99-13"></a><span class="c1"># The commented-out settings shown in this file represent the default values.</span>
</span><span id="__span-99-14"><a id="__codelineno-99-14" name="__codelineno-99-14" href="#__codelineno-99-14"></a><span class="c1"># Re-commenting a setting is NOT sufficient to revert it to the default value;</span>
</span><span id="__span-99-15"><a id="__codelineno-99-15" name="__codelineno-99-15" href="#__codelineno-99-15"></a><span class="c1"># you need to reload the server.</span>
</span><span id="__span-99-16"><a id="__codelineno-99-16" name="__codelineno-99-16" href="#__codelineno-99-16"></a><span class="c1">#</span>
</span><span id="__span-99-17"><a id="__codelineno-99-17" name="__codelineno-99-17" href="#__codelineno-99-17"></a><span class="c1"># This file is read on server startup and when the server receives a SIGHUP</span>
</span><span id="__span-99-18"><a id="__codelineno-99-18" name="__codelineno-99-18" href="#__codelineno-99-18"></a><span class="c1"># signal.  If you edit the file on a running system, you have to SIGHUP the</span>
</span><span id="__span-99-19"><a id="__codelineno-99-19" name="__codelineno-99-19" href="#__codelineno-99-19"></a><span class="c1"># server for the changes to take effect, run &quot;pg_ctl reload&quot;, or execute</span>
</span><span id="__span-99-20"><a id="__codelineno-99-20" name="__codelineno-99-20" href="#__codelineno-99-20"></a><span class="c1"># &quot;SELECT pg_reload_conf()&quot;.  Some parameters, which are marked below,</span>
</span><span id="__span-99-21"><a id="__codelineno-99-21" name="__codelineno-99-21" href="#__codelineno-99-21"></a><span class="c1"># require a server shutdown and restart to take effect.</span>
</span><span id="__span-99-22"><a id="__codelineno-99-22" name="__codelineno-99-22" href="#__codelineno-99-22"></a><span class="c1">#</span>
</span><span id="__span-99-23"><a id="__codelineno-99-23" name="__codelineno-99-23" href="#__codelineno-99-23"></a><span class="c1"># Any parameter can also be given as a command-line option to the server, e.g.,</span>
</span><span id="__span-99-24"><a id="__codelineno-99-24" name="__codelineno-99-24" href="#__codelineno-99-24"></a><span class="c1"># &quot;postgres -c log_connections=on&quot;.  Some parameters can be changed at run time</span>
</span><span id="__span-99-25"><a id="__codelineno-99-25" name="__codelineno-99-25" href="#__codelineno-99-25"></a><span class="c1"># with the &quot;SET&quot; SQL command.</span>
</span><span id="__span-99-26"><a id="__codelineno-99-26" name="__codelineno-99-26" href="#__codelineno-99-26"></a><span class="c1">#</span>
</span><span id="__span-99-27"><a id="__codelineno-99-27" name="__codelineno-99-27" href="#__codelineno-99-27"></a><span class="c1"># Memory units:  B  = bytes            Time units:  us  = microseconds</span>
</span><span id="__span-99-28"><a id="__codelineno-99-28" name="__codelineno-99-28" href="#__codelineno-99-28"></a><span class="c1">#                kB = kilobytes                     ms  = milliseconds</span>
</span><span id="__span-99-29"><a id="__codelineno-99-29" name="__codelineno-99-29" href="#__codelineno-99-29"></a><span class="c1">#                MB = megabytes                     s   = seconds</span>
</span><span id="__span-99-30"><a id="__codelineno-99-30" name="__codelineno-99-30" href="#__codelineno-99-30"></a><span class="c1">#                GB = gigabytes                     min = minutes</span>
</span><span id="__span-99-31"><a id="__codelineno-99-31" name="__codelineno-99-31" href="#__codelineno-99-31"></a><span class="c1">#                TB = terabytes                     h   = hours</span>
</span><span id="__span-99-32"><a id="__codelineno-99-32" name="__codelineno-99-32" href="#__codelineno-99-32"></a><span class="c1">#                                                   d   = days</span>
</span><span id="__span-99-33"><a id="__codelineno-99-33" name="__codelineno-99-33" href="#__codelineno-99-33"></a>
</span><span id="__span-99-34"><a id="__codelineno-99-34" name="__codelineno-99-34" href="#__codelineno-99-34"></a>
</span><span id="__span-99-35"><a id="__codelineno-99-35" name="__codelineno-99-35" href="#__codelineno-99-35"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-36"><a id="__codelineno-99-36" name="__codelineno-99-36" href="#__codelineno-99-36"></a><span class="c1"># FILE LOCATIONS</span>
</span><span id="__span-99-37"><a id="__codelineno-99-37" name="__codelineno-99-37" href="#__codelineno-99-37"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-38"><a id="__codelineno-99-38" name="__codelineno-99-38" href="#__codelineno-99-38"></a>
</span><span id="__span-99-39"><a id="__codelineno-99-39" name="__codelineno-99-39" href="#__codelineno-99-39"></a><span class="c1"># The default values of these variables are driven from the -D command-line</span>
</span><span id="__span-99-40"><a id="__codelineno-99-40" name="__codelineno-99-40" href="#__codelineno-99-40"></a><span class="c1"># option or PGDATA environment variable, represented here as ConfigDir.</span>
</span><span id="__span-99-41"><a id="__codelineno-99-41" name="__codelineno-99-41" href="#__codelineno-99-41"></a>
</span><span id="__span-99-42"><a id="__codelineno-99-42" name="__codelineno-99-42" href="#__codelineno-99-42"></a><span class="n">data_directory</span> <span class="o">=</span> <span class="s1">&#39;/var/lib/postgresql/12/main&#39;</span>          <span class="c1"># use data in another directory</span>
</span><span id="__span-99-43"><a id="__codelineno-99-43" name="__codelineno-99-43" href="#__codelineno-99-43"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-44"><a id="__codelineno-99-44" name="__codelineno-99-44" href="#__codelineno-99-44"></a><span class="n">hba_file</span> <span class="o">=</span> <span class="s1">&#39;/etc/postgresql/12/main/pg_hba.conf&#39;</span>        <span class="c1"># host-based authentication file</span>
</span><span id="__span-99-45"><a id="__codelineno-99-45" name="__codelineno-99-45" href="#__codelineno-99-45"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-46"><a id="__codelineno-99-46" name="__codelineno-99-46" href="#__codelineno-99-46"></a><span class="n">ident_file</span> <span class="o">=</span> <span class="s1">&#39;/etc/postgresql/12/main/pg_ident.conf&#39;</span>    <span class="c1"># ident configuration file</span>
</span><span id="__span-99-47"><a id="__codelineno-99-47" name="__codelineno-99-47" href="#__codelineno-99-47"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-48"><a id="__codelineno-99-48" name="__codelineno-99-48" href="#__codelineno-99-48"></a>
</span><span id="__span-99-49"><a id="__codelineno-99-49" name="__codelineno-99-49" href="#__codelineno-99-49"></a><span class="c1"># If external_pid_file is not explicitly set, no extra PID file is written.</span>
</span><span id="__span-99-50"><a id="__codelineno-99-50" name="__codelineno-99-50" href="#__codelineno-99-50"></a><span class="n">external_pid_file</span> <span class="o">=</span> <span class="s1">&#39;/var/run/postgresql/12-main.pid&#39;</span>                   <span class="c1"># write an extra PID &gt;</span>
</span><span id="__span-99-51"><a id="__codelineno-99-51" name="__codelineno-99-51" href="#__codelineno-99-51"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-52"><a id="__codelineno-99-52" name="__codelineno-99-52" href="#__codelineno-99-52"></a>
</span><span id="__span-99-53"><a id="__codelineno-99-53" name="__codelineno-99-53" href="#__codelineno-99-53"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-54"><a id="__codelineno-99-54" name="__codelineno-99-54" href="#__codelineno-99-54"></a><span class="c1"># CONNECTIONS AND AUTHENTICATION</span>
</span><span id="__span-99-55"><a id="__codelineno-99-55" name="__codelineno-99-55" href="#__codelineno-99-55"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-56"><a id="__codelineno-99-56" name="__codelineno-99-56" href="#__codelineno-99-56"></a>
</span><span id="__span-99-57"><a id="__codelineno-99-57" name="__codelineno-99-57" href="#__codelineno-99-57"></a><span class="c1"># - Connection Settings -</span>
</span><span id="__span-99-58"><a id="__codelineno-99-58" name="__codelineno-99-58" href="#__codelineno-99-58"></a>
</span><span id="__span-99-59"><a id="__codelineno-99-59" name="__codelineno-99-59" href="#__codelineno-99-59"></a><span class="c1">#listen_addresses = &#39;localhost&#39;         # what IP address(es) to listen on;</span>
</span><span id="__span-99-60"><a id="__codelineno-99-60" name="__codelineno-99-60" href="#__codelineno-99-60"></a>                                        <span class="c1"># comma-separated list of addresses;</span>
</span><span id="__span-99-61"><a id="__codelineno-99-61" name="__codelineno-99-61" href="#__codelineno-99-61"></a>                                        <span class="c1"># defaults to &#39;localhost&#39;; use &#39;*&#39; for all</span>
</span><span id="__span-99-62"><a id="__codelineno-99-62" name="__codelineno-99-62" href="#__codelineno-99-62"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-63"><a id="__codelineno-99-63" name="__codelineno-99-63" href="#__codelineno-99-63"></a><span class="n">port</span> <span class="o">=</span> <span class="mi">5432</span>                             <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-64"><a id="__codelineno-99-64" name="__codelineno-99-64" href="#__codelineno-99-64"></a><span class="n">max_connections</span> <span class="o">=</span> <span class="mi">100</span>                   <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-65"><a id="__codelineno-99-65" name="__codelineno-99-65" href="#__codelineno-99-65"></a><span class="c1">#superuser_reserved_connections = 3     # (change requires restart)</span>
</span><span id="__span-99-66"><a id="__codelineno-99-66" name="__codelineno-99-66" href="#__codelineno-99-66"></a><span class="n">unix_socket_directories</span> <span class="o">=</span> <span class="s1">&#39;/var/run/postgresql&#39;</span> <span class="c1"># comma-separated list of directories</span>
</span><span id="__span-99-67"><a id="__codelineno-99-67" name="__codelineno-99-67" href="#__codelineno-99-67"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-68"><a id="__codelineno-99-68" name="__codelineno-99-68" href="#__codelineno-99-68"></a><span class="c1">#unix_socket_group = &#39;&#39;                 # (change requires restart)</span>
</span><span id="__span-99-69"><a id="__codelineno-99-69" name="__codelineno-99-69" href="#__codelineno-99-69"></a><span class="c1">#unix_socket_permissions = 0777         # begin with 0 to use octal notation</span>
</span><span id="__span-99-70"><a id="__codelineno-99-70" name="__codelineno-99-70" href="#__codelineno-99-70"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-71"><a id="__codelineno-99-71" name="__codelineno-99-71" href="#__codelineno-99-71"></a><span class="c1">#bonjour = off                          # advertise server via Bonjour</span>
</span><span id="__span-99-72"><a id="__codelineno-99-72" name="__codelineno-99-72" href="#__codelineno-99-72"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-73"><a id="__codelineno-99-73" name="__codelineno-99-73" href="#__codelineno-99-73"></a><span class="c1">#bonjour_name = &#39;&#39;                      # defaults to the computer name</span>
</span><span id="__span-99-74"><a id="__codelineno-99-74" name="__codelineno-99-74" href="#__codelineno-99-74"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-75"><a id="__codelineno-99-75" name="__codelineno-99-75" href="#__codelineno-99-75"></a>
</span><span id="__span-99-76"><a id="__codelineno-99-76" name="__codelineno-99-76" href="#__codelineno-99-76"></a><span class="c1"># - TCP settings -</span>
</span><span id="__span-99-77"><a id="__codelineno-99-77" name="__codelineno-99-77" href="#__codelineno-99-77"></a><span class="c1"># see &quot;man 7 tcp&quot; for details</span>
</span><span id="__span-99-78"><a id="__codelineno-99-78" name="__codelineno-99-78" href="#__codelineno-99-78"></a>
</span><span id="__span-99-79"><a id="__codelineno-99-79" name="__codelineno-99-79" href="#__codelineno-99-79"></a><span class="c1">#tcp_keepalives_idle = 0                # TCP_KEEPIDLE, in seconds;</span>
</span><span id="__span-99-80"><a id="__codelineno-99-80" name="__codelineno-99-80" href="#__codelineno-99-80"></a>                                        <span class="c1"># 0 selects the system default</span>
</span><span id="__span-99-81"><a id="__codelineno-99-81" name="__codelineno-99-81" href="#__codelineno-99-81"></a><span class="c1">#tcp_keepalives_interval = 0            # TCP_KEEPINTVL, in seconds;</span>
</span><span id="__span-99-82"><a id="__codelineno-99-82" name="__codelineno-99-82" href="#__codelineno-99-82"></a>                                        <span class="c1"># 0 selects the system default</span>
</span><span id="__span-99-83"><a id="__codelineno-99-83" name="__codelineno-99-83" href="#__codelineno-99-83"></a><span class="c1">#tcp_keepalives_count = 0               # TCP_KEEPCNT;</span>
</span><span id="__span-99-84"><a id="__codelineno-99-84" name="__codelineno-99-84" href="#__codelineno-99-84"></a>                                        <span class="c1"># 0 selects the system default</span>
</span><span id="__span-99-85"><a id="__codelineno-99-85" name="__codelineno-99-85" href="#__codelineno-99-85"></a><span class="c1">#tcp_user_timeout = 0                   # TCP_USER_TIMEOUT, in milliseconds;</span>
</span><span id="__span-99-86"><a id="__codelineno-99-86" name="__codelineno-99-86" href="#__codelineno-99-86"></a>                                        <span class="c1"># 0 selects the system default</span>
</span><span id="__span-99-87"><a id="__codelineno-99-87" name="__codelineno-99-87" href="#__codelineno-99-87"></a>
</span><span id="__span-99-88"><a id="__codelineno-99-88" name="__codelineno-99-88" href="#__codelineno-99-88"></a><span class="c1"># - Authentication -</span>
</span><span id="__span-99-89"><a id="__codelineno-99-89" name="__codelineno-99-89" href="#__codelineno-99-89"></a>
</span><span id="__span-99-90"><a id="__codelineno-99-90" name="__codelineno-99-90" href="#__codelineno-99-90"></a><span class="c1">#authentication_timeout = 1min          # 1s-600s</span>
</span><span id="__span-99-91"><a id="__codelineno-99-91" name="__codelineno-99-91" href="#__codelineno-99-91"></a><span class="c1">#password_encryption = md5              # md5 or scram-sha-256</span>
</span><span id="__span-99-92"><a id="__codelineno-99-92" name="__codelineno-99-92" href="#__codelineno-99-92"></a><span class="c1">#db_user_namespace = off</span>
</span><span id="__span-99-93"><a id="__codelineno-99-93" name="__codelineno-99-93" href="#__codelineno-99-93"></a>
</span><span id="__span-99-94"><a id="__codelineno-99-94" name="__codelineno-99-94" href="#__codelineno-99-94"></a><span class="c1"># GSSAPI using Kerberos</span>
</span><span id="__span-99-95"><a id="__codelineno-99-95" name="__codelineno-99-95" href="#__codelineno-99-95"></a><span class="c1">#krb_server_keyfile = &#39;FILE:${sysconfdir}/krb5.keytab&#39;</span>
</span><span id="__span-99-96"><a id="__codelineno-99-96" name="__codelineno-99-96" href="#__codelineno-99-96"></a><span class="c1">#krb_caseins_users = off</span>
</span><span id="__span-99-97"><a id="__codelineno-99-97" name="__codelineno-99-97" href="#__codelineno-99-97"></a>
</span><span id="__span-99-98"><a id="__codelineno-99-98" name="__codelineno-99-98" href="#__codelineno-99-98"></a><span class="c1"># - SSL -</span>
</span><span id="__span-99-99"><a id="__codelineno-99-99" name="__codelineno-99-99" href="#__codelineno-99-99"></a>
</span><span id="__span-99-100"><a id="__codelineno-99-100" name="__codelineno-99-100" href="#__codelineno-99-100"></a>
</span><span id="__span-99-101"><a id="__codelineno-99-101" name="__codelineno-99-101" href="#__codelineno-99-101"></a><span class="n">ssl</span> <span class="o">=</span> <span class="n">on</span>
</span><span id="__span-99-102"><a id="__codelineno-99-102" name="__codelineno-99-102" href="#__codelineno-99-102"></a><span class="c1">#ssl_ca_file = &#39;&#39;</span>
</span><span id="__span-99-103"><a id="__codelineno-99-103" name="__codelineno-99-103" href="#__codelineno-99-103"></a><span class="n">ssl_cert_file</span> <span class="o">=</span> <span class="s1">&#39;cert&#39;</span>
</span><span id="__span-99-104"><a id="__codelineno-99-104" name="__codelineno-99-104" href="#__codelineno-99-104"></a><span class="c1">#ssl_crl_file = &#39;&#39;</span>
</span><span id="__span-99-105"><a id="__codelineno-99-105" name="__codelineno-99-105" href="#__codelineno-99-105"></a><span class="n">ssl_key_file</span> <span class="o">=</span> <span class="s1">&#39;key&#39;</span>
</span><span id="__span-99-106"><a id="__codelineno-99-106" name="__codelineno-99-106" href="#__codelineno-99-106"></a><span class="c1">#ssl_ciphers = &#39;HIGH:MEDIUM:+3DES:!aNULL&#39; # allowed SSL ciphers</span>
</span><span id="__span-99-107"><a id="__codelineno-99-107" name="__codelineno-99-107" href="#__codelineno-99-107"></a><span class="c1">#ssl_prefer_server_ciphers = on</span>
</span><span id="__span-99-108"><a id="__codelineno-99-108" name="__codelineno-99-108" href="#__codelineno-99-108"></a><span class="c1">#ssl_ecdh_curve = &#39;prime256v1&#39;</span>
</span><span id="__span-99-109"><a id="__codelineno-99-109" name="__codelineno-99-109" href="#__codelineno-99-109"></a><span class="c1">#ssl_min_protocol_version = &#39;TLSv1&#39;</span>
</span><span id="__span-99-110"><a id="__codelineno-99-110" name="__codelineno-99-110" href="#__codelineno-99-110"></a><span class="c1">#ssl_max_protocol_version = &#39;&#39;</span>
</span><span id="__span-99-111"><a id="__codelineno-99-111" name="__codelineno-99-111" href="#__codelineno-99-111"></a><span class="c1">#ssl_dh_params_file = &#39;&#39;</span>
</span><span id="__span-99-112"><a id="__codelineno-99-112" name="__codelineno-99-112" href="#__codelineno-99-112"></a><span class="c1">#ssl_passphrase_command = &#39;&#39;</span>
</span><span id="__span-99-113"><a id="__codelineno-99-113" name="__codelineno-99-113" href="#__codelineno-99-113"></a><span class="c1">#ssl_passphrase_command_supports_reload = off</span>
</span><span id="__span-99-114"><a id="__codelineno-99-114" name="__codelineno-99-114" href="#__codelineno-99-114"></a>
</span><span id="__span-99-115"><a id="__codelineno-99-115" name="__codelineno-99-115" href="#__codelineno-99-115"></a>
</span><span id="__span-99-116"><a id="__codelineno-99-116" name="__codelineno-99-116" href="#__codelineno-99-116"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-117"><a id="__codelineno-99-117" name="__codelineno-99-117" href="#__codelineno-99-117"></a><span class="c1"># RESOURCE USAGE (except WAL)</span>
</span><span id="__span-99-118"><a id="__codelineno-99-118" name="__codelineno-99-118" href="#__codelineno-99-118"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-119"><a id="__codelineno-99-119" name="__codelineno-99-119" href="#__codelineno-99-119"></a>
</span><span id="__span-99-120"><a id="__codelineno-99-120" name="__codelineno-99-120" href="#__codelineno-99-120"></a><span class="c1"># - Memory -</span>
</span><span id="__span-99-121"><a id="__codelineno-99-121" name="__codelineno-99-121" href="#__codelineno-99-121"></a>
</span><span id="__span-99-122"><a id="__codelineno-99-122" name="__codelineno-99-122" href="#__codelineno-99-122"></a><span class="n">shared_buffers</span> <span class="o">=</span> <span class="mi">128</span><span class="n">MB</span>                  <span class="c1"># min 128kB</span>
</span><span id="__span-99-123"><a id="__codelineno-99-123" name="__codelineno-99-123" href="#__codelineno-99-123"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-124"><a id="__codelineno-99-124" name="__codelineno-99-124" href="#__codelineno-99-124"></a><span class="c1">#huge_pages = try                       # on, off, or try</span>
</span><span id="__span-99-125"><a id="__codelineno-99-125" name="__codelineno-99-125" href="#__codelineno-99-125"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-126"><a id="__codelineno-99-126" name="__codelineno-99-126" href="#__codelineno-99-126"></a><span class="c1">#temp_buffers = 8MB                     # min 800kB</span>
</span><span id="__span-99-127"><a id="__codelineno-99-127" name="__codelineno-99-127" href="#__codelineno-99-127"></a><span class="c1">#max_prepared_transactions = 0          # zero disables the feature</span>
</span><span id="__span-99-128"><a id="__codelineno-99-128" name="__codelineno-99-128" href="#__codelineno-99-128"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-129"><a id="__codelineno-99-129" name="__codelineno-99-129" href="#__codelineno-99-129"></a><span class="c1"># Caution: it is not advisable to set max_prepared_transactions nonzero unless</span>
</span><span id="__span-99-130"><a id="__codelineno-99-130" name="__codelineno-99-130" href="#__codelineno-99-130"></a><span class="c1"># you actively intend to use prepared transactions.</span>
</span><span id="__span-99-131"><a id="__codelineno-99-131" name="__codelineno-99-131" href="#__codelineno-99-131"></a><span class="c1">#work_mem = 4MB                         # min 64kB</span>
</span><span id="__span-99-132"><a id="__codelineno-99-132" name="__codelineno-99-132" href="#__codelineno-99-132"></a><span class="c1">#maintenance_work_mem = 64MB            # min 1MB</span>
</span><span id="__span-99-133"><a id="__codelineno-99-133" name="__codelineno-99-133" href="#__codelineno-99-133"></a><span class="c1">#autovacuum_work_mem = -1               # min 1MB, or -1 to use maintenance_work_mem</span>
</span><span id="__span-99-134"><a id="__codelineno-99-134" name="__codelineno-99-134" href="#__codelineno-99-134"></a><span class="c1">#max_stack_depth = 2MB                  # min 100kB</span>
</span><span id="__span-99-135"><a id="__codelineno-99-135" name="__codelineno-99-135" href="#__codelineno-99-135"></a><span class="c1">#shared_memory_type = mmap              # the default is the first option</span>
</span><span id="__span-99-136"><a id="__codelineno-99-136" name="__codelineno-99-136" href="#__codelineno-99-136"></a>                                        <span class="c1"># supported by the operating system:</span>
</span><span id="__span-99-137"><a id="__codelineno-99-137" name="__codelineno-99-137" href="#__codelineno-99-137"></a>                                        <span class="c1">#   mmap</span>
</span><span id="__span-99-138"><a id="__codelineno-99-138" name="__codelineno-99-138" href="#__codelineno-99-138"></a>                                        <span class="c1">#   sysv</span>
</span><span id="__span-99-139"><a id="__codelineno-99-139" name="__codelineno-99-139" href="#__codelineno-99-139"></a>                                        <span class="c1">#   windows</span>
</span><span id="__span-99-140"><a id="__codelineno-99-140" name="__codelineno-99-140" href="#__codelineno-99-140"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-141"><a id="__codelineno-99-141" name="__codelineno-99-141" href="#__codelineno-99-141"></a><span class="n">dynamic_shared_memory_type</span> <span class="o">=</span> <span class="n">posix</span>      <span class="c1"># the default is the first option</span>
</span><span id="__span-99-142"><a id="__codelineno-99-142" name="__codelineno-99-142" href="#__codelineno-99-142"></a>                                        <span class="c1"># supported by the operating system:</span>
</span><span id="__span-99-143"><a id="__codelineno-99-143" name="__codelineno-99-143" href="#__codelineno-99-143"></a>                                        <span class="c1">#   posix</span>
</span><span id="__span-99-144"><a id="__codelineno-99-144" name="__codelineno-99-144" href="#__codelineno-99-144"></a>                                        <span class="c1">#   sysv</span>
</span><span id="__span-99-145"><a id="__codelineno-99-145" name="__codelineno-99-145" href="#__codelineno-99-145"></a>                                        <span class="c1">#   windows</span>
</span><span id="__span-99-146"><a id="__codelineno-99-146" name="__codelineno-99-146" href="#__codelineno-99-146"></a>                                        <span class="c1">#   mmap</span>
</span><span id="__span-99-147"><a id="__codelineno-99-147" name="__codelineno-99-147" href="#__codelineno-99-147"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-148"><a id="__codelineno-99-148" name="__codelineno-99-148" href="#__codelineno-99-148"></a>
</span><span id="__span-99-149"><a id="__codelineno-99-149" name="__codelineno-99-149" href="#__codelineno-99-149"></a><span class="c1"># - Disk -</span>
</span><span id="__span-99-150"><a id="__codelineno-99-150" name="__codelineno-99-150" href="#__codelineno-99-150"></a>
</span><span id="__span-99-151"><a id="__codelineno-99-151" name="__codelineno-99-151" href="#__codelineno-99-151"></a><span class="c1">#temp_file_limit = -1                   # limits per-process temp file space</span>
</span><span id="__span-99-152"><a id="__codelineno-99-152" name="__codelineno-99-152" href="#__codelineno-99-152"></a>                                        <span class="c1"># in kB, or -1 for no limit</span>
</span><span id="__span-99-153"><a id="__codelineno-99-153" name="__codelineno-99-153" href="#__codelineno-99-153"></a>
</span><span id="__span-99-154"><a id="__codelineno-99-154" name="__codelineno-99-154" href="#__codelineno-99-154"></a><span class="c1"># - Kernel Resources -</span>
</span><span id="__span-99-155"><a id="__codelineno-99-155" name="__codelineno-99-155" href="#__codelineno-99-155"></a>
</span><span id="__span-99-156"><a id="__codelineno-99-156" name="__codelineno-99-156" href="#__codelineno-99-156"></a><span class="c1">#max_files_per_process = 1000           # min 25</span>
</span><span id="__span-99-157"><a id="__codelineno-99-157" name="__codelineno-99-157" href="#__codelineno-99-157"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-158"><a id="__codelineno-99-158" name="__codelineno-99-158" href="#__codelineno-99-158"></a>
</span><span id="__span-99-159"><a id="__codelineno-99-159" name="__codelineno-99-159" href="#__codelineno-99-159"></a><span class="c1"># - Cost-Based Vacuum Delay -</span>
</span><span id="__span-99-160"><a id="__codelineno-99-160" name="__codelineno-99-160" href="#__codelineno-99-160"></a>
</span><span id="__span-99-161"><a id="__codelineno-99-161" name="__codelineno-99-161" href="#__codelineno-99-161"></a><span class="c1">#vacuum_cost_delay = 0                  # 0-100 milliseconds (0 disables)</span>
</span><span id="__span-99-162"><a id="__codelineno-99-162" name="__codelineno-99-162" href="#__codelineno-99-162"></a><span class="c1">#vacuum_cost_page_hit = 1               # 0-10000 credits</span>
</span><span id="__span-99-163"><a id="__codelineno-99-163" name="__codelineno-99-163" href="#__codelineno-99-163"></a><span class="c1">#vacuum_cost_page_miss = 10             # 0-10000 credits</span>
</span><span id="__span-99-164"><a id="__codelineno-99-164" name="__codelineno-99-164" href="#__codelineno-99-164"></a><span class="c1">#vacuum_cost_page_dirty = 20            # 0-10000 credits</span>
</span><span id="__span-99-165"><a id="__codelineno-99-165" name="__codelineno-99-165" href="#__codelineno-99-165"></a><span class="c1">#vacuum_cost_limit = 200                # 1-10000 credits</span>
</span><span id="__span-99-166"><a id="__codelineno-99-166" name="__codelineno-99-166" href="#__codelineno-99-166"></a>
</span><span id="__span-99-167"><a id="__codelineno-99-167" name="__codelineno-99-167" href="#__codelineno-99-167"></a><span class="c1"># - Background Writer -</span>
</span><span id="__span-99-168"><a id="__codelineno-99-168" name="__codelineno-99-168" href="#__codelineno-99-168"></a>
</span><span id="__span-99-169"><a id="__codelineno-99-169" name="__codelineno-99-169" href="#__codelineno-99-169"></a><span class="c1">#bgwriter_delay = 200ms                 # 10-10000ms between rounds</span>
</span><span id="__span-99-170"><a id="__codelineno-99-170" name="__codelineno-99-170" href="#__codelineno-99-170"></a><span class="c1">#bgwriter_lru_maxpages = 100            # max buffers written/round, 0 disables</span>
</span><span id="__span-99-171"><a id="__codelineno-99-171" name="__codelineno-99-171" href="#__codelineno-99-171"></a><span class="c1">#bgwriter_lru_multiplier = 2.0          # 0-10.0 multiplier on buffers scanned/round</span>
</span><span id="__span-99-172"><a id="__codelineno-99-172" name="__codelineno-99-172" href="#__codelineno-99-172"></a><span class="c1">#bgwriter_flush_after = 512kB           # measured in pages, 0 disables</span>
</span><span id="__span-99-173"><a id="__codelineno-99-173" name="__codelineno-99-173" href="#__codelineno-99-173"></a>
</span><span id="__span-99-174"><a id="__codelineno-99-174" name="__codelineno-99-174" href="#__codelineno-99-174"></a><span class="c1"># - Asynchronous Behavior -</span>
</span><span id="__span-99-175"><a id="__codelineno-99-175" name="__codelineno-99-175" href="#__codelineno-99-175"></a>
</span><span id="__span-99-176"><a id="__codelineno-99-176" name="__codelineno-99-176" href="#__codelineno-99-176"></a><span class="c1">#effective_io_concurrency = 1           # 1-1000; 0 disables prefetching</span>
</span><span id="__span-99-177"><a id="__codelineno-99-177" name="__codelineno-99-177" href="#__codelineno-99-177"></a><span class="c1">#max_worker_processes = 8               # (change requires restart)</span>
</span><span id="__span-99-178"><a id="__codelineno-99-178" name="__codelineno-99-178" href="#__codelineno-99-178"></a><span class="c1">#max_parallel_maintenance_workers = 2   # limited by max_parallel_workers</span>
</span><span id="__span-99-179"><a id="__codelineno-99-179" name="__codelineno-99-179" href="#__codelineno-99-179"></a><span class="c1">#max_parallel_workers_per_gather = 2    # limited by max_parallel_workers</span>
</span><span id="__span-99-180"><a id="__codelineno-99-180" name="__codelineno-99-180" href="#__codelineno-99-180"></a><span class="c1">#parallel_leader_participation = on</span>
</span><span id="__span-99-181"><a id="__codelineno-99-181" name="__codelineno-99-181" href="#__codelineno-99-181"></a><span class="c1">#max_parallel_workers = 8               # number of max_worker_processes that</span>
</span><span id="__span-99-182"><a id="__codelineno-99-182" name="__codelineno-99-182" href="#__codelineno-99-182"></a>                                        <span class="c1"># can be used in parallel operations</span>
</span><span id="__span-99-183"><a id="__codelineno-99-183" name="__codelineno-99-183" href="#__codelineno-99-183"></a><span class="c1">#old_snapshot_threshold = -1            # 1min-60d; -1 disables; 0 is immediate</span>
</span><span id="__span-99-184"><a id="__codelineno-99-184" name="__codelineno-99-184" href="#__codelineno-99-184"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-185"><a id="__codelineno-99-185" name="__codelineno-99-185" href="#__codelineno-99-185"></a><span class="c1">#backend_flush_after = 0                # measured in pages, 0 disables</span>
</span><span id="__span-99-186"><a id="__codelineno-99-186" name="__codelineno-99-186" href="#__codelineno-99-186"></a>
</span><span id="__span-99-187"><a id="__codelineno-99-187" name="__codelineno-99-187" href="#__codelineno-99-187"></a>
</span><span id="__span-99-188"><a id="__codelineno-99-188" name="__codelineno-99-188" href="#__codelineno-99-188"></a>
</span><span id="__span-99-189"><a id="__codelineno-99-189" name="__codelineno-99-189" href="#__codelineno-99-189"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-190"><a id="__codelineno-99-190" name="__codelineno-99-190" href="#__codelineno-99-190"></a><span class="c1"># WRITE-AHEAD LOG</span>
</span><span id="__span-99-191"><a id="__codelineno-99-191" name="__codelineno-99-191" href="#__codelineno-99-191"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-192"><a id="__codelineno-99-192" name="__codelineno-99-192" href="#__codelineno-99-192"></a>
</span><span id="__span-99-193"><a id="__codelineno-99-193" name="__codelineno-99-193" href="#__codelineno-99-193"></a><span class="c1"># - Settings -</span>
</span><span id="__span-99-194"><a id="__codelineno-99-194" name="__codelineno-99-194" href="#__codelineno-99-194"></a>
</span><span id="__span-99-195"><a id="__codelineno-99-195" name="__codelineno-99-195" href="#__codelineno-99-195"></a><span class="c1">#wal_level = replica                    # minimal, replica, or logical</span>
</span><span id="__span-99-196"><a id="__codelineno-99-196" name="__codelineno-99-196" href="#__codelineno-99-196"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-197"><a id="__codelineno-99-197" name="__codelineno-99-197" href="#__codelineno-99-197"></a><span class="c1">#fsync = on                             # flush data to disk for crash safety</span>
</span><span id="__span-99-198"><a id="__codelineno-99-198" name="__codelineno-99-198" href="#__codelineno-99-198"></a>                                        <span class="c1"># (turning this off can cause</span>
</span><span id="__span-99-199"><a id="__codelineno-99-199" name="__codelineno-99-199" href="#__codelineno-99-199"></a>                                        <span class="c1"># unrecoverable data corruption)</span>
</span><span id="__span-99-200"><a id="__codelineno-99-200" name="__codelineno-99-200" href="#__codelineno-99-200"></a><span class="c1">#synchronous_commit = on                # synchronization level;</span>
</span><span id="__span-99-201"><a id="__codelineno-99-201" name="__codelineno-99-201" href="#__codelineno-99-201"></a>                                        <span class="c1"># off, local, remote_write, remote_apply, or on</span>
</span><span id="__span-99-202"><a id="__codelineno-99-202" name="__codelineno-99-202" href="#__codelineno-99-202"></a><span class="c1">#wal_sync_method = fsync                # the default is the first option</span>
</span><span id="__span-99-203"><a id="__codelineno-99-203" name="__codelineno-99-203" href="#__codelineno-99-203"></a>                                        <span class="c1"># supported by the operating system:</span>
</span><span id="__span-99-204"><a id="__codelineno-99-204" name="__codelineno-99-204" href="#__codelineno-99-204"></a>                                        <span class="c1">#   open_datasync</span>
</span><span id="__span-99-205"><a id="__codelineno-99-205" name="__codelineno-99-205" href="#__codelineno-99-205"></a>                                        <span class="c1">#   fdatasync (default on Linux and FreeBSD)</span>
</span><span id="__span-99-206"><a id="__codelineno-99-206" name="__codelineno-99-206" href="#__codelineno-99-206"></a>                                        <span class="c1">#   fsync</span>
</span><span id="__span-99-207"><a id="__codelineno-99-207" name="__codelineno-99-207" href="#__codelineno-99-207"></a>                                        <span class="c1">#   fsync_writethrough</span>
</span><span id="__span-99-208"><a id="__codelineno-99-208" name="__codelineno-99-208" href="#__codelineno-99-208"></a>                                        <span class="c1">#   open_sync</span>
</span><span id="__span-99-209"><a id="__codelineno-99-209" name="__codelineno-99-209" href="#__codelineno-99-209"></a><span class="c1">#full_page_writes = on                  # recover from partial page writes</span>
</span><span id="__span-99-210"><a id="__codelineno-99-210" name="__codelineno-99-210" href="#__codelineno-99-210"></a><span class="c1">#wal_compression = off                  # enable compression of full-page writes</span>
</span><span id="__span-99-211"><a id="__codelineno-99-211" name="__codelineno-99-211" href="#__codelineno-99-211"></a><span class="c1">#wal_log_hints = off                    # also do full page writes of non-critical updates</span>
</span><span id="__span-99-212"><a id="__codelineno-99-212" name="__codelineno-99-212" href="#__codelineno-99-212"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-213"><a id="__codelineno-99-213" name="__codelineno-99-213" href="#__codelineno-99-213"></a><span class="c1">#wal_init_zero = on                     # zero-fill new WAL files</span>
</span><span id="__span-99-214"><a id="__codelineno-99-214" name="__codelineno-99-214" href="#__codelineno-99-214"></a><span class="c1">#wal_recycle = on                       # recycle WAL files</span>
</span><span id="__span-99-215"><a id="__codelineno-99-215" name="__codelineno-99-215" href="#__codelineno-99-215"></a><span class="c1">#wal_buffers = -1                       # min 32kB, -1 sets based on shared_buffers</span>
</span><span id="__span-99-216"><a id="__codelineno-99-216" name="__codelineno-99-216" href="#__codelineno-99-216"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-217"><a id="__codelineno-99-217" name="__codelineno-99-217" href="#__codelineno-99-217"></a><span class="c1">#wal_writer_delay = 200ms               # 1-10000 milliseconds</span>
</span><span id="__span-99-218"><a id="__codelineno-99-218" name="__codelineno-99-218" href="#__codelineno-99-218"></a><span class="c1">#wal_writer_flush_after = 1MB           # measured in pages, 0 disables</span>
</span><span id="__span-99-219"><a id="__codelineno-99-219" name="__codelineno-99-219" href="#__codelineno-99-219"></a>
</span><span id="__span-99-220"><a id="__codelineno-99-220" name="__codelineno-99-220" href="#__codelineno-99-220"></a><span class="c1">#commit_delay = 0                       # range 0-100000, in microseconds</span>
</span><span id="__span-99-221"><a id="__codelineno-99-221" name="__codelineno-99-221" href="#__codelineno-99-221"></a><span class="c1">#commit_siblings = 5                    # range 1-1000</span>
</span><span id="__span-99-222"><a id="__codelineno-99-222" name="__codelineno-99-222" href="#__codelineno-99-222"></a>
</span><span id="__span-99-223"><a id="__codelineno-99-223" name="__codelineno-99-223" href="#__codelineno-99-223"></a><span class="c1"># - Checkpoints -</span>
</span><span id="__span-99-224"><a id="__codelineno-99-224" name="__codelineno-99-224" href="#__codelineno-99-224"></a>
</span><span id="__span-99-225"><a id="__codelineno-99-225" name="__codelineno-99-225" href="#__codelineno-99-225"></a><span class="c1">#checkpoint_timeout = 5min              # range 30s-1d</span>
</span><span id="__span-99-226"><a id="__codelineno-99-226" name="__codelineno-99-226" href="#__codelineno-99-226"></a><span class="n">max_wal_size</span> <span class="o">=</span> <span class="mi">1</span><span class="n">GB</span>
</span><span id="__span-99-227"><a id="__codelineno-99-227" name="__codelineno-99-227" href="#__codelineno-99-227"></a><span class="n">min_wal_size</span> <span class="o">=</span> <span class="mi">80</span><span class="n">MB</span>
</span><span id="__span-99-228"><a id="__codelineno-99-228" name="__codelineno-99-228" href="#__codelineno-99-228"></a><span class="c1">#checkpoint_completion_target = 0.5     # checkpoint target duration, 0.0 - 1.0</span>
</span><span id="__span-99-229"><a id="__codelineno-99-229" name="__codelineno-99-229" href="#__codelineno-99-229"></a><span class="c1">#checkpoint_flush_after = 256kB         # measured in pages, 0 disables</span>
</span><span id="__span-99-230"><a id="__codelineno-99-230" name="__codelineno-99-230" href="#__codelineno-99-230"></a><span class="c1">#checkpoint_warning = 30s               # 0 disables</span>
</span><span id="__span-99-231"><a id="__codelineno-99-231" name="__codelineno-99-231" href="#__codelineno-99-231"></a>
</span><span id="__span-99-232"><a id="__codelineno-99-232" name="__codelineno-99-232" href="#__codelineno-99-232"></a><span class="c1"># - Archiving -</span>
</span><span id="__span-99-233"><a id="__codelineno-99-233" name="__codelineno-99-233" href="#__codelineno-99-233"></a>
</span><span id="__span-99-234"><a id="__codelineno-99-234" name="__codelineno-99-234" href="#__codelineno-99-234"></a><span class="c1">#archive_mode = off             # enables archiving; off, on, or always</span>
</span><span id="__span-99-235"><a id="__codelineno-99-235" name="__codelineno-99-235" href="#__codelineno-99-235"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-236"><a id="__codelineno-99-236" name="__codelineno-99-236" href="#__codelineno-99-236"></a><span class="c1">#archive_command = &#39;&#39;           # command to use to archive a logfile segment</span>
</span><span id="__span-99-237"><a id="__codelineno-99-237" name="__codelineno-99-237" href="#__codelineno-99-237"></a>                                <span class="c1"># placeholders: %p = path of file to archive</span>
</span><span id="__span-99-238"><a id="__codelineno-99-238" name="__codelineno-99-238" href="#__codelineno-99-238"></a>                                <span class="c1">#               %f = file name only</span>
</span><span id="__span-99-239"><a id="__codelineno-99-239" name="__codelineno-99-239" href="#__codelineno-99-239"></a>                                <span class="c1"># e.g. &#39;test ! -f /mnt/server/archivedir/%f &amp;&amp; cp %p /mnt/ser&gt;</span>
</span><span id="__span-99-240"><a id="__codelineno-99-240" name="__codelineno-99-240" href="#__codelineno-99-240"></a><span class="c1">#archive_timeout = 0            # force a logfile segment switch after this</span>
</span><span id="__span-99-241"><a id="__codelineno-99-241" name="__codelineno-99-241" href="#__codelineno-99-241"></a>                                <span class="c1"># number of seconds; 0 disables</span>
</span><span id="__span-99-242"><a id="__codelineno-99-242" name="__codelineno-99-242" href="#__codelineno-99-242"></a>
</span><span id="__span-99-243"><a id="__codelineno-99-243" name="__codelineno-99-243" href="#__codelineno-99-243"></a><span class="c1"># - Archive Recovery -</span>
</span><span id="__span-99-244"><a id="__codelineno-99-244" name="__codelineno-99-244" href="#__codelineno-99-244"></a>
</span><span id="__span-99-245"><a id="__codelineno-99-245" name="__codelineno-99-245" href="#__codelineno-99-245"></a><span class="c1"># These are only used in recovery mode.</span>
</span><span id="__span-99-246"><a id="__codelineno-99-246" name="__codelineno-99-246" href="#__codelineno-99-246"></a>
</span><span id="__span-99-247"><a id="__codelineno-99-247" name="__codelineno-99-247" href="#__codelineno-99-247"></a><span class="c1">#restore_command = &#39;&#39;           # command to use to restore an archived logfile segment</span>
</span><span id="__span-99-248"><a id="__codelineno-99-248" name="__codelineno-99-248" href="#__codelineno-99-248"></a>                                <span class="c1"># placeholders: %p = path of file to restore</span>
</span><span id="__span-99-249"><a id="__codelineno-99-249" name="__codelineno-99-249" href="#__codelineno-99-249"></a>                                <span class="c1">#               %f = file name only</span>
</span><span id="__span-99-250"><a id="__codelineno-99-250" name="__codelineno-99-250" href="#__codelineno-99-250"></a>                                <span class="c1"># e.g. &#39;cp /mnt/server/archivedir/%f %p&#39;</span>
</span><span id="__span-99-251"><a id="__codelineno-99-251" name="__codelineno-99-251" href="#__codelineno-99-251"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-252"><a id="__codelineno-99-252" name="__codelineno-99-252" href="#__codelineno-99-252"></a><span class="c1">#archive_cleanup_command = &#39;&#39;   # command to execute at every restartpoint</span>
</span><span id="__span-99-253"><a id="__codelineno-99-253" name="__codelineno-99-253" href="#__codelineno-99-253"></a><span class="c1">#recovery_end_command = &#39;&#39;      # command to execute at completion of recovery</span>
</span><span id="__span-99-254"><a id="__codelineno-99-254" name="__codelineno-99-254" href="#__codelineno-99-254"></a>
</span><span id="__span-99-255"><a id="__codelineno-99-255" name="__codelineno-99-255" href="#__codelineno-99-255"></a><span class="c1"># - Recovery Target -</span>
</span><span id="__span-99-256"><a id="__codelineno-99-256" name="__codelineno-99-256" href="#__codelineno-99-256"></a>
</span><span id="__span-99-257"><a id="__codelineno-99-257" name="__codelineno-99-257" href="#__codelineno-99-257"></a><span class="c1"># Set these only when performing a targeted recovery.</span>
</span><span id="__span-99-258"><a id="__codelineno-99-258" name="__codelineno-99-258" href="#__codelineno-99-258"></a>
</span><span id="__span-99-259"><a id="__codelineno-99-259" name="__codelineno-99-259" href="#__codelineno-99-259"></a><span class="c1">#recovery_target = &#39;&#39;           # &#39;immediate&#39; to end recovery as soon as a</span>
</span><span id="__span-99-260"><a id="__codelineno-99-260" name="__codelineno-99-260" href="#__codelineno-99-260"></a>                                <span class="c1"># consistent state is reached</span>
</span><span id="__span-99-261"><a id="__codelineno-99-261" name="__codelineno-99-261" href="#__codelineno-99-261"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-262"><a id="__codelineno-99-262" name="__codelineno-99-262" href="#__codelineno-99-262"></a><span class="c1">#recovery_target_name = &#39;&#39;      # the named restore point to which recovery will proceed</span>
</span><span id="__span-99-263"><a id="__codelineno-99-263" name="__codelineno-99-263" href="#__codelineno-99-263"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-264"><a id="__codelineno-99-264" name="__codelineno-99-264" href="#__codelineno-99-264"></a><span class="c1">#recovery_target_time = &#39;&#39;      # the time stamp up to which recovery will proceed</span>
</span><span id="__span-99-265"><a id="__codelineno-99-265" name="__codelineno-99-265" href="#__codelineno-99-265"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-266"><a id="__codelineno-99-266" name="__codelineno-99-266" href="#__codelineno-99-266"></a><span class="c1">#recovery_target_xid = &#39;&#39;       # the transaction ID up to which recovery will proceed</span>
</span><span id="__span-99-267"><a id="__codelineno-99-267" name="__codelineno-99-267" href="#__codelineno-99-267"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-268"><a id="__codelineno-99-268" name="__codelineno-99-268" href="#__codelineno-99-268"></a><span class="c1">#recovery_target_lsn = &#39;&#39;       # the WAL LSN up to which recovery will proceed</span>
</span><span id="__span-99-269"><a id="__codelineno-99-269" name="__codelineno-99-269" href="#__codelineno-99-269"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-270"><a id="__codelineno-99-270" name="__codelineno-99-270" href="#__codelineno-99-270"></a><span class="c1">#recovery_target_inclusive = on # Specifies whether to stop:</span>
</span><span id="__span-99-271"><a id="__codelineno-99-271" name="__codelineno-99-271" href="#__codelineno-99-271"></a>                                <span class="c1"># just after the specified recovery target (on)</span>
</span><span id="__span-99-272"><a id="__codelineno-99-272" name="__codelineno-99-272" href="#__codelineno-99-272"></a>                                <span class="c1"># just before the recovery target (off)</span>
</span><span id="__span-99-273"><a id="__codelineno-99-273" name="__codelineno-99-273" href="#__codelineno-99-273"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-274"><a id="__codelineno-99-274" name="__codelineno-99-274" href="#__codelineno-99-274"></a><span class="c1">#recovery_target_timeline = &#39;latest&#39;    # &#39;current&#39;, &#39;latest&#39;, or timeline ID</span>
</span><span id="__span-99-275"><a id="__codelineno-99-275" name="__codelineno-99-275" href="#__codelineno-99-275"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-276"><a id="__codelineno-99-276" name="__codelineno-99-276" href="#__codelineno-99-276"></a><span class="c1">#recovery_target_action = &#39;pause&#39;       # &#39;pause&#39;, &#39;promote&#39;, &#39;shutdown&#39;</span>
</span><span id="__span-99-277"><a id="__codelineno-99-277" name="__codelineno-99-277" href="#__codelineno-99-277"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-278"><a id="__codelineno-99-278" name="__codelineno-99-278" href="#__codelineno-99-278"></a>
</span><span id="__span-99-279"><a id="__codelineno-99-279" name="__codelineno-99-279" href="#__codelineno-99-279"></a>
</span><span id="__span-99-280"><a id="__codelineno-99-280" name="__codelineno-99-280" href="#__codelineno-99-280"></a>
</span><span id="__span-99-281"><a id="__codelineno-99-281" name="__codelineno-99-281" href="#__codelineno-99-281"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-282"><a id="__codelineno-99-282" name="__codelineno-99-282" href="#__codelineno-99-282"></a><span class="c1"># REPLICATION</span>
</span><span id="__span-99-283"><a id="__codelineno-99-283" name="__codelineno-99-283" href="#__codelineno-99-283"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-284"><a id="__codelineno-99-284" name="__codelineno-99-284" href="#__codelineno-99-284"></a>
</span><span id="__span-99-285"><a id="__codelineno-99-285" name="__codelineno-99-285" href="#__codelineno-99-285"></a><span class="c1"># - Sending Servers -</span>
</span><span id="__span-99-286"><a id="__codelineno-99-286" name="__codelineno-99-286" href="#__codelineno-99-286"></a>
</span><span id="__span-99-287"><a id="__codelineno-99-287" name="__codelineno-99-287" href="#__codelineno-99-287"></a><span class="c1"># Set these on the master and on any standby that will send replication data.</span>
</span><span id="__span-99-288"><a id="__codelineno-99-288" name="__codelineno-99-288" href="#__codelineno-99-288"></a>
</span><span id="__span-99-289"><a id="__codelineno-99-289" name="__codelineno-99-289" href="#__codelineno-99-289"></a><span class="c1">#max_wal_senders = 10           # max number of walsender processes</span>
</span><span id="__span-99-290"><a id="__codelineno-99-290" name="__codelineno-99-290" href="#__codelineno-99-290"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-291"><a id="__codelineno-99-291" name="__codelineno-99-291" href="#__codelineno-99-291"></a><span class="c1">#wal_keep_segments = 0          # in logfile segments; 0 disables</span>
</span><span id="__span-99-292"><a id="__codelineno-99-292" name="__codelineno-99-292" href="#__codelineno-99-292"></a><span class="c1">#wal_sender_timeout = 60s       # in milliseconds; 0 disables</span>
</span><span id="__span-99-293"><a id="__codelineno-99-293" name="__codelineno-99-293" href="#__codelineno-99-293"></a>
</span><span id="__span-99-294"><a id="__codelineno-99-294" name="__codelineno-99-294" href="#__codelineno-99-294"></a><span class="c1">#max_replication_slots = 10     # max number of replication slots</span>
</span><span id="__span-99-295"><a id="__codelineno-99-295" name="__codelineno-99-295" href="#__codelineno-99-295"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-296"><a id="__codelineno-99-296" name="__codelineno-99-296" href="#__codelineno-99-296"></a><span class="c1">#track_commit_timestamp = off   # collect timestamp of transaction commit</span>
</span><span id="__span-99-297"><a id="__codelineno-99-297" name="__codelineno-99-297" href="#__codelineno-99-297"></a>                                <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-298"><a id="__codelineno-99-298" name="__codelineno-99-298" href="#__codelineno-99-298"></a>
</span><span id="__span-99-299"><a id="__codelineno-99-299" name="__codelineno-99-299" href="#__codelineno-99-299"></a><span class="c1"># - Master Server -</span>
</span><span id="__span-99-300"><a id="__codelineno-99-300" name="__codelineno-99-300" href="#__codelineno-99-300"></a>
</span><span id="__span-99-301"><a id="__codelineno-99-301" name="__codelineno-99-301" href="#__codelineno-99-301"></a><span class="c1"># These settings are ignored on a standby server.</span>
</span><span id="__span-99-302"><a id="__codelineno-99-302" name="__codelineno-99-302" href="#__codelineno-99-302"></a>
</span><span id="__span-99-303"><a id="__codelineno-99-303" name="__codelineno-99-303" href="#__codelineno-99-303"></a><span class="c1">#synchronous_standby_names = &#39;&#39; # standby servers that provide sync rep</span>
</span><span id="__span-99-304"><a id="__codelineno-99-304" name="__codelineno-99-304" href="#__codelineno-99-304"></a>                                <span class="c1"># method to choose sync standbys, number of sync standbys,</span>
</span><span id="__span-99-305"><a id="__codelineno-99-305" name="__codelineno-99-305" href="#__codelineno-99-305"></a>                                <span class="c1"># and comma-separated list of application_name</span>
</span><span id="__span-99-306"><a id="__codelineno-99-306" name="__codelineno-99-306" href="#__codelineno-99-306"></a>                                <span class="c1"># from standby(s); &#39;*&#39; = all</span>
</span><span id="__span-99-307"><a id="__codelineno-99-307" name="__codelineno-99-307" href="#__codelineno-99-307"></a><span class="c1">#vacuum_defer_cleanup_age = 0   # number of xacts by which cleanup is delayed</span>
</span><span id="__span-99-308"><a id="__codelineno-99-308" name="__codelineno-99-308" href="#__codelineno-99-308"></a>
</span><span id="__span-99-309"><a id="__codelineno-99-309" name="__codelineno-99-309" href="#__codelineno-99-309"></a><span class="c1"># - Standby Servers -</span>
</span><span id="__span-99-310"><a id="__codelineno-99-310" name="__codelineno-99-310" href="#__codelineno-99-310"></a>
</span><span id="__span-99-311"><a id="__codelineno-99-311" name="__codelineno-99-311" href="#__codelineno-99-311"></a><span class="c1"># These settings are ignored on a master server.</span>
</span><span id="__span-99-312"><a id="__codelineno-99-312" name="__codelineno-99-312" href="#__codelineno-99-312"></a>
</span><span id="__span-99-313"><a id="__codelineno-99-313" name="__codelineno-99-313" href="#__codelineno-99-313"></a><span class="c1">#primary_conninfo = &#39;&#39;                  # connection string to sending server</span>
</span><span id="__span-99-314"><a id="__codelineno-99-314" name="__codelineno-99-314" href="#__codelineno-99-314"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-315"><a id="__codelineno-99-315" name="__codelineno-99-315" href="#__codelineno-99-315"></a><span class="c1">#primary_slot_name = &#39;&#39;                 # replication slot on sending server</span>
</span><span id="__span-99-316"><a id="__codelineno-99-316" name="__codelineno-99-316" href="#__codelineno-99-316"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-317"><a id="__codelineno-99-317" name="__codelineno-99-317" href="#__codelineno-99-317"></a><span class="c1">#promote_trigger_file = &#39;&#39;              # file name whose presence ends recovery</span>
</span><span id="__span-99-318"><a id="__codelineno-99-318" name="__codelineno-99-318" href="#__codelineno-99-318"></a><span class="c1">#hot_standby = on                       # &quot;off&quot; disallows queries during recovery</span>
</span><span id="__span-99-319"><a id="__codelineno-99-319" name="__codelineno-99-319" href="#__codelineno-99-319"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-320"><a id="__codelineno-99-320" name="__codelineno-99-320" href="#__codelineno-99-320"></a><span class="c1">#max_standby_archive_delay = 30s        # max delay before canceling queries</span>
</span><span id="__span-99-321"><a id="__codelineno-99-321" name="__codelineno-99-321" href="#__codelineno-99-321"></a>                                        <span class="c1"># when reading WAL from archive;</span>
</span><span id="__span-99-322"><a id="__codelineno-99-322" name="__codelineno-99-322" href="#__codelineno-99-322"></a>                                        <span class="c1"># -1 allows indefinite delay</span>
</span><span id="__span-99-323"><a id="__codelineno-99-323" name="__codelineno-99-323" href="#__codelineno-99-323"></a><span class="c1">#max_standby_streaming_delay = 30s      # max delay before canceling queries</span>
</span><span id="__span-99-324"><a id="__codelineno-99-324" name="__codelineno-99-324" href="#__codelineno-99-324"></a>                                        <span class="c1"># when reading streaming WAL;</span>
</span><span id="__span-99-325"><a id="__codelineno-99-325" name="__codelineno-99-325" href="#__codelineno-99-325"></a>                                        <span class="c1"># -1 allows indefinite delay</span>
</span><span id="__span-99-326"><a id="__codelineno-99-326" name="__codelineno-99-326" href="#__codelineno-99-326"></a><span class="c1">#wal_receiver_status_interval = 10s     # send replies at least this often</span>
</span><span id="__span-99-327"><a id="__codelineno-99-327" name="__codelineno-99-327" href="#__codelineno-99-327"></a>                                        <span class="c1"># 0 disables</span>
</span><span id="__span-99-328"><a id="__codelineno-99-328" name="__codelineno-99-328" href="#__codelineno-99-328"></a><span class="c1">#hot_standby_feedback = off             # send info from standby to prevent</span>
</span><span id="__span-99-329"><a id="__codelineno-99-329" name="__codelineno-99-329" href="#__codelineno-99-329"></a>                                        <span class="c1"># query conflicts</span>
</span><span id="__span-99-330"><a id="__codelineno-99-330" name="__codelineno-99-330" href="#__codelineno-99-330"></a><span class="c1">#wal_receiver_timeout = 60s             # time that receiver waits for</span>
</span><span id="__span-99-331"><a id="__codelineno-99-331" name="__codelineno-99-331" href="#__codelineno-99-331"></a>                                        <span class="c1"># communication from master</span>
</span><span id="__span-99-332"><a id="__codelineno-99-332" name="__codelineno-99-332" href="#__codelineno-99-332"></a>                                        <span class="c1"># in milliseconds; 0 disables</span>
</span><span id="__span-99-333"><a id="__codelineno-99-333" name="__codelineno-99-333" href="#__codelineno-99-333"></a><span class="c1">#wal_retrieve_retry_interval = 5s       # time to wait before retrying to</span>
</span><span id="__span-99-334"><a id="__codelineno-99-334" name="__codelineno-99-334" href="#__codelineno-99-334"></a>                                        <span class="c1"># retrieve WAL after a failed attempt</span>
</span><span id="__span-99-335"><a id="__codelineno-99-335" name="__codelineno-99-335" href="#__codelineno-99-335"></a><span class="c1">#recovery_min_apply_delay = 0           # minimum delay for applying changes during recovery</span>
</span><span id="__span-99-336"><a id="__codelineno-99-336" name="__codelineno-99-336" href="#__codelineno-99-336"></a>
</span><span id="__span-99-337"><a id="__codelineno-99-337" name="__codelineno-99-337" href="#__codelineno-99-337"></a><span class="c1"># - Subscribers -</span>
</span><span id="__span-99-338"><a id="__codelineno-99-338" name="__codelineno-99-338" href="#__codelineno-99-338"></a>
</span><span id="__span-99-339"><a id="__codelineno-99-339" name="__codelineno-99-339" href="#__codelineno-99-339"></a><span class="c1"># These settings are ignored on a publisher.</span>
</span><span id="__span-99-340"><a id="__codelineno-99-340" name="__codelineno-99-340" href="#__codelineno-99-340"></a>
</span><span id="__span-99-341"><a id="__codelineno-99-341" name="__codelineno-99-341" href="#__codelineno-99-341"></a><span class="c1">#max_logical_replication_workers = 4    # taken from max_worker_processes</span>
</span><span id="__span-99-342"><a id="__codelineno-99-342" name="__codelineno-99-342" href="#__codelineno-99-342"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-343"><a id="__codelineno-99-343" name="__codelineno-99-343" href="#__codelineno-99-343"></a><span class="c1">#max_sync_workers_per_subscription = 2  # taken from max_logical_replication_workers</span>
</span><span id="__span-99-344"><a id="__codelineno-99-344" name="__codelineno-99-344" href="#__codelineno-99-344"></a>
</span><span id="__span-99-345"><a id="__codelineno-99-345" name="__codelineno-99-345" href="#__codelineno-99-345"></a>
</span><span id="__span-99-346"><a id="__codelineno-99-346" name="__codelineno-99-346" href="#__codelineno-99-346"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-347"><a id="__codelineno-99-347" name="__codelineno-99-347" href="#__codelineno-99-347"></a><span class="c1"># QUERY TUNING</span>
</span><span id="__span-99-348"><a id="__codelineno-99-348" name="__codelineno-99-348" href="#__codelineno-99-348"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-349"><a id="__codelineno-99-349" name="__codelineno-99-349" href="#__codelineno-99-349"></a>
</span><span id="__span-99-350"><a id="__codelineno-99-350" name="__codelineno-99-350" href="#__codelineno-99-350"></a><span class="c1"># - Planner Method Configuration -</span>
</span><span id="__span-99-351"><a id="__codelineno-99-351" name="__codelineno-99-351" href="#__codelineno-99-351"></a>
</span><span id="__span-99-352"><a id="__codelineno-99-352" name="__codelineno-99-352" href="#__codelineno-99-352"></a><span class="c1">#enable_bitmapscan = on</span>
</span><span id="__span-99-353"><a id="__codelineno-99-353" name="__codelineno-99-353" href="#__codelineno-99-353"></a><span class="c1">#enable_hashagg = on</span>
</span><span id="__span-99-354"><a id="__codelineno-99-354" name="__codelineno-99-354" href="#__codelineno-99-354"></a><span class="c1">#enable_hashjoin = on</span>
</span><span id="__span-99-355"><a id="__codelineno-99-355" name="__codelineno-99-355" href="#__codelineno-99-355"></a><span class="c1">#enable_indexscan = on</span>
</span><span id="__span-99-356"><a id="__codelineno-99-356" name="__codelineno-99-356" href="#__codelineno-99-356"></a><span class="c1">#enable_indexonlyscan = on</span>
</span><span id="__span-99-357"><a id="__codelineno-99-357" name="__codelineno-99-357" href="#__codelineno-99-357"></a><span class="c1">#enable_material = on</span>
</span><span id="__span-99-358"><a id="__codelineno-99-358" name="__codelineno-99-358" href="#__codelineno-99-358"></a><span class="c1">#enable_mergejoin = on</span>
</span><span id="__span-99-359"><a id="__codelineno-99-359" name="__codelineno-99-359" href="#__codelineno-99-359"></a><span class="c1">#enable_nestloop = on</span>
</span><span id="__span-99-360"><a id="__codelineno-99-360" name="__codelineno-99-360" href="#__codelineno-99-360"></a><span class="c1">#enable_parallel_append = on</span>
</span><span id="__span-99-361"><a id="__codelineno-99-361" name="__codelineno-99-361" href="#__codelineno-99-361"></a><span class="c1">#enable_seqscan = on</span>
</span><span id="__span-99-362"><a id="__codelineno-99-362" name="__codelineno-99-362" href="#__codelineno-99-362"></a><span class="c1">#enable_sort = on</span>
</span><span id="__span-99-363"><a id="__codelineno-99-363" name="__codelineno-99-363" href="#__codelineno-99-363"></a><span class="c1">#enable_tidscan = on</span>
</span><span id="__span-99-364"><a id="__codelineno-99-364" name="__codelineno-99-364" href="#__codelineno-99-364"></a><span class="c1">#enable_partitionwise_join = off</span>
</span><span id="__span-99-365"><a id="__codelineno-99-365" name="__codelineno-99-365" href="#__codelineno-99-365"></a><span class="c1">#enable_partitionwise_aggregate = off</span>
</span><span id="__span-99-366"><a id="__codelineno-99-366" name="__codelineno-99-366" href="#__codelineno-99-366"></a><span class="c1">#enable_parallel_hash = on</span>
</span><span id="__span-99-367"><a id="__codelineno-99-367" name="__codelineno-99-367" href="#__codelineno-99-367"></a><span class="c1">#enable_partition_pruning = on</span>
</span><span id="__span-99-368"><a id="__codelineno-99-368" name="__codelineno-99-368" href="#__codelineno-99-368"></a>
</span><span id="__span-99-369"><a id="__codelineno-99-369" name="__codelineno-99-369" href="#__codelineno-99-369"></a><span class="c1"># - Planner Cost Constants -</span>
</span><span id="__span-99-370"><a id="__codelineno-99-370" name="__codelineno-99-370" href="#__codelineno-99-370"></a>
</span><span id="__span-99-371"><a id="__codelineno-99-371" name="__codelineno-99-371" href="#__codelineno-99-371"></a>
</span><span id="__span-99-372"><a id="__codelineno-99-372" name="__codelineno-99-372" href="#__codelineno-99-372"></a><span class="c1">#seq_page_cost = 1.0                    # measured on an arbitrary scale</span>
</span><span id="__span-99-373"><a id="__codelineno-99-373" name="__codelineno-99-373" href="#__codelineno-99-373"></a><span class="c1">#random_page_cost = 4.0                 # same scale as above</span>
</span><span id="__span-99-374"><a id="__codelineno-99-374" name="__codelineno-99-374" href="#__codelineno-99-374"></a><span class="c1">#cpu_tuple_cost = 0.01                  # same scale as above</span>
</span><span id="__span-99-375"><a id="__codelineno-99-375" name="__codelineno-99-375" href="#__codelineno-99-375"></a><span class="c1">#cpu_index_tuple_cost = 0.005           # same scale as above</span>
</span><span id="__span-99-376"><a id="__codelineno-99-376" name="__codelineno-99-376" href="#__codelineno-99-376"></a><span class="c1">#cpu_operator_cost = 0.0025             # same scale as above</span>
</span><span id="__span-99-377"><a id="__codelineno-99-377" name="__codelineno-99-377" href="#__codelineno-99-377"></a><span class="c1">#parallel_tuple_cost = 0.1              # same scale as above</span>
</span><span id="__span-99-378"><a id="__codelineno-99-378" name="__codelineno-99-378" href="#__codelineno-99-378"></a><span class="c1">#parallel_setup_cost = 1000.0   # same scale as above</span>
</span><span id="__span-99-379"><a id="__codelineno-99-379" name="__codelineno-99-379" href="#__codelineno-99-379"></a>
</span><span id="__span-99-380"><a id="__codelineno-99-380" name="__codelineno-99-380" href="#__codelineno-99-380"></a><span class="c1">#jit_above_cost = 100000                # perform JIT compilation if available</span>
</span><span id="__span-99-381"><a id="__codelineno-99-381" name="__codelineno-99-381" href="#__codelineno-99-381"></a>                                        <span class="c1"># and query more expensive than this;</span>
</span><span id="__span-99-382"><a id="__codelineno-99-382" name="__codelineno-99-382" href="#__codelineno-99-382"></a>                                        <span class="c1"># -1 disables</span>
</span><span id="__span-99-383"><a id="__codelineno-99-383" name="__codelineno-99-383" href="#__codelineno-99-383"></a><span class="c1">#jit_inline_above_cost = 500000         # inline small functions if query is</span>
</span><span id="__span-99-384"><a id="__codelineno-99-384" name="__codelineno-99-384" href="#__codelineno-99-384"></a>                                        <span class="c1"># more expensive than this; -1 disables</span>
</span><span id="__span-99-385"><a id="__codelineno-99-385" name="__codelineno-99-385" href="#__codelineno-99-385"></a><span class="c1">#jit_optimize_above_cost = 500000       # use expensive JIT optimizations if</span>
</span><span id="__span-99-386"><a id="__codelineno-99-386" name="__codelineno-99-386" href="#__codelineno-99-386"></a>                                        <span class="c1"># query is more expensive than this;</span>
</span><span id="__span-99-387"><a id="__codelineno-99-387" name="__codelineno-99-387" href="#__codelineno-99-387"></a>                                        <span class="c1"># -1 disables</span>
</span><span id="__span-99-388"><a id="__codelineno-99-388" name="__codelineno-99-388" href="#__codelineno-99-388"></a>
</span><span id="__span-99-389"><a id="__codelineno-99-389" name="__codelineno-99-389" href="#__codelineno-99-389"></a><span class="c1">#min_parallel_table_scan_size = 8MB</span>
</span><span id="__span-99-390"><a id="__codelineno-99-390" name="__codelineno-99-390" href="#__codelineno-99-390"></a><span class="c1">#min_parallel_index_scan_size = 512kB</span>
</span><span id="__span-99-391"><a id="__codelineno-99-391" name="__codelineno-99-391" href="#__codelineno-99-391"></a><span class="c1">#effective_cache_size = 4GB</span>
</span><span id="__span-99-392"><a id="__codelineno-99-392" name="__codelineno-99-392" href="#__codelineno-99-392"></a>
</span><span id="__span-99-393"><a id="__codelineno-99-393" name="__codelineno-99-393" href="#__codelineno-99-393"></a><span class="c1"># - Genetic Query Optimizer -</span>
</span><span id="__span-99-394"><a id="__codelineno-99-394" name="__codelineno-99-394" href="#__codelineno-99-394"></a>
</span><span id="__span-99-395"><a id="__codelineno-99-395" name="__codelineno-99-395" href="#__codelineno-99-395"></a><span class="c1">#geqo = on</span>
</span><span id="__span-99-396"><a id="__codelineno-99-396" name="__codelineno-99-396" href="#__codelineno-99-396"></a><span class="c1">#geqo_threshold = 12</span>
</span><span id="__span-99-397"><a id="__codelineno-99-397" name="__codelineno-99-397" href="#__codelineno-99-397"></a><span class="c1">#geqo_effort = 5                        # range 1-10</span>
</span><span id="__span-99-398"><a id="__codelineno-99-398" name="__codelineno-99-398" href="#__codelineno-99-398"></a><span class="c1">#geqo_pool_size = 0                     # selects default based on effort</span>
</span><span id="__span-99-399"><a id="__codelineno-99-399" name="__codelineno-99-399" href="#__codelineno-99-399"></a><span class="c1">#geqo_generations = 0                   # selects default based on effort</span>
</span><span id="__span-99-400"><a id="__codelineno-99-400" name="__codelineno-99-400" href="#__codelineno-99-400"></a><span class="c1">#geqo_selection_bias = 2.0              # range 1.5-2.0</span>
</span><span id="__span-99-401"><a id="__codelineno-99-401" name="__codelineno-99-401" href="#__codelineno-99-401"></a><span class="c1">#geqo_seed = 0.0                        # range 0.0-1.0</span>
</span><span id="__span-99-402"><a id="__codelineno-99-402" name="__codelineno-99-402" href="#__codelineno-99-402"></a>
</span><span id="__span-99-403"><a id="__codelineno-99-403" name="__codelineno-99-403" href="#__codelineno-99-403"></a><span class="c1"># - Other Planner Options -</span>
</span><span id="__span-99-404"><a id="__codelineno-99-404" name="__codelineno-99-404" href="#__codelineno-99-404"></a>
</span><span id="__span-99-405"><a id="__codelineno-99-405" name="__codelineno-99-405" href="#__codelineno-99-405"></a><span class="c1">#default_statistics_target = 100        # range 1-10000</span>
</span><span id="__span-99-406"><a id="__codelineno-99-406" name="__codelineno-99-406" href="#__codelineno-99-406"></a><span class="c1">#constraint_exclusion = partition       # on, off, or partition</span>
</span><span id="__span-99-407"><a id="__codelineno-99-407" name="__codelineno-99-407" href="#__codelineno-99-407"></a><span class="c1">#cursor_tuple_fraction = 0.1            # range 0.0-1.0</span>
</span><span id="__span-99-408"><a id="__codelineno-99-408" name="__codelineno-99-408" href="#__codelineno-99-408"></a><span class="c1">#from_collapse_limit = 8</span>
</span><span id="__span-99-409"><a id="__codelineno-99-409" name="__codelineno-99-409" href="#__codelineno-99-409"></a><span class="c1">#join_collapse_limit = 8                # 1 disables collapsing of explicit</span>
</span><span id="__span-99-410"><a id="__codelineno-99-410" name="__codelineno-99-410" href="#__codelineno-99-410"></a>                                        <span class="c1"># JOIN clauses</span>
</span><span id="__span-99-411"><a id="__codelineno-99-411" name="__codelineno-99-411" href="#__codelineno-99-411"></a><span class="c1">#force_parallel_mode = off</span>
</span><span id="__span-99-412"><a id="__codelineno-99-412" name="__codelineno-99-412" href="#__codelineno-99-412"></a><span class="c1">#jit = on                               # allow JIT compilation</span>
</span><span id="__span-99-413"><a id="__codelineno-99-413" name="__codelineno-99-413" href="#__codelineno-99-413"></a><span class="c1">#plan_cache_mode = auto                 # auto, force_generic_plan or</span>
</span><span id="__span-99-414"><a id="__codelineno-99-414" name="__codelineno-99-414" href="#__codelineno-99-414"></a>                                        <span class="c1"># force_custom_plan</span>
</span><span id="__span-99-415"><a id="__codelineno-99-415" name="__codelineno-99-415" href="#__codelineno-99-415"></a>
</span><span id="__span-99-416"><a id="__codelineno-99-416" name="__codelineno-99-416" href="#__codelineno-99-416"></a>
</span><span id="__span-99-417"><a id="__codelineno-99-417" name="__codelineno-99-417" href="#__codelineno-99-417"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-418"><a id="__codelineno-99-418" name="__codelineno-99-418" href="#__codelineno-99-418"></a><span class="c1"># REPORTING AND LOGGING</span>
</span><span id="__span-99-419"><a id="__codelineno-99-419" name="__codelineno-99-419" href="#__codelineno-99-419"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-420"><a id="__codelineno-99-420" name="__codelineno-99-420" href="#__codelineno-99-420"></a>
</span><span id="__span-99-421"><a id="__codelineno-99-421" name="__codelineno-99-421" href="#__codelineno-99-421"></a><span class="c1"># - Where to Log -</span>
</span><span id="__span-99-422"><a id="__codelineno-99-422" name="__codelineno-99-422" href="#__codelineno-99-422"></a>
</span><span id="__span-99-423"><a id="__codelineno-99-423" name="__codelineno-99-423" href="#__codelineno-99-423"></a><span class="c1">#log_destination = &#39;stderr&#39;             # Valid values are combinations of</span>
</span><span id="__span-99-424"><a id="__codelineno-99-424" name="__codelineno-99-424" href="#__codelineno-99-424"></a>                                        <span class="c1"># stderr, csvlog, syslog, and eventlog,</span>
</span><span id="__span-99-425"><a id="__codelineno-99-425" name="__codelineno-99-425" href="#__codelineno-99-425"></a>                                        <span class="c1"># depending on platform.  csvlog</span>
</span><span id="__span-99-426"><a id="__codelineno-99-426" name="__codelineno-99-426" href="#__codelineno-99-426"></a>                                        <span class="c1"># requires logging_collector to be on.</span>
</span><span id="__span-99-427"><a id="__codelineno-99-427" name="__codelineno-99-427" href="#__codelineno-99-427"></a>
</span><span id="__span-99-428"><a id="__codelineno-99-428" name="__codelineno-99-428" href="#__codelineno-99-428"></a><span class="c1"># This is used when logging to stderr:</span>
</span><span id="__span-99-429"><a id="__codelineno-99-429" name="__codelineno-99-429" href="#__codelineno-99-429"></a><span class="c1">#logging_collector = off                # Enable capturing of stderr and csvlog</span>
</span><span id="__span-99-430"><a id="__codelineno-99-430" name="__codelineno-99-430" href="#__codelineno-99-430"></a>                                        <span class="c1"># into log files. Required to be on for</span>
</span><span id="__span-99-431"><a id="__codelineno-99-431" name="__codelineno-99-431" href="#__codelineno-99-431"></a>                                        <span class="c1"># csvlogs.</span>
</span><span id="__span-99-432"><a id="__codelineno-99-432" name="__codelineno-99-432" href="#__codelineno-99-432"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-433"><a id="__codelineno-99-433" name="__codelineno-99-433" href="#__codelineno-99-433"></a>
</span><span id="__span-99-434"><a id="__codelineno-99-434" name="__codelineno-99-434" href="#__codelineno-99-434"></a><span class="c1"># These are only used if logging_collector is on:</span>
</span><span id="__span-99-435"><a id="__codelineno-99-435" name="__codelineno-99-435" href="#__codelineno-99-435"></a><span class="c1">#log_directory = &#39;log&#39;                  # directory where log files are written,</span>
</span><span id="__span-99-436"><a id="__codelineno-99-436" name="__codelineno-99-436" href="#__codelineno-99-436"></a>                                        <span class="c1"># can be absolute or relative to PGDATA</span>
</span><span id="__span-99-437"><a id="__codelineno-99-437" name="__codelineno-99-437" href="#__codelineno-99-437"></a><span class="c1">#log_filename = &#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;        # log file name pattern,</span>
</span><span id="__span-99-438"><a id="__codelineno-99-438" name="__codelineno-99-438" href="#__codelineno-99-438"></a>                                        <span class="c1"># can include strftime() escapes</span>
</span><span id="__span-99-439"><a id="__codelineno-99-439" name="__codelineno-99-439" href="#__codelineno-99-439"></a><span class="c1">#log_file_mode = 0600                   # creation mode for log files,</span>
</span><span id="__span-99-440"><a id="__codelineno-99-440" name="__codelineno-99-440" href="#__codelineno-99-440"></a>                                        <span class="c1"># begin with 0 to use octal notation</span>
</span><span id="__span-99-441"><a id="__codelineno-99-441" name="__codelineno-99-441" href="#__codelineno-99-441"></a><span class="c1">#log_truncate_on_rotation = off         # If on, an existing log file with the</span>
</span><span id="__span-99-442"><a id="__codelineno-99-442" name="__codelineno-99-442" href="#__codelineno-99-442"></a>                                        <span class="c1"># same name as the new log file will be</span>
</span><span id="__span-99-443"><a id="__codelineno-99-443" name="__codelineno-99-443" href="#__codelineno-99-443"></a>                                        <span class="c1"># truncated rather than appended to.</span>
</span><span id="__span-99-444"><a id="__codelineno-99-444" name="__codelineno-99-444" href="#__codelineno-99-444"></a>                                        <span class="c1"># But such truncation only occurs on</span>
</span><span id="__span-99-445"><a id="__codelineno-99-445" name="__codelineno-99-445" href="#__codelineno-99-445"></a>                                        <span class="c1"># time-driven rotation, not on restarts</span>
</span><span id="__span-99-446"><a id="__codelineno-99-446" name="__codelineno-99-446" href="#__codelineno-99-446"></a>                                        <span class="c1"># or size-driven rotation.  Default is</span>
</span><span id="__span-99-447"><a id="__codelineno-99-447" name="__codelineno-99-447" href="#__codelineno-99-447"></a>                                        <span class="c1"># off, meaning append to existing files</span>
</span><span id="__span-99-448"><a id="__codelineno-99-448" name="__codelineno-99-448" href="#__codelineno-99-448"></a>                                        <span class="c1"># in all cases.</span>
</span><span id="__span-99-449"><a id="__codelineno-99-449" name="__codelineno-99-449" href="#__codelineno-99-449"></a><span class="c1">#log_rotation_age = 1d                  # Automatic rotation of logfiles will</span>
</span><span id="__span-99-450"><a id="__codelineno-99-450" name="__codelineno-99-450" href="#__codelineno-99-450"></a>                                        <span class="c1"># happen after that time.  0 disables.</span>
</span><span id="__span-99-451"><a id="__codelineno-99-451" name="__codelineno-99-451" href="#__codelineno-99-451"></a><span class="c1">#log_rotation_size = 10MB               # Automatic rotation of logfiles will</span>
</span><span id="__span-99-452"><a id="__codelineno-99-452" name="__codelineno-99-452" href="#__codelineno-99-452"></a>                                        <span class="c1"># happen after that much log output.</span>
</span><span id="__span-99-453"><a id="__codelineno-99-453" name="__codelineno-99-453" href="#__codelineno-99-453"></a>                                        <span class="c1"># 0 disables.</span>
</span><span id="__span-99-454"><a id="__codelineno-99-454" name="__codelineno-99-454" href="#__codelineno-99-454"></a>
</span><span id="__span-99-455"><a id="__codelineno-99-455" name="__codelineno-99-455" href="#__codelineno-99-455"></a><span class="c1"># These are relevant when logging to syslog:</span>
</span><span id="__span-99-456"><a id="__codelineno-99-456" name="__codelineno-99-456" href="#__codelineno-99-456"></a><span class="c1">#syslog_facility = &#39;LOCAL0&#39;</span>
</span><span id="__span-99-457"><a id="__codelineno-99-457" name="__codelineno-99-457" href="#__codelineno-99-457"></a><span class="c1">#syslog_ident = &#39;postgres&#39;</span>
</span><span id="__span-99-458"><a id="__codelineno-99-458" name="__codelineno-99-458" href="#__codelineno-99-458"></a><span class="c1">#syslog_sequence_numbers = on</span>
</span><span id="__span-99-459"><a id="__codelineno-99-459" name="__codelineno-99-459" href="#__codelineno-99-459"></a><span class="c1">#syslog_split_messages = on</span>
</span><span id="__span-99-460"><a id="__codelineno-99-460" name="__codelineno-99-460" href="#__codelineno-99-460"></a>
</span><span id="__span-99-461"><a id="__codelineno-99-461" name="__codelineno-99-461" href="#__codelineno-99-461"></a><span class="c1"># This is only relevant when logging to eventlog (win32):</span>
</span><span id="__span-99-462"><a id="__codelineno-99-462" name="__codelineno-99-462" href="#__codelineno-99-462"></a><span class="c1"># (change requires restart)</span>
</span><span id="__span-99-463"><a id="__codelineno-99-463" name="__codelineno-99-463" href="#__codelineno-99-463"></a><span class="c1">#event_source = &#39;PostgreSQL&#39;</span>
</span><span id="__span-99-464"><a id="__codelineno-99-464" name="__codelineno-99-464" href="#__codelineno-99-464"></a>
</span><span id="__span-99-465"><a id="__codelineno-99-465" name="__codelineno-99-465" href="#__codelineno-99-465"></a><span class="c1"># - When to Log -</span>
</span><span id="__span-99-466"><a id="__codelineno-99-466" name="__codelineno-99-466" href="#__codelineno-99-466"></a>
</span><span id="__span-99-467"><a id="__codelineno-99-467" name="__codelineno-99-467" href="#__codelineno-99-467"></a><span class="c1">#log_min_messages = warning             # values in order of decreasing detail:</span>
</span><span id="__span-99-468"><a id="__codelineno-99-468" name="__codelineno-99-468" href="#__codelineno-99-468"></a>                                        <span class="c1">#   debug5</span>
</span><span id="__span-99-469"><a id="__codelineno-99-469" name="__codelineno-99-469" href="#__codelineno-99-469"></a>                                        <span class="c1">#   debug4</span>
</span><span id="__span-99-470"><a id="__codelineno-99-470" name="__codelineno-99-470" href="#__codelineno-99-470"></a>                                        <span class="c1">#   debug3</span>
</span><span id="__span-99-471"><a id="__codelineno-99-471" name="__codelineno-99-471" href="#__codelineno-99-471"></a>                                        <span class="c1">#   debug2</span>
</span><span id="__span-99-472"><a id="__codelineno-99-472" name="__codelineno-99-472" href="#__codelineno-99-472"></a>                                        <span class="c1">#   debug1</span>
</span><span id="__span-99-473"><a id="__codelineno-99-473" name="__codelineno-99-473" href="#__codelineno-99-473"></a>                                        <span class="c1">#   info</span>
</span><span id="__span-99-474"><a id="__codelineno-99-474" name="__codelineno-99-474" href="#__codelineno-99-474"></a>                                        <span class="c1">#   notice</span>
</span><span id="__span-99-475"><a id="__codelineno-99-475" name="__codelineno-99-475" href="#__codelineno-99-475"></a>                                        <span class="c1">#   warning</span>
</span><span id="__span-99-476"><a id="__codelineno-99-476" name="__codelineno-99-476" href="#__codelineno-99-476"></a>                                        <span class="c1">#   error</span>
</span><span id="__span-99-477"><a id="__codelineno-99-477" name="__codelineno-99-477" href="#__codelineno-99-477"></a>                                        <span class="c1">#   log</span>
</span><span id="__span-99-478"><a id="__codelineno-99-478" name="__codelineno-99-478" href="#__codelineno-99-478"></a>                                        <span class="c1">#   fatal</span>
</span><span id="__span-99-479"><a id="__codelineno-99-479" name="__codelineno-99-479" href="#__codelineno-99-479"></a>                                        <span class="c1">#   panic</span>
</span><span id="__span-99-480"><a id="__codelineno-99-480" name="__codelineno-99-480" href="#__codelineno-99-480"></a>
</span><span id="__span-99-481"><a id="__codelineno-99-481" name="__codelineno-99-481" href="#__codelineno-99-481"></a><span class="c1">#log_min_error_statement = error        # values in order of decreasing detail:</span>
</span><span id="__span-99-482"><a id="__codelineno-99-482" name="__codelineno-99-482" href="#__codelineno-99-482"></a>                                        <span class="c1">#   debug5</span>
</span><span id="__span-99-483"><a id="__codelineno-99-483" name="__codelineno-99-483" href="#__codelineno-99-483"></a>                                        <span class="c1">#   debug4</span>
</span><span id="__span-99-484"><a id="__codelineno-99-484" name="__codelineno-99-484" href="#__codelineno-99-484"></a>                                        <span class="c1">#   debug3</span>
</span><span id="__span-99-485"><a id="__codelineno-99-485" name="__codelineno-99-485" href="#__codelineno-99-485"></a>                                        <span class="c1">#   debug2</span>
</span><span id="__span-99-486"><a id="__codelineno-99-486" name="__codelineno-99-486" href="#__codelineno-99-486"></a>                                        <span class="c1">#   debug1</span>
</span><span id="__span-99-487"><a id="__codelineno-99-487" name="__codelineno-99-487" href="#__codelineno-99-487"></a>                                        <span class="c1">#   info</span>
</span><span id="__span-99-488"><a id="__codelineno-99-488" name="__codelineno-99-488" href="#__codelineno-99-488"></a>                                        <span class="c1">#   notice</span>
</span><span id="__span-99-489"><a id="__codelineno-99-489" name="__codelineno-99-489" href="#__codelineno-99-489"></a>                                        <span class="c1">#   warning</span>
</span><span id="__span-99-490"><a id="__codelineno-99-490" name="__codelineno-99-490" href="#__codelineno-99-490"></a>                                        <span class="c1">#   error</span>
</span><span id="__span-99-491"><a id="__codelineno-99-491" name="__codelineno-99-491" href="#__codelineno-99-491"></a>                                        <span class="c1">#   log</span>
</span><span id="__span-99-492"><a id="__codelineno-99-492" name="__codelineno-99-492" href="#__codelineno-99-492"></a>                                        <span class="c1">#   fatal</span>
</span><span id="__span-99-493"><a id="__codelineno-99-493" name="__codelineno-99-493" href="#__codelineno-99-493"></a>                                        <span class="c1">#   panic (effectively off)</span>
</span><span id="__span-99-494"><a id="__codelineno-99-494" name="__codelineno-99-494" href="#__codelineno-99-494"></a>
</span><span id="__span-99-495"><a id="__codelineno-99-495" name="__codelineno-99-495" href="#__codelineno-99-495"></a><span class="c1">#log_min_duration_statement = -1        # -1 is disabled, 0 logs all statements</span>
</span><span id="__span-99-496"><a id="__codelineno-99-496" name="__codelineno-99-496" href="#__codelineno-99-496"></a>                                        <span class="c1"># and their durations, &gt; 0 logs only</span>
</span><span id="__span-99-497"><a id="__codelineno-99-497" name="__codelineno-99-497" href="#__codelineno-99-497"></a>                                        <span class="c1"># statements running at least this number</span>
</span><span id="__span-99-498"><a id="__codelineno-99-498" name="__codelineno-99-498" href="#__codelineno-99-498"></a>                                        <span class="c1"># of milliseconds</span>
</span><span id="__span-99-499"><a id="__codelineno-99-499" name="__codelineno-99-499" href="#__codelineno-99-499"></a>
</span><span id="__span-99-500"><a id="__codelineno-99-500" name="__codelineno-99-500" href="#__codelineno-99-500"></a><span class="c1">#log_transaction_sample_rate = 0.0      # Fraction of transactions whose statements</span>
</span><span id="__span-99-501"><a id="__codelineno-99-501" name="__codelineno-99-501" href="#__codelineno-99-501"></a>                                        <span class="c1"># are logged regardless of their duration. 1.0 logs a&gt;</span>
</span><span id="__span-99-502"><a id="__codelineno-99-502" name="__codelineno-99-502" href="#__codelineno-99-502"></a>                                        <span class="c1"># statements from all transactions, 0.0 never logs.</span>
</span><span id="__span-99-503"><a id="__codelineno-99-503" name="__codelineno-99-503" href="#__codelineno-99-503"></a>
</span><span id="__span-99-504"><a id="__codelineno-99-504" name="__codelineno-99-504" href="#__codelineno-99-504"></a><span class="c1"># - What to Log -</span>
</span><span id="__span-99-505"><a id="__codelineno-99-505" name="__codelineno-99-505" href="#__codelineno-99-505"></a>
</span><span id="__span-99-506"><a id="__codelineno-99-506" name="__codelineno-99-506" href="#__codelineno-99-506"></a><span class="c1">#debug_print_parse = off</span>
</span><span id="__span-99-507"><a id="__codelineno-99-507" name="__codelineno-99-507" href="#__codelineno-99-507"></a><span class="c1">#debug_print_rewritten = off</span>
</span><span id="__span-99-508"><a id="__codelineno-99-508" name="__codelineno-99-508" href="#__codelineno-99-508"></a><span class="c1">#debug_print_plan = off</span>
</span><span id="__span-99-509"><a id="__codelineno-99-509" name="__codelineno-99-509" href="#__codelineno-99-509"></a><span class="c1">#debug_pretty_print = on</span>
</span><span id="__span-99-510"><a id="__codelineno-99-510" name="__codelineno-99-510" href="#__codelineno-99-510"></a><span class="c1">#log_checkpoints = off</span>
</span><span id="__span-99-511"><a id="__codelineno-99-511" name="__codelineno-99-511" href="#__codelineno-99-511"></a><span class="c1">#log_connections = off</span>
</span><span id="__span-99-512"><a id="__codelineno-99-512" name="__codelineno-99-512" href="#__codelineno-99-512"></a><span class="c1">#log_disconnections = off</span>
</span><span id="__span-99-513"><a id="__codelineno-99-513" name="__codelineno-99-513" href="#__codelineno-99-513"></a><span class="c1">#log_duration = off</span>
</span><span id="__span-99-514"><a id="__codelineno-99-514" name="__codelineno-99-514" href="#__codelineno-99-514"></a><span class="c1">#log_error_verbosity = default          # terse, default, or verbose messages</span>
</span><span id="__span-99-515"><a id="__codelineno-99-515" name="__codelineno-99-515" href="#__codelineno-99-515"></a><span class="c1">#log_hostname = off</span>
</span><span id="__span-99-516"><a id="__codelineno-99-516" name="__codelineno-99-516" href="#__codelineno-99-516"></a><span class="n">log_line_prefix</span> <span class="o">=</span> <span class="s1">&#39;%m [%p] %q</span><span class="si">%u</span><span class="s1">@</span><span class="si">%d</span><span class="s1"> &#39;</span>            <span class="c1"># special values:</span>
</span><span id="__span-99-517"><a id="__codelineno-99-517" name="__codelineno-99-517" href="#__codelineno-99-517"></a>                                        <span class="c1">#   %a = application name</span>
</span><span id="__span-99-518"><a id="__codelineno-99-518" name="__codelineno-99-518" href="#__codelineno-99-518"></a>                                        <span class="c1">#   %u = user name</span>
</span><span id="__span-99-519"><a id="__codelineno-99-519" name="__codelineno-99-519" href="#__codelineno-99-519"></a>                                        <span class="c1">#   %d = database name</span>
</span><span id="__span-99-520"><a id="__codelineno-99-520" name="__codelineno-99-520" href="#__codelineno-99-520"></a>                                        <span class="c1">#   %r = remote host and port</span>
</span><span id="__span-99-521"><a id="__codelineno-99-521" name="__codelineno-99-521" href="#__codelineno-99-521"></a>                                        <span class="c1">#   %h = remote host</span>
</span><span id="__span-99-522"><a id="__codelineno-99-522" name="__codelineno-99-522" href="#__codelineno-99-522"></a>                                        <span class="c1">#   %p = process ID</span>
</span><span id="__span-99-523"><a id="__codelineno-99-523" name="__codelineno-99-523" href="#__codelineno-99-523"></a>                                        <span class="c1">#   %t = timestamp without milliseconds</span>
</span><span id="__span-99-524"><a id="__codelineno-99-524" name="__codelineno-99-524" href="#__codelineno-99-524"></a>                                        <span class="c1">#   %m = timestamp with milliseconds</span>
</span><span id="__span-99-525"><a id="__codelineno-99-525" name="__codelineno-99-525" href="#__codelineno-99-525"></a>                                        <span class="c1">#   %n = timestamp with milliseconds (as a Unix epoch)</span>
</span><span id="__span-99-526"><a id="__codelineno-99-526" name="__codelineno-99-526" href="#__codelineno-99-526"></a>                                        <span class="c1">#   %i = command tag</span>
</span><span id="__span-99-527"><a id="__codelineno-99-527" name="__codelineno-99-527" href="#__codelineno-99-527"></a>                                        <span class="c1">#   %e = SQL state</span>
</span><span id="__span-99-528"><a id="__codelineno-99-528" name="__codelineno-99-528" href="#__codelineno-99-528"></a>                                        <span class="c1">#   %c = session ID</span>
</span><span id="__span-99-529"><a id="__codelineno-99-529" name="__codelineno-99-529" href="#__codelineno-99-529"></a>                                        <span class="c1">#   %l = session line number</span>
</span><span id="__span-99-530"><a id="__codelineno-99-530" name="__codelineno-99-530" href="#__codelineno-99-530"></a>                                        <span class="c1">#   %s = session start timestamp</span>
</span><span id="__span-99-531"><a id="__codelineno-99-531" name="__codelineno-99-531" href="#__codelineno-99-531"></a>                                        <span class="c1">#   %v = virtual transaction ID</span>
</span><span id="__span-99-532"><a id="__codelineno-99-532" name="__codelineno-99-532" href="#__codelineno-99-532"></a>                                        <span class="c1">#   %x = transaction ID (0 if none)</span>
</span><span id="__span-99-533"><a id="__codelineno-99-533" name="__codelineno-99-533" href="#__codelineno-99-533"></a>                                        <span class="c1">#   %q = stop here in non-session</span>
</span><span id="__span-99-534"><a id="__codelineno-99-534" name="__codelineno-99-534" href="#__codelineno-99-534"></a>                                        <span class="c1">#        processes</span>
</span><span id="__span-99-535"><a id="__codelineno-99-535" name="__codelineno-99-535" href="#__codelineno-99-535"></a>                                        <span class="c1">#   %% = &#39;%&#39;</span>
</span><span id="__span-99-536"><a id="__codelineno-99-536" name="__codelineno-99-536" href="#__codelineno-99-536"></a>                                        <span class="c1"># e.g. &#39;&lt;%u%%%d&gt; &#39;</span>
</span><span id="__span-99-537"><a id="__codelineno-99-537" name="__codelineno-99-537" href="#__codelineno-99-537"></a><span class="c1">#log_lock_waits = off                   # log lock waits &gt;= deadlock_timeout</span>
</span><span id="__span-99-538"><a id="__codelineno-99-538" name="__codelineno-99-538" href="#__codelineno-99-538"></a><span class="c1">#log_statement = &#39;none&#39;                 # none, ddl, mod, all</span>
</span><span id="__span-99-539"><a id="__codelineno-99-539" name="__codelineno-99-539" href="#__codelineno-99-539"></a><span class="c1">#log_replication_commands = off</span>
</span><span id="__span-99-540"><a id="__codelineno-99-540" name="__codelineno-99-540" href="#__codelineno-99-540"></a><span class="c1">#log_temp_files = -1                    # log temporary files equal or larger</span>
</span><span id="__span-99-541"><a id="__codelineno-99-541" name="__codelineno-99-541" href="#__codelineno-99-541"></a>                                        <span class="c1"># than the specified size in kilobytes;</span>
</span><span id="__span-99-542"><a id="__codelineno-99-542" name="__codelineno-99-542" href="#__codelineno-99-542"></a>                                        <span class="c1"># -1 disables, 0 logs all temp files</span>
</span><span id="__span-99-543"><a id="__codelineno-99-543" name="__codelineno-99-543" href="#__codelineno-99-543"></a><span class="n">log_timezone</span> <span class="o">=</span> <span class="s1">&#39;Etc/UTC&#39;</span>
</span><span id="__span-99-544"><a id="__codelineno-99-544" name="__codelineno-99-544" href="#__codelineno-99-544"></a>
</span><span id="__span-99-545"><a id="__codelineno-99-545" name="__codelineno-99-545" href="#__codelineno-99-545"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-546"><a id="__codelineno-99-546" name="__codelineno-99-546" href="#__codelineno-99-546"></a><span class="c1"># PROCESS TITLE</span>
</span><span id="__span-99-547"><a id="__codelineno-99-547" name="__codelineno-99-547" href="#__codelineno-99-547"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-548"><a id="__codelineno-99-548" name="__codelineno-99-548" href="#__codelineno-99-548"></a>
</span><span id="__span-99-549"><a id="__codelineno-99-549" name="__codelineno-99-549" href="#__codelineno-99-549"></a><span class="n">cluster_name</span> <span class="o">=</span> <span class="s1">&#39;12/main&#39;</span>                        <span class="c1"># added to process titles if nonempty</span>
</span><span id="__span-99-550"><a id="__codelineno-99-550" name="__codelineno-99-550" href="#__codelineno-99-550"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-551"><a id="__codelineno-99-551" name="__codelineno-99-551" href="#__codelineno-99-551"></a><span class="c1">#update_process_title = on</span>
</span><span id="__span-99-552"><a id="__codelineno-99-552" name="__codelineno-99-552" href="#__codelineno-99-552"></a>
</span><span id="__span-99-553"><a id="__codelineno-99-553" name="__codelineno-99-553" href="#__codelineno-99-553"></a>
</span><span id="__span-99-554"><a id="__codelineno-99-554" name="__codelineno-99-554" href="#__codelineno-99-554"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-555"><a id="__codelineno-99-555" name="__codelineno-99-555" href="#__codelineno-99-555"></a><span class="c1"># STATISTICS</span>
</span><span id="__span-99-556"><a id="__codelineno-99-556" name="__codelineno-99-556" href="#__codelineno-99-556"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-557"><a id="__codelineno-99-557" name="__codelineno-99-557" href="#__codelineno-99-557"></a>
</span><span id="__span-99-558"><a id="__codelineno-99-558" name="__codelineno-99-558" href="#__codelineno-99-558"></a><span class="c1"># - Query and Index Statistics Collector -</span>
</span><span id="__span-99-559"><a id="__codelineno-99-559" name="__codelineno-99-559" href="#__codelineno-99-559"></a>
</span><span id="__span-99-560"><a id="__codelineno-99-560" name="__codelineno-99-560" href="#__codelineno-99-560"></a><span class="c1">#track_activities = on</span>
</span><span id="__span-99-561"><a id="__codelineno-99-561" name="__codelineno-99-561" href="#__codelineno-99-561"></a><span class="c1">#track_counts = on</span>
</span><span id="__span-99-562"><a id="__codelineno-99-562" name="__codelineno-99-562" href="#__codelineno-99-562"></a><span class="c1">#track_io_timing = off</span>
</span><span id="__span-99-563"><a id="__codelineno-99-563" name="__codelineno-99-563" href="#__codelineno-99-563"></a><span class="c1">#track_functions = none                 # none, pl, all</span>
</span><span id="__span-99-564"><a id="__codelineno-99-564" name="__codelineno-99-564" href="#__codelineno-99-564"></a><span class="c1">#track_activity_query_size = 1024       # (change requires restart)</span>
</span><span id="__span-99-565"><a id="__codelineno-99-565" name="__codelineno-99-565" href="#__codelineno-99-565"></a><span class="n">stats_temp_directory</span> <span class="o">=</span> <span class="s1">&#39;/var/run/postgresql/12-main.pg_stat_tmp&#39;</span>
</span><span id="__span-99-566"><a id="__codelineno-99-566" name="__codelineno-99-566" href="#__codelineno-99-566"></a>
</span><span id="__span-99-567"><a id="__codelineno-99-567" name="__codelineno-99-567" href="#__codelineno-99-567"></a>
</span><span id="__span-99-568"><a id="__codelineno-99-568" name="__codelineno-99-568" href="#__codelineno-99-568"></a><span class="c1"># - Monitoring -</span>
</span><span id="__span-99-569"><a id="__codelineno-99-569" name="__codelineno-99-569" href="#__codelineno-99-569"></a>
</span><span id="__span-99-570"><a id="__codelineno-99-570" name="__codelineno-99-570" href="#__codelineno-99-570"></a><span class="c1">#log_parser_stats = off</span>
</span><span id="__span-99-571"><a id="__codelineno-99-571" name="__codelineno-99-571" href="#__codelineno-99-571"></a><span class="c1">#log_planner_stats = off</span>
</span><span id="__span-99-572"><a id="__codelineno-99-572" name="__codelineno-99-572" href="#__codelineno-99-572"></a><span class="c1">#log_executor_stats = off</span>
</span><span id="__span-99-573"><a id="__codelineno-99-573" name="__codelineno-99-573" href="#__codelineno-99-573"></a><span class="c1">#log_statement_stats = off</span>
</span><span id="__span-99-574"><a id="__codelineno-99-574" name="__codelineno-99-574" href="#__codelineno-99-574"></a>
</span><span id="__span-99-575"><a id="__codelineno-99-575" name="__codelineno-99-575" href="#__codelineno-99-575"></a>
</span><span id="__span-99-576"><a id="__codelineno-99-576" name="__codelineno-99-576" href="#__codelineno-99-576"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-577"><a id="__codelineno-99-577" name="__codelineno-99-577" href="#__codelineno-99-577"></a><span class="c1"># AUTOVACUUM</span>
</span><span id="__span-99-578"><a id="__codelineno-99-578" name="__codelineno-99-578" href="#__codelineno-99-578"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-579"><a id="__codelineno-99-579" name="__codelineno-99-579" href="#__codelineno-99-579"></a>
</span><span id="__span-99-580"><a id="__codelineno-99-580" name="__codelineno-99-580" href="#__codelineno-99-580"></a><span class="c1">#autovacuum = on                        # Enable autovacuum subprocess?  &#39;on&#39;</span>
</span><span id="__span-99-581"><a id="__codelineno-99-581" name="__codelineno-99-581" href="#__codelineno-99-581"></a>                                        <span class="c1"># requires track_counts to also be on.</span>
</span><span id="__span-99-582"><a id="__codelineno-99-582" name="__codelineno-99-582" href="#__codelineno-99-582"></a><span class="c1">#log_autovacuum_min_duration = -1       # -1 disables, 0 logs all actions and</span>
</span><span id="__span-99-583"><a id="__codelineno-99-583" name="__codelineno-99-583" href="#__codelineno-99-583"></a>                                        <span class="c1"># their durations, &gt; 0 logs only</span>
</span><span id="__span-99-584"><a id="__codelineno-99-584" name="__codelineno-99-584" href="#__codelineno-99-584"></a>                                        <span class="c1"># actions running at least this number</span>
</span><span id="__span-99-585"><a id="__codelineno-99-585" name="__codelineno-99-585" href="#__codelineno-99-585"></a>                                        <span class="c1"># of milliseconds.</span>
</span><span id="__span-99-586"><a id="__codelineno-99-586" name="__codelineno-99-586" href="#__codelineno-99-586"></a><span class="c1">#autovacuum_max_workers = 3             # max number of autovacuum subprocesses</span>
</span><span id="__span-99-587"><a id="__codelineno-99-587" name="__codelineno-99-587" href="#__codelineno-99-587"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-588"><a id="__codelineno-99-588" name="__codelineno-99-588" href="#__codelineno-99-588"></a><span class="c1">#autovacuum_naptime = 1min              # time between autovacuum runs</span>
</span><span id="__span-99-589"><a id="__codelineno-99-589" name="__codelineno-99-589" href="#__codelineno-99-589"></a><span class="c1">#autovacuum_vacuum_threshold = 50       # min number of row updates before</span>
</span><span id="__span-99-590"><a id="__codelineno-99-590" name="__codelineno-99-590" href="#__codelineno-99-590"></a>                                        <span class="c1"># vacuum</span>
</span><span id="__span-99-591"><a id="__codelineno-99-591" name="__codelineno-99-591" href="#__codelineno-99-591"></a><span class="c1">#autovacuum_analyze_threshold = 50      # min number of row updates before</span>
</span><span id="__span-99-592"><a id="__codelineno-99-592" name="__codelineno-99-592" href="#__codelineno-99-592"></a>                                        <span class="c1"># analyze</span>
</span><span id="__span-99-593"><a id="__codelineno-99-593" name="__codelineno-99-593" href="#__codelineno-99-593"></a><span class="c1">#autovacuum_vacuum_scale_factor = 0.2   # fraction of table size before vacuum</span>
</span><span id="__span-99-594"><a id="__codelineno-99-594" name="__codelineno-99-594" href="#__codelineno-99-594"></a><span class="c1">#autovacuum_analyze_scale_factor = 0.1  # fraction of table size before analyze</span>
</span><span id="__span-99-595"><a id="__codelineno-99-595" name="__codelineno-99-595" href="#__codelineno-99-595"></a><span class="c1">#autovacuum_freeze_max_age = 200000000  # maximum XID age before forced vacuum</span>
</span><span id="__span-99-596"><a id="__codelineno-99-596" name="__codelineno-99-596" href="#__codelineno-99-596"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-597"><a id="__codelineno-99-597" name="__codelineno-99-597" href="#__codelineno-99-597"></a><span class="c1">#autovacuum_multixact_freeze_max_age = 400000000        # maximum multixact age</span>
</span><span id="__span-99-598"><a id="__codelineno-99-598" name="__codelineno-99-598" href="#__codelineno-99-598"></a>                                        <span class="c1"># before forced vacuum</span>
</span><span id="__span-99-599"><a id="__codelineno-99-599" name="__codelineno-99-599" href="#__codelineno-99-599"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-600"><a id="__codelineno-99-600" name="__codelineno-99-600" href="#__codelineno-99-600"></a><span class="c1">#autovacuum_vacuum_cost_delay = 2ms     # default vacuum cost delay for</span>
</span><span id="__span-99-601"><a id="__codelineno-99-601" name="__codelineno-99-601" href="#__codelineno-99-601"></a>                                        <span class="c1"># autovacuum, in milliseconds;</span>
</span><span id="__span-99-602"><a id="__codelineno-99-602" name="__codelineno-99-602" href="#__codelineno-99-602"></a>                                        <span class="c1"># -1 means use vacuum_cost_delay</span>
</span><span id="__span-99-603"><a id="__codelineno-99-603" name="__codelineno-99-603" href="#__codelineno-99-603"></a><span class="c1">#autovacuum_vacuum_cost_limit = -1      # default vacuum cost limit for</span>
</span><span id="__span-99-604"><a id="__codelineno-99-604" name="__codelineno-99-604" href="#__codelineno-99-604"></a>                                        <span class="c1"># autovacuum, -1 means use</span>
</span><span id="__span-99-605"><a id="__codelineno-99-605" name="__codelineno-99-605" href="#__codelineno-99-605"></a>                                        <span class="c1"># vacuum_cost_limit</span>
</span><span id="__span-99-606"><a id="__codelineno-99-606" name="__codelineno-99-606" href="#__codelineno-99-606"></a>
</span><span id="__span-99-607"><a id="__codelineno-99-607" name="__codelineno-99-607" href="#__codelineno-99-607"></a>
</span><span id="__span-99-608"><a id="__codelineno-99-608" name="__codelineno-99-608" href="#__codelineno-99-608"></a>
</span><span id="__span-99-609"><a id="__codelineno-99-609" name="__codelineno-99-609" href="#__codelineno-99-609"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-610"><a id="__codelineno-99-610" name="__codelineno-99-610" href="#__codelineno-99-610"></a><span class="c1"># CLIENT CONNECTION DEFAULTS</span>
</span><span id="__span-99-611"><a id="__codelineno-99-611" name="__codelineno-99-611" href="#__codelineno-99-611"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-612"><a id="__codelineno-99-612" name="__codelineno-99-612" href="#__codelineno-99-612"></a>
</span><span id="__span-99-613"><a id="__codelineno-99-613" name="__codelineno-99-613" href="#__codelineno-99-613"></a><span class="c1"># - Statement Behavior -</span>
</span><span id="__span-99-614"><a id="__codelineno-99-614" name="__codelineno-99-614" href="#__codelineno-99-614"></a>
</span><span id="__span-99-615"><a id="__codelineno-99-615" name="__codelineno-99-615" href="#__codelineno-99-615"></a><span class="c1">#client_min_messages = notice           # values in order of decreasing detail:</span>
</span><span id="__span-99-616"><a id="__codelineno-99-616" name="__codelineno-99-616" href="#__codelineno-99-616"></a>                                        <span class="c1">#   debug5</span>
</span><span id="__span-99-617"><a id="__codelineno-99-617" name="__codelineno-99-617" href="#__codelineno-99-617"></a>                                        <span class="c1">#   debug4</span>
</span><span id="__span-99-618"><a id="__codelineno-99-618" name="__codelineno-99-618" href="#__codelineno-99-618"></a>                                        <span class="c1">#   debug3</span>
</span><span id="__span-99-619"><a id="__codelineno-99-619" name="__codelineno-99-619" href="#__codelineno-99-619"></a>                                        <span class="c1">#   debug2</span>
</span><span id="__span-99-620"><a id="__codelineno-99-620" name="__codelineno-99-620" href="#__codelineno-99-620"></a>                                        <span class="c1">#   debug1</span>
</span><span id="__span-99-621"><a id="__codelineno-99-621" name="__codelineno-99-621" href="#__codelineno-99-621"></a>                                        <span class="c1">#   log</span>
</span><span id="__span-99-622"><a id="__codelineno-99-622" name="__codelineno-99-622" href="#__codelineno-99-622"></a>                                        <span class="c1">#   notice</span>
</span><span id="__span-99-623"><a id="__codelineno-99-623" name="__codelineno-99-623" href="#__codelineno-99-623"></a>                                        <span class="c1">#   warning</span>
</span><span id="__span-99-624"><a id="__codelineno-99-624" name="__codelineno-99-624" href="#__codelineno-99-624"></a>                                        <span class="c1">#   error</span>
</span><span id="__span-99-625"><a id="__codelineno-99-625" name="__codelineno-99-625" href="#__codelineno-99-625"></a><span class="c1">#search_path = &#39;&quot;$user&quot;, public&#39;        # schema names</span>
</span><span id="__span-99-626"><a id="__codelineno-99-626" name="__codelineno-99-626" href="#__codelineno-99-626"></a><span class="c1">#row_security = on</span>
</span><span id="__span-99-627"><a id="__codelineno-99-627" name="__codelineno-99-627" href="#__codelineno-99-627"></a><span class="c1">#default_tablespace = &#39;&#39;                # a tablespace name, &#39;&#39; uses the default</span>
</span><span id="__span-99-628"><a id="__codelineno-99-628" name="__codelineno-99-628" href="#__codelineno-99-628"></a><span class="c1">#temp_tablespaces = &#39;&#39;                  # a list of tablespace names, &#39;&#39; uses</span>
</span><span id="__span-99-629"><a id="__codelineno-99-629" name="__codelineno-99-629" href="#__codelineno-99-629"></a>                                        <span class="c1"># only default tablespace</span>
</span><span id="__span-99-630"><a id="__codelineno-99-630" name="__codelineno-99-630" href="#__codelineno-99-630"></a><span class="c1">#default_table_access_method = &#39;heap&#39;</span>
</span><span id="__span-99-631"><a id="__codelineno-99-631" name="__codelineno-99-631" href="#__codelineno-99-631"></a><span class="c1">#check_function_bodies = on</span>
</span><span id="__span-99-632"><a id="__codelineno-99-632" name="__codelineno-99-632" href="#__codelineno-99-632"></a><span class="c1">#default_transaction_isolation = &#39;read committed&#39;</span>
</span><span id="__span-99-633"><a id="__codelineno-99-633" name="__codelineno-99-633" href="#__codelineno-99-633"></a><span class="c1">#default_transaction_read_only = off</span>
</span><span id="__span-99-634"><a id="__codelineno-99-634" name="__codelineno-99-634" href="#__codelineno-99-634"></a><span class="c1">#default_transaction_deferrable = off</span>
</span><span id="__span-99-635"><a id="__codelineno-99-635" name="__codelineno-99-635" href="#__codelineno-99-635"></a><span class="c1">#session_replication_role = &#39;origin&#39;</span>
</span><span id="__span-99-636"><a id="__codelineno-99-636" name="__codelineno-99-636" href="#__codelineno-99-636"></a><span class="c1">#statement_timeout = 0                  # in milliseconds, 0 is disabled</span>
</span><span id="__span-99-637"><a id="__codelineno-99-637" name="__codelineno-99-637" href="#__codelineno-99-637"></a><span class="c1">#lock_timeout = 0                       # in milliseconds, 0 is disabled</span>
</span><span id="__span-99-638"><a id="__codelineno-99-638" name="__codelineno-99-638" href="#__codelineno-99-638"></a><span class="c1">#idle_in_transaction_session_timeout = 0        # in milliseconds, 0 is disabled</span>
</span><span id="__span-99-639"><a id="__codelineno-99-639" name="__codelineno-99-639" href="#__codelineno-99-639"></a><span class="c1">#vacuum_freeze_min_age = 50000000</span>
</span><span id="__span-99-640"><a id="__codelineno-99-640" name="__codelineno-99-640" href="#__codelineno-99-640"></a><span class="c1">#vacuum_freeze_table_age = 150000000</span>
</span><span id="__span-99-641"><a id="__codelineno-99-641" name="__codelineno-99-641" href="#__codelineno-99-641"></a><span class="c1">#vacuum_multixact_freeze_min_age = 5000000</span>
</span><span id="__span-99-642"><a id="__codelineno-99-642" name="__codelineno-99-642" href="#__codelineno-99-642"></a><span class="c1">#vacuum_multixact_freeze_table_age = 150000000</span>
</span><span id="__span-99-643"><a id="__codelineno-99-643" name="__codelineno-99-643" href="#__codelineno-99-643"></a><span class="c1">#vacuum_cleanup_index_scale_factor = 0.1        # fraction of total number of tuples</span>
</span><span id="__span-99-644"><a id="__codelineno-99-644" name="__codelineno-99-644" href="#__codelineno-99-644"></a>                                                <span class="c1"># before index cleanup, 0 always performs</span>
</span><span id="__span-99-645"><a id="__codelineno-99-645" name="__codelineno-99-645" href="#__codelineno-99-645"></a>                                                <span class="c1"># index cleanup</span>
</span><span id="__span-99-646"><a id="__codelineno-99-646" name="__codelineno-99-646" href="#__codelineno-99-646"></a><span class="c1">#bytea_output = &#39;hex&#39;                   # hex, escape</span>
</span><span id="__span-99-647"><a id="__codelineno-99-647" name="__codelineno-99-647" href="#__codelineno-99-647"></a><span class="c1">#xmlbinary = &#39;base64&#39;</span>
</span><span id="__span-99-648"><a id="__codelineno-99-648" name="__codelineno-99-648" href="#__codelineno-99-648"></a><span class="c1">#xmloption = &#39;content&#39;</span>
</span><span id="__span-99-649"><a id="__codelineno-99-649" name="__codelineno-99-649" href="#__codelineno-99-649"></a><span class="c1">#gin_fuzzy_search_limit = 0</span>
</span><span id="__span-99-650"><a id="__codelineno-99-650" name="__codelineno-99-650" href="#__codelineno-99-650"></a><span class="c1">#gin_pending_list_limit = 4MB</span>
</span><span id="__span-99-651"><a id="__codelineno-99-651" name="__codelineno-99-651" href="#__codelineno-99-651"></a>
</span><span id="__span-99-652"><a id="__codelineno-99-652" name="__codelineno-99-652" href="#__codelineno-99-652"></a>
</span><span id="__span-99-653"><a id="__codelineno-99-653" name="__codelineno-99-653" href="#__codelineno-99-653"></a><span class="c1"># - Locale and Formatting -</span>
</span><span id="__span-99-654"><a id="__codelineno-99-654" name="__codelineno-99-654" href="#__codelineno-99-654"></a>
</span><span id="__span-99-655"><a id="__codelineno-99-655" name="__codelineno-99-655" href="#__codelineno-99-655"></a><span class="n">datestyle</span> <span class="o">=</span> <span class="s1">&#39;iso, mdy&#39;</span>
</span><span id="__span-99-656"><a id="__codelineno-99-656" name="__codelineno-99-656" href="#__codelineno-99-656"></a><span class="c1">#intervalstyle = &#39;postgres&#39;</span>
</span><span id="__span-99-657"><a id="__codelineno-99-657" name="__codelineno-99-657" href="#__codelineno-99-657"></a><span class="n">timezone</span> <span class="o">=</span> <span class="s1">&#39;Etc/UTC&#39;</span>
</span><span id="__span-99-658"><a id="__codelineno-99-658" name="__codelineno-99-658" href="#__codelineno-99-658"></a><span class="c1">#timezone_abbreviations = &#39;Default&#39;     # Select the set of available time zone</span>
</span><span id="__span-99-659"><a id="__codelineno-99-659" name="__codelineno-99-659" href="#__codelineno-99-659"></a>                                        <span class="c1"># abbreviations.  Currently, there are</span>
</span><span id="__span-99-660"><a id="__codelineno-99-660" name="__codelineno-99-660" href="#__codelineno-99-660"></a>                                        <span class="c1">#   Default</span>
</span><span id="__span-99-661"><a id="__codelineno-99-661" name="__codelineno-99-661" href="#__codelineno-99-661"></a>                                        <span class="c1">#   Australia (historical usage)</span>
</span><span id="__span-99-662"><a id="__codelineno-99-662" name="__codelineno-99-662" href="#__codelineno-99-662"></a>                                        <span class="c1">#   India</span>
</span><span id="__span-99-663"><a id="__codelineno-99-663" name="__codelineno-99-663" href="#__codelineno-99-663"></a>                                        <span class="c1"># You can create your own file in</span>
</span><span id="__span-99-664"><a id="__codelineno-99-664" name="__codelineno-99-664" href="#__codelineno-99-664"></a>                                        <span class="c1"># share/timezonesets/.</span>
</span><span id="__span-99-665"><a id="__codelineno-99-665" name="__codelineno-99-665" href="#__codelineno-99-665"></a><span class="c1">#extra_float_digits = 1                 # min -15, max 3; any value &gt;0 actually</span>
</span><span id="__span-99-666"><a id="__codelineno-99-666" name="__codelineno-99-666" href="#__codelineno-99-666"></a>                                        <span class="c1"># selects precise output mode</span>
</span><span id="__span-99-667"><a id="__codelineno-99-667" name="__codelineno-99-667" href="#__codelineno-99-667"></a><span class="c1">#client_encoding = sql_ascii            # actually, defaults to database</span>
</span><span id="__span-99-668"><a id="__codelineno-99-668" name="__codelineno-99-668" href="#__codelineno-99-668"></a>                                        <span class="c1"># encoding</span>
</span><span id="__span-99-669"><a id="__codelineno-99-669" name="__codelineno-99-669" href="#__codelineno-99-669"></a>
</span><span id="__span-99-670"><a id="__codelineno-99-670" name="__codelineno-99-670" href="#__codelineno-99-670"></a><span class="c1"># These settings are initialized by initdb, but they can be changed.</span>
</span><span id="__span-99-671"><a id="__codelineno-99-671" name="__codelineno-99-671" href="#__codelineno-99-671"></a><span class="n">lc_messages</span> <span class="o">=</span> <span class="s1">&#39;en_US&#39;</span>                   <span class="c1"># locale for system error message</span>
</span><span id="__span-99-672"><a id="__codelineno-99-672" name="__codelineno-99-672" href="#__codelineno-99-672"></a>                                        <span class="c1"># strings</span>
</span><span id="__span-99-673"><a id="__codelineno-99-673" name="__codelineno-99-673" href="#__codelineno-99-673"></a><span class="n">lc_monetary</span> <span class="o">=</span> <span class="s1">&#39;en_US&#39;</span>                   <span class="c1"># locale for monetary formatting</span>
</span><span id="__span-99-674"><a id="__codelineno-99-674" name="__codelineno-99-674" href="#__codelineno-99-674"></a><span class="n">lc_numeric</span> <span class="o">=</span> <span class="s1">&#39;en_US&#39;</span>                    <span class="c1"># locale for number formatting</span>
</span><span id="__span-99-675"><a id="__codelineno-99-675" name="__codelineno-99-675" href="#__codelineno-99-675"></a><span class="n">lc_time</span> <span class="o">=</span> <span class="s1">&#39;en_US&#39;</span>                               <span class="c1"># locale for time formatting</span>
</span><span id="__span-99-676"><a id="__codelineno-99-676" name="__codelineno-99-676" href="#__codelineno-99-676"></a>
</span><span id="__span-99-677"><a id="__codelineno-99-677" name="__codelineno-99-677" href="#__codelineno-99-677"></a><span class="c1"># default configuration for text search</span>
</span><span id="__span-99-678"><a id="__codelineno-99-678" name="__codelineno-99-678" href="#__codelineno-99-678"></a><span class="n">default_text_search_config</span> <span class="o">=</span> <span class="s1">&#39;pg_catalog.english&#39;</span>
</span><span id="__span-99-679"><a id="__codelineno-99-679" name="__codelineno-99-679" href="#__codelineno-99-679"></a>
</span><span id="__span-99-680"><a id="__codelineno-99-680" name="__codelineno-99-680" href="#__codelineno-99-680"></a><span class="c1"># - Shared Library Preloading -</span>
</span><span id="__span-99-681"><a id="__codelineno-99-681" name="__codelineno-99-681" href="#__codelineno-99-681"></a>
</span><span id="__span-99-682"><a id="__codelineno-99-682" name="__codelineno-99-682" href="#__codelineno-99-682"></a><span class="c1">#shared_preload_libraries = &#39;&#39;  # (change requires restart)</span>
</span><span id="__span-99-683"><a id="__codelineno-99-683" name="__codelineno-99-683" href="#__codelineno-99-683"></a><span class="c1">#local_preload_libraries = &#39;&#39;</span>
</span><span id="__span-99-684"><a id="__codelineno-99-684" name="__codelineno-99-684" href="#__codelineno-99-684"></a><span class="c1">#session_preload_libraries = &#39;&#39;</span>
</span><span id="__span-99-685"><a id="__codelineno-99-685" name="__codelineno-99-685" href="#__codelineno-99-685"></a><span class="c1">#jit_provider = &#39;llvmjit&#39;               # JIT library to use</span>
</span><span id="__span-99-686"><a id="__codelineno-99-686" name="__codelineno-99-686" href="#__codelineno-99-686"></a>
</span><span id="__span-99-687"><a id="__codelineno-99-687" name="__codelineno-99-687" href="#__codelineno-99-687"></a><span class="c1"># - Other Defaults -</span>
</span><span id="__span-99-688"><a id="__codelineno-99-688" name="__codelineno-99-688" href="#__codelineno-99-688"></a>
</span><span id="__span-99-689"><a id="__codelineno-99-689" name="__codelineno-99-689" href="#__codelineno-99-689"></a><span class="c1">#dynamic_library_path = &#39;$libdir&#39;</span>
</span><span id="__span-99-690"><a id="__codelineno-99-690" name="__codelineno-99-690" href="#__codelineno-99-690"></a>
</span><span id="__span-99-691"><a id="__codelineno-99-691" name="__codelineno-99-691" href="#__codelineno-99-691"></a>
</span><span id="__span-99-692"><a id="__codelineno-99-692" name="__codelineno-99-692" href="#__codelineno-99-692"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-693"><a id="__codelineno-99-693" name="__codelineno-99-693" href="#__codelineno-99-693"></a><span class="c1"># LOCK MANAGEMENT</span>
</span><span id="__span-99-694"><a id="__codelineno-99-694" name="__codelineno-99-694" href="#__codelineno-99-694"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-695"><a id="__codelineno-99-695" name="__codelineno-99-695" href="#__codelineno-99-695"></a>
</span><span id="__span-99-696"><a id="__codelineno-99-696" name="__codelineno-99-696" href="#__codelineno-99-696"></a><span class="c1">#deadlock_timeout = 1s</span>
</span><span id="__span-99-697"><a id="__codelineno-99-697" name="__codelineno-99-697" href="#__codelineno-99-697"></a><span class="c1">#max_locks_per_transaction = 64         # min 10</span>
</span><span id="__span-99-698"><a id="__codelineno-99-698" name="__codelineno-99-698" href="#__codelineno-99-698"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-699"><a id="__codelineno-99-699" name="__codelineno-99-699" href="#__codelineno-99-699"></a><span class="c1">#max_pred_locks_per_transaction = 64    # min 10</span>
</span><span id="__span-99-700"><a id="__codelineno-99-700" name="__codelineno-99-700" href="#__codelineno-99-700"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-701"><a id="__codelineno-99-701" name="__codelineno-99-701" href="#__codelineno-99-701"></a><span class="c1">#max_pred_locks_per_relation = -2       # negative values mean</span>
</span><span id="__span-99-702"><a id="__codelineno-99-702" name="__codelineno-99-702" href="#__codelineno-99-702"></a>                                        <span class="c1"># (max_pred_locks_per_transaction</span>
</span><span id="__span-99-703"><a id="__codelineno-99-703" name="__codelineno-99-703" href="#__codelineno-99-703"></a>                                        <span class="c1">#  / -max_pred_locks_per_relation) - 1</span>
</span><span id="__span-99-704"><a id="__codelineno-99-704" name="__codelineno-99-704" href="#__codelineno-99-704"></a><span class="c1">#max_pred_locks_per_page = 2            # min 0</span>
</span><span id="__span-99-705"><a id="__codelineno-99-705" name="__codelineno-99-705" href="#__codelineno-99-705"></a>
</span><span id="__span-99-706"><a id="__codelineno-99-706" name="__codelineno-99-706" href="#__codelineno-99-706"></a>
</span><span id="__span-99-707"><a id="__codelineno-99-707" name="__codelineno-99-707" href="#__codelineno-99-707"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-708"><a id="__codelineno-99-708" name="__codelineno-99-708" href="#__codelineno-99-708"></a><span class="c1"># VERSION AND PLATFORM COMPATIBILITY</span>
</span><span id="__span-99-709"><a id="__codelineno-99-709" name="__codelineno-99-709" href="#__codelineno-99-709"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-710"><a id="__codelineno-99-710" name="__codelineno-99-710" href="#__codelineno-99-710"></a>
</span><span id="__span-99-711"><a id="__codelineno-99-711" name="__codelineno-99-711" href="#__codelineno-99-711"></a><span class="c1"># - Previous PostgreSQL Versions -</span>
</span><span id="__span-99-712"><a id="__codelineno-99-712" name="__codelineno-99-712" href="#__codelineno-99-712"></a>
</span><span id="__span-99-713"><a id="__codelineno-99-713" name="__codelineno-99-713" href="#__codelineno-99-713"></a><span class="c1">#array_nulls = on</span>
</span><span id="__span-99-714"><a id="__codelineno-99-714" name="__codelineno-99-714" href="#__codelineno-99-714"></a><span class="c1">#backslash_quote = safe_encoding        # on, off, or safe_encoding</span>
</span><span id="__span-99-715"><a id="__codelineno-99-715" name="__codelineno-99-715" href="#__codelineno-99-715"></a><span class="c1">#escape_string_warning = on</span>
</span><span id="__span-99-716"><a id="__codelineno-99-716" name="__codelineno-99-716" href="#__codelineno-99-716"></a><span class="c1">#lo_compat_privileges = off</span>
</span><span id="__span-99-717"><a id="__codelineno-99-717" name="__codelineno-99-717" href="#__codelineno-99-717"></a><span class="c1">#operator_precedence_warning = off</span>
</span><span id="__span-99-718"><a id="__codelineno-99-718" name="__codelineno-99-718" href="#__codelineno-99-718"></a><span class="c1">#quote_all_identifiers = off</span>
</span><span id="__span-99-719"><a id="__codelineno-99-719" name="__codelineno-99-719" href="#__codelineno-99-719"></a><span class="c1">#standard_conforming_strings = on</span>
</span><span id="__span-99-720"><a id="__codelineno-99-720" name="__codelineno-99-720" href="#__codelineno-99-720"></a><span class="c1">#synchronize_seqscans = on</span>
</span><span id="__span-99-721"><a id="__codelineno-99-721" name="__codelineno-99-721" href="#__codelineno-99-721"></a>
</span><span id="__span-99-722"><a id="__codelineno-99-722" name="__codelineno-99-722" href="#__codelineno-99-722"></a><span class="c1"># - Other Platforms and Clients -</span>
</span><span id="__span-99-723"><a id="__codelineno-99-723" name="__codelineno-99-723" href="#__codelineno-99-723"></a>
</span><span id="__span-99-724"><a id="__codelineno-99-724" name="__codelineno-99-724" href="#__codelineno-99-724"></a><span class="c1">#transform_null_equals = off</span>
</span><span id="__span-99-725"><a id="__codelineno-99-725" name="__codelineno-99-725" href="#__codelineno-99-725"></a>
</span><span id="__span-99-726"><a id="__codelineno-99-726" name="__codelineno-99-726" href="#__codelineno-99-726"></a>
</span><span id="__span-99-727"><a id="__codelineno-99-727" name="__codelineno-99-727" href="#__codelineno-99-727"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-728"><a id="__codelineno-99-728" name="__codelineno-99-728" href="#__codelineno-99-728"></a><span class="c1"># ERROR HANDLING</span>
</span><span id="__span-99-729"><a id="__codelineno-99-729" name="__codelineno-99-729" href="#__codelineno-99-729"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-730"><a id="__codelineno-99-730" name="__codelineno-99-730" href="#__codelineno-99-730"></a>
</span><span id="__span-99-731"><a id="__codelineno-99-731" name="__codelineno-99-731" href="#__codelineno-99-731"></a><span class="c1">#exit_on_error = off                    # terminate session on any error?</span>
</span><span id="__span-99-732"><a id="__codelineno-99-732" name="__codelineno-99-732" href="#__codelineno-99-732"></a><span class="c1">#restart_after_crash = on               # reinitialize after backend crash?</span>
</span><span id="__span-99-733"><a id="__codelineno-99-733" name="__codelineno-99-733" href="#__codelineno-99-733"></a><span class="c1">#data_sync_retry = off                  # retry or panic on failure to fsync</span>
</span><span id="__span-99-734"><a id="__codelineno-99-734" name="__codelineno-99-734" href="#__codelineno-99-734"></a>                                        <span class="c1"># data?</span>
</span><span id="__span-99-735"><a id="__codelineno-99-735" name="__codelineno-99-735" href="#__codelineno-99-735"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-99-736"><a id="__codelineno-99-736" name="__codelineno-99-736" href="#__codelineno-99-736"></a>
</span><span id="__span-99-737"><a id="__codelineno-99-737" name="__codelineno-99-737" href="#__codelineno-99-737"></a>
</span><span id="__span-99-738"><a id="__codelineno-99-738" name="__codelineno-99-738" href="#__codelineno-99-738"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-739"><a id="__codelineno-99-739" name="__codelineno-99-739" href="#__codelineno-99-739"></a><span class="c1"># CONFIG FILE INCLUDES</span>
</span><span id="__span-99-740"><a id="__codelineno-99-740" name="__codelineno-99-740" href="#__codelineno-99-740"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-741"><a id="__codelineno-99-741" name="__codelineno-99-741" href="#__codelineno-99-741"></a>
</span><span id="__span-99-742"><a id="__codelineno-99-742" name="__codelineno-99-742" href="#__codelineno-99-742"></a><span class="c1"># These options allow settings to be loaded from files other than the</span>
</span><span id="__span-99-743"><a id="__codelineno-99-743" name="__codelineno-99-743" href="#__codelineno-99-743"></a><span class="c1"># default postgresql.conf.  Note that these are directives, not variable</span>
</span><span id="__span-99-744"><a id="__codelineno-99-744" name="__codelineno-99-744" href="#__codelineno-99-744"></a><span class="c1"># assignments, so they can usefully be given more than once.</span>
</span><span id="__span-99-745"><a id="__codelineno-99-745" name="__codelineno-99-745" href="#__codelineno-99-745"></a>
</span><span id="__span-99-746"><a id="__codelineno-99-746" name="__codelineno-99-746" href="#__codelineno-99-746"></a><span class="n">include_dir</span> <span class="o">=</span> <span class="s1">&#39;conf.d&#39;</span>                  <span class="c1"># include files ending in &#39;.conf&#39; from</span>
</span><span id="__span-99-747"><a id="__codelineno-99-747" name="__codelineno-99-747" href="#__codelineno-99-747"></a>                                        <span class="c1"># a directory, e.g., &#39;conf.d&#39;</span>
</span><span id="__span-99-748"><a id="__codelineno-99-748" name="__codelineno-99-748" href="#__codelineno-99-748"></a><span class="c1">#include_if_exists = &#39;...&#39;              # include file only if it exists</span>
</span><span id="__span-99-749"><a id="__codelineno-99-749" name="__codelineno-99-749" href="#__codelineno-99-749"></a><span class="c1">#include = &#39;...&#39;                        # include file</span>
</span><span id="__span-99-750"><a id="__codelineno-99-750" name="__codelineno-99-750" href="#__codelineno-99-750"></a>
</span><span id="__span-99-751"><a id="__codelineno-99-751" name="__codelineno-99-751" href="#__codelineno-99-751"></a>
</span><span id="__span-99-752"><a id="__codelineno-99-752" name="__codelineno-99-752" href="#__codelineno-99-752"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-753"><a id="__codelineno-99-753" name="__codelineno-99-753" href="#__codelineno-99-753"></a><span class="c1"># CUSTOMIZED OPTIONS</span>
</span><span id="__span-99-754"><a id="__codelineno-99-754" name="__codelineno-99-754" href="#__codelineno-99-754"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-99-755"><a id="__codelineno-99-755" name="__codelineno-99-755" href="#__codelineno-99-755"></a>
</span><span id="__span-99-756"><a id="__codelineno-99-756" name="__codelineno-99-756" href="#__codelineno-99-756"></a><span class="c1"># Add settings for extensions here</span>
</span></code></pre></div>
end of original config file</p>
<p>changes made to config file:</p>
<div class="language-py highlight"><span class="filename">before</span><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="c1"># CONNECTIONS AND AUTHENTICATION</span>
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-100-4"><a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a>
</span><span id="__span-100-5"><a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a><span class="c1"># - Connection Settings -</span>
</span><span id="__span-100-6"><a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a>
</span><span id="__span-100-7"><a id="__codelineno-100-7" name="__codelineno-100-7" href="#__codelineno-100-7"></a><span class="c1">#listen_addresses = &#39;localhost&#39;         # what IP address(es) to listen on;</span>
</span><span id="__span-100-8"><a id="__codelineno-100-8" name="__codelineno-100-8" href="#__codelineno-100-8"></a>                                        <span class="c1"># comma-separated list of addresses;</span>
</span><span id="__span-100-9"><a id="__codelineno-100-9" name="__codelineno-100-9" href="#__codelineno-100-9"></a>                                        <span class="c1"># defaults to &#39;localhost&#39;; use &#39;*&#39; for all</span>
</span><span id="__span-100-10"><a id="__codelineno-100-10" name="__codelineno-100-10" href="#__codelineno-100-10"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-100-11"><a id="__codelineno-100-11" name="__codelineno-100-11" href="#__codelineno-100-11"></a><span class="n">port</span> <span class="o">=</span> <span class="mi">5432</span>                             <span class="c1"># (change requires restart)</span>
</span><span id="__span-100-12"><a id="__codelineno-100-12" name="__codelineno-100-12" href="#__codelineno-100-12"></a><span class="n">max_connections</span> <span class="o">=</span> <span class="mi">100</span>                   <span class="c1"># (change requires restart)</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">after: added non-commented line for listen_addresses with * instead of localhost</span><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="c1"># CONNECTIONS AND AUTHENTICATION</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="c1">#------------------------------------------------------------------------------</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="c1"># - Connection Settings -</span>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="c1">#listen_addresses = &#39;localhost&#39;         # what IP address(es) to listen on;</span>
</span><span id="__span-101-8"><a id="__codelineno-101-8" name="__codelineno-101-8" href="#__codelineno-101-8"></a>                                        <span class="c1"># comma-separated list of addresses;</span>
</span><span id="__span-101-9"><a id="__codelineno-101-9" name="__codelineno-101-9" href="#__codelineno-101-9"></a>                                        <span class="c1"># defaults to &#39;localhost&#39;; use &#39;*&#39; for all</span>
</span><span id="__span-101-10"><a id="__codelineno-101-10" name="__codelineno-101-10" href="#__codelineno-101-10"></a><span class="n">listen_addresses</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>         
</span><span id="__span-101-11"><a id="__codelineno-101-11" name="__codelineno-101-11" href="#__codelineno-101-11"></a>                                        <span class="c1"># (change requires restart)</span>
</span><span id="__span-101-12"><a id="__codelineno-101-12" name="__codelineno-101-12" href="#__codelineno-101-12"></a><span class="n">port</span> <span class="o">=</span> <span class="mi">5432</span>                             <span class="c1"># (change requires restart)</span>
</span><span id="__span-101-13"><a id="__codelineno-101-13" name="__codelineno-101-13" href="#__codelineno-101-13"></a><span class="n">max_connections</span> <span class="o">=</span> <span class="mi">100</span>                   <span class="c1"># (change requires restart)</span>
</span></code></pre></div>
<p>save changes Ctrl + O, then enter
exit config window with Ctrl + X</p>
<div class="language-py highlight"><span class="filename">restart for changes to be applied</span><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">postgresql</span>
</span></code></pre></div>
<p>check if ditto is running</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
<p>not running, same error</p>
<hr />
<p>Modifying the PostgreSQL Client Authentication Configuration File</p>
<p>Route copied from config file</p>
<div class="language-py highlight"><span class="filename">again from /opt/ditto NOT as ditto user</span><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">pg_hba</span><span class="o">.</span><span class="n">conf</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">PostgreSQL Client Authentication Configuration File window</span><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="c1"># PostgreSQL Client Authentication Configuration File</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="c1"># ===================================================</span>
</span><span id="__span-105-3"><a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="c1">#</span>
</span><span id="__span-105-4"><a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="c1"># Refer to the &quot;Client Authentication&quot; section in the PostgreSQL</span>
</span><span id="__span-105-5"><a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a><span class="c1"># documentation for a complete description of this file.  A short</span>
</span><span id="__span-105-6"><a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a><span class="c1"># synopsis follows.</span>
</span><span id="__span-105-7"><a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a><span class="c1">#</span>
</span><span id="__span-105-8"><a id="__codelineno-105-8" name="__codelineno-105-8" href="#__codelineno-105-8"></a><span class="c1"># This file controls: which hosts are allowed to connect, how clients</span>
</span><span id="__span-105-9"><a id="__codelineno-105-9" name="__codelineno-105-9" href="#__codelineno-105-9"></a><span class="c1"># are authenticated, which PostgreSQL user names they can use, which</span>
</span><span id="__span-105-10"><a id="__codelineno-105-10" name="__codelineno-105-10" href="#__codelineno-105-10"></a><span class="c1"># databases they can access.  Records take one of these forms:</span>
</span><span id="__span-105-11"><a id="__codelineno-105-11" name="__codelineno-105-11" href="#__codelineno-105-11"></a><span class="c1">#</span>
</span><span id="__span-105-12"><a id="__codelineno-105-12" name="__codelineno-105-12" href="#__codelineno-105-12"></a><span class="c1"># local         DATABASE  USER  METHOD  [OPTIONS]</span>
</span><span id="__span-105-13"><a id="__codelineno-105-13" name="__codelineno-105-13" href="#__codelineno-105-13"></a><span class="c1"># host          DATABASE  USER  ADDRESS  METHOD  [OPTIONS]</span>
</span><span id="__span-105-14"><a id="__codelineno-105-14" name="__codelineno-105-14" href="#__codelineno-105-14"></a><span class="c1"># hostssl       DATABASE  USER  ADDRESS  METHOD  [OPTIONS]</span>
</span><span id="__span-105-15"><a id="__codelineno-105-15" name="__codelineno-105-15" href="#__codelineno-105-15"></a><span class="c1"># hostnossl     DATABASE  USER  ADDRESS  METHOD  [OPTIONS]</span>
</span><span id="__span-105-16"><a id="__codelineno-105-16" name="__codelineno-105-16" href="#__codelineno-105-16"></a><span class="c1"># hostgssenc    DATABASE  USER  ADDRESS  METHOD  [OPTIONS]</span>
</span><span id="__span-105-17"><a id="__codelineno-105-17" name="__codelineno-105-17" href="#__codelineno-105-17"></a><span class="c1"># hostnogssenc  DATABASE  USER  ADDRESS  METHOD  [OPTIONS]</span>
</span><span id="__span-105-18"><a id="__codelineno-105-18" name="__codelineno-105-18" href="#__codelineno-105-18"></a><span class="c1">#</span>
</span><span id="__span-105-19"><a id="__codelineno-105-19" name="__codelineno-105-19" href="#__codelineno-105-19"></a><span class="c1"># (The uppercase items must be replaced by actual values.)</span>
</span><span id="__span-105-20"><a id="__codelineno-105-20" name="__codelineno-105-20" href="#__codelineno-105-20"></a><span class="c1">#</span>
</span><span id="__span-105-21"><a id="__codelineno-105-21" name="__codelineno-105-21" href="#__codelineno-105-21"></a><span class="c1"># The first field is the connection type: &quot;local&quot; is a Unix-domain</span>
</span><span id="__span-105-22"><a id="__codelineno-105-22" name="__codelineno-105-22" href="#__codelineno-105-22"></a><span class="c1"># socket, &quot;host&quot; is either a plain or SSL-encrypted TCP/IP socket,</span>
</span><span id="__span-105-23"><a id="__codelineno-105-23" name="__codelineno-105-23" href="#__codelineno-105-23"></a><span class="c1"># &quot;hostssl&quot; is an SSL-encrypted TCP/IP socket, and &quot;hostnossl&quot; is a</span>
</span><span id="__span-105-24"><a id="__codelineno-105-24" name="__codelineno-105-24" href="#__codelineno-105-24"></a><span class="c1"># non-SSL TCP/IP socket.  Similarly, &quot;hostgssenc&quot; uses a</span>
</span><span id="__span-105-25"><a id="__codelineno-105-25" name="__codelineno-105-25" href="#__codelineno-105-25"></a><span class="c1"># GSSAPI-encrypted TCP/IP socket, while &quot;hostnogssenc&quot; uses a</span>
</span><span id="__span-105-26"><a id="__codelineno-105-26" name="__codelineno-105-26" href="#__codelineno-105-26"></a><span class="c1"># non-GSSAPI socket.</span>
</span><span id="__span-105-27"><a id="__codelineno-105-27" name="__codelineno-105-27" href="#__codelineno-105-27"></a><span class="c1">#</span>
</span><span id="__span-105-28"><a id="__codelineno-105-28" name="__codelineno-105-28" href="#__codelineno-105-28"></a><span class="c1"># DATABASE can be &quot;all&quot;, &quot;sameuser&quot;, &quot;samerole&quot;, &quot;replication&quot;, a</span>
</span><span id="__span-105-29"><a id="__codelineno-105-29" name="__codelineno-105-29" href="#__codelineno-105-29"></a><span class="c1"># database name, or a comma-separated list thereof. The &quot;all&quot;</span>
</span><span id="__span-105-30"><a id="__codelineno-105-30" name="__codelineno-105-30" href="#__codelineno-105-30"></a><span class="c1"># keyword does not match &quot;replication&quot;. Access to replication</span>
</span><span id="__span-105-31"><a id="__codelineno-105-31" name="__codelineno-105-31" href="#__codelineno-105-31"></a><span class="c1"># must be enabled in a separate record (see example below).</span>
</span><span id="__span-105-32"><a id="__codelineno-105-32" name="__codelineno-105-32" href="#__codelineno-105-32"></a><span class="c1">#</span>
</span><span id="__span-105-33"><a id="__codelineno-105-33" name="__codelineno-105-33" href="#__codelineno-105-33"></a><span class="c1"># USER can be &quot;all&quot;, a user name, a group name prefixed with &quot;+&quot;, or a</span>
</span><span id="__span-105-34"><a id="__codelineno-105-34" name="__codelineno-105-34" href="#__codelineno-105-34"></a><span class="c1"># comma-separated list thereof.  In both the DATABASE and USER fields</span>
</span><span id="__span-105-35"><a id="__codelineno-105-35" name="__codelineno-105-35" href="#__codelineno-105-35"></a><span class="c1"># you can also write a file name prefixed with &quot;@&quot; to include names</span>
</span><span id="__span-105-36"><a id="__codelineno-105-36" name="__codelineno-105-36" href="#__codelineno-105-36"></a><span class="c1"># from a separate file.</span>
</span><span id="__span-105-37"><a id="__codelineno-105-37" name="__codelineno-105-37" href="#__codelineno-105-37"></a><span class="c1">#</span>
</span><span id="__span-105-38"><a id="__codelineno-105-38" name="__codelineno-105-38" href="#__codelineno-105-38"></a><span class="c1"># ADDRESS specifies the set of hosts the record matches.  It can be a</span>
</span><span id="__span-105-39"><a id="__codelineno-105-39" name="__codelineno-105-39" href="#__codelineno-105-39"></a><span class="c1"># host name, or it is made up of an IP address and a CIDR mask that is</span>
</span><span id="__span-105-40"><a id="__codelineno-105-40" name="__codelineno-105-40" href="#__codelineno-105-40"></a><span class="c1"># an integer (between 0 and 32 (IPv4) or 128 (IPv6) inclusive) that</span>
</span><span id="__span-105-41"><a id="__codelineno-105-41" name="__codelineno-105-41" href="#__codelineno-105-41"></a><span class="c1"># specifies the number of significant bits in the mask.  A host name</span>
</span><span id="__span-105-42"><a id="__codelineno-105-42" name="__codelineno-105-42" href="#__codelineno-105-42"></a><span class="c1"># that starts with a dot (.) matches a suffix of the actual host name.</span>
</span><span id="__span-105-43"><a id="__codelineno-105-43" name="__codelineno-105-43" href="#__codelineno-105-43"></a><span class="c1"># Alternatively, you can write an IP address and netmask in separate</span>
</span><span id="__span-105-44"><a id="__codelineno-105-44" name="__codelineno-105-44" href="#__codelineno-105-44"></a><span class="c1"># columns to specify the set of hosts.  Instead of a CIDR-address, you</span>
</span><span id="__span-105-45"><a id="__codelineno-105-45" name="__codelineno-105-45" href="#__codelineno-105-45"></a><span class="c1"># can write &quot;samehost&quot; to match any of the server&#39;s own IP addresses,</span>
</span><span id="__span-105-46"><a id="__codelineno-105-46" name="__codelineno-105-46" href="#__codelineno-105-46"></a><span class="c1"># or &quot;samenet&quot; to match any address in any subnet that the server is</span>
</span><span id="__span-105-47"><a id="__codelineno-105-47" name="__codelineno-105-47" href="#__codelineno-105-47"></a><span class="c1"># directly connected to.</span>
</span><span id="__span-105-48"><a id="__codelineno-105-48" name="__codelineno-105-48" href="#__codelineno-105-48"></a><span class="c1">#</span>
</span><span id="__span-105-49"><a id="__codelineno-105-49" name="__codelineno-105-49" href="#__codelineno-105-49"></a><span class="c1"># METHOD can be &quot;trust&quot;, &quot;reject&quot;, &quot;md5&quot;, &quot;password&quot;, &quot;scram-sha-256&quot;,</span>
</span><span id="__span-105-50"><a id="__codelineno-105-50" name="__codelineno-105-50" href="#__codelineno-105-50"></a><span class="c1"># &quot;gss&quot;, &quot;sspi&quot;, &quot;ident&quot;, &quot;peer&quot;, &quot;pam&quot;, &quot;ldap&quot;, &quot;radius&quot; or &quot;cert&quot;.</span>
</span><span id="__span-105-51"><a id="__codelineno-105-51" name="__codelineno-105-51" href="#__codelineno-105-51"></a><span class="c1"># Note that &quot;password&quot; sends passwords in clear text; &quot;md5&quot; or</span>
</span><span id="__span-105-52"><a id="__codelineno-105-52" name="__codelineno-105-52" href="#__codelineno-105-52"></a><span class="c1"># &quot;scram-sha-256&quot; are preferred since they send encrypted passwords.</span>
</span><span id="__span-105-53"><a id="__codelineno-105-53" name="__codelineno-105-53" href="#__codelineno-105-53"></a><span class="c1">#</span>
</span><span id="__span-105-54"><a id="__codelineno-105-54" name="__codelineno-105-54" href="#__codelineno-105-54"></a><span class="c1"># OPTIONS are a set of options for the authentication in the format</span>
</span><span id="__span-105-55"><a id="__codelineno-105-55" name="__codelineno-105-55" href="#__codelineno-105-55"></a><span class="c1"># NAME=VALUE.  The available options depend on the different</span>
</span><span id="__span-105-56"><a id="__codelineno-105-56" name="__codelineno-105-56" href="#__codelineno-105-56"></a><span class="c1"># authentication methods -- refer to the &quot;Client Authentication&quot;</span>
</span><span id="__span-105-57"><a id="__codelineno-105-57" name="__codelineno-105-57" href="#__codelineno-105-57"></a><span class="c1"># section in the documentation for a list of which options are</span>
</span><span id="__span-105-58"><a id="__codelineno-105-58" name="__codelineno-105-58" href="#__codelineno-105-58"></a><span class="c1"># available for which authentication methods.</span>
</span><span id="__span-105-59"><a id="__codelineno-105-59" name="__codelineno-105-59" href="#__codelineno-105-59"></a><span class="c1">#</span>
</span><span id="__span-105-60"><a id="__codelineno-105-60" name="__codelineno-105-60" href="#__codelineno-105-60"></a><span class="c1"># Database and user names containing spaces, commas, quotes and other</span>
</span><span id="__span-105-61"><a id="__codelineno-105-61" name="__codelineno-105-61" href="#__codelineno-105-61"></a><span class="c1"># special characters must be quoted.  Quoting one of the keywords</span>
</span><span id="__span-105-62"><a id="__codelineno-105-62" name="__codelineno-105-62" href="#__codelineno-105-62"></a><span class="c1"># &quot;all&quot;, &quot;sameuser&quot;, &quot;samerole&quot; or &quot;replication&quot; makes the name lose</span>
</span><span id="__span-105-63"><a id="__codelineno-105-63" name="__codelineno-105-63" href="#__codelineno-105-63"></a><span class="c1"># its special character, and just match a database or username with</span>
</span><span id="__span-105-64"><a id="__codelineno-105-64" name="__codelineno-105-64" href="#__codelineno-105-64"></a><span class="c1"># that name.</span>
</span><span id="__span-105-65"><a id="__codelineno-105-65" name="__codelineno-105-65" href="#__codelineno-105-65"></a><span class="c1">#</span>
</span><span id="__span-105-66"><a id="__codelineno-105-66" name="__codelineno-105-66" href="#__codelineno-105-66"></a><span class="c1"># This file is read on server startup and when the server receives a</span>
</span><span id="__span-105-67"><a id="__codelineno-105-67" name="__codelineno-105-67" href="#__codelineno-105-67"></a><span class="c1"># SIGHUP signal.  If you edit the file on a running system, you have to</span>
</span><span id="__span-105-68"><a id="__codelineno-105-68" name="__codelineno-105-68" href="#__codelineno-105-68"></a><span class="c1"># SIGHUP the server for the changes to take effect, run &quot;pg_ctl reload&quot;,</span>
</span><span id="__span-105-69"><a id="__codelineno-105-69" name="__codelineno-105-69" href="#__codelineno-105-69"></a><span class="c1"># or execute &quot;SELECT pg_reload_conf()&quot;.</span>
</span><span id="__span-105-70"><a id="__codelineno-105-70" name="__codelineno-105-70" href="#__codelineno-105-70"></a><span class="c1">#</span>
</span><span id="__span-105-71"><a id="__codelineno-105-71" name="__codelineno-105-71" href="#__codelineno-105-71"></a><span class="c1"># Put your actual configuration here</span>
</span><span id="__span-105-72"><a id="__codelineno-105-72" name="__codelineno-105-72" href="#__codelineno-105-72"></a><span class="c1"># ----------------------------------</span>
</span><span id="__span-105-73"><a id="__codelineno-105-73" name="__codelineno-105-73" href="#__codelineno-105-73"></a><span class="c1">#</span>
</span><span id="__span-105-74"><a id="__codelineno-105-74" name="__codelineno-105-74" href="#__codelineno-105-74"></a><span class="c1">#</span>
</span><span id="__span-105-75"><a id="__codelineno-105-75" name="__codelineno-105-75" href="#__codelineno-105-75"></a><span class="c1"># If you want to allow non-local connections, you need to add more</span>
</span><span id="__span-105-76"><a id="__codelineno-105-76" name="__codelineno-105-76" href="#__codelineno-105-76"></a><span class="c1"># &quot;host&quot; records.  In that case you will also need to make PostgreSQL</span>
</span><span id="__span-105-77"><a id="__codelineno-105-77" name="__codelineno-105-77" href="#__codelineno-105-77"></a><span class="c1"># listen on a non-local interface via the listen_addresses</span>
</span><span id="__span-105-78"><a id="__codelineno-105-78" name="__codelineno-105-78" href="#__codelineno-105-78"></a><span class="c1"># configuration parameter, or via the -i or -h command line switches.</span>
</span><span id="__span-105-79"><a id="__codelineno-105-79" name="__codelineno-105-79" href="#__codelineno-105-79"></a>
</span><span id="__span-105-80"><a id="__codelineno-105-80" name="__codelineno-105-80" href="#__codelineno-105-80"></a>
</span><span id="__span-105-81"><a id="__codelineno-105-81" name="__codelineno-105-81" href="#__codelineno-105-81"></a>
</span><span id="__span-105-82"><a id="__codelineno-105-82" name="__codelineno-105-82" href="#__codelineno-105-82"></a>
</span><span id="__span-105-83"><a id="__codelineno-105-83" name="__codelineno-105-83" href="#__codelineno-105-83"></a><span class="c1"># DO NOT DISABLE!</span>
</span><span id="__span-105-84"><a id="__codelineno-105-84" name="__codelineno-105-84" href="#__codelineno-105-84"></a><span class="c1"># If you change this first entry you will need to make sure that the</span>
</span><span id="__span-105-85"><a id="__codelineno-105-85" name="__codelineno-105-85" href="#__codelineno-105-85"></a><span class="c1"># database superuser can access the database using some other method.</span>
</span><span id="__span-105-86"><a id="__codelineno-105-86" name="__codelineno-105-86" href="#__codelineno-105-86"></a><span class="c1"># Noninteractive access to all databases is required during automatic</span>
</span><span id="__span-105-87"><a id="__codelineno-105-87" name="__codelineno-105-87" href="#__codelineno-105-87"></a><span class="c1"># maintenance (custom daily cronjobs, replication, and similar tasks).</span>
</span><span id="__span-105-88"><a id="__codelineno-105-88" name="__codelineno-105-88" href="#__codelineno-105-88"></a><span class="c1">#</span>
</span><span id="__span-105-89"><a id="__codelineno-105-89" name="__codelineno-105-89" href="#__codelineno-105-89"></a><span class="c1"># Database administrative login by Unix domain socket</span>
</span><span id="__span-105-90"><a id="__codelineno-105-90" name="__codelineno-105-90" href="#__codelineno-105-90"></a><span class="n">local</span>   <span class="nb">all</span>             <span class="n">postgres</span>                                <span class="n">peer</span>
</span><span id="__span-105-91"><a id="__codelineno-105-91" name="__codelineno-105-91" href="#__codelineno-105-91"></a>
</span><span id="__span-105-92"><a id="__codelineno-105-92" name="__codelineno-105-92" href="#__codelineno-105-92"></a><span class="c1"># TYPE  DATABASE        USER            ADDRESS                 METHOD</span>
</span><span id="__span-105-93"><a id="__codelineno-105-93" name="__codelineno-105-93" href="#__codelineno-105-93"></a>
</span><span id="__span-105-94"><a id="__codelineno-105-94" name="__codelineno-105-94" href="#__codelineno-105-94"></a><span class="c1"># &quot;local&quot; is for Unix domain socket connections only</span>
</span><span id="__span-105-95"><a id="__codelineno-105-95" name="__codelineno-105-95" href="#__codelineno-105-95"></a><span class="n">local</span>   <span class="nb">all</span>             <span class="nb">all</span>                                     <span class="n">peer</span>
</span><span id="__span-105-96"><a id="__codelineno-105-96" name="__codelineno-105-96" href="#__codelineno-105-96"></a><span class="c1"># IPv4 local connections:</span>
</span><span id="__span-105-97"><a id="__codelineno-105-97" name="__codelineno-105-97" href="#__codelineno-105-97"></a><span class="n">host</span>    <span class="nb">all</span>             <span class="nb">all</span>             <span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span>            <span class="n">md5</span>
</span><span id="__span-105-98"><a id="__codelineno-105-98" name="__codelineno-105-98" href="#__codelineno-105-98"></a><span class="c1"># IPv6 local connections:</span>
</span><span id="__span-105-99"><a id="__codelineno-105-99" name="__codelineno-105-99" href="#__codelineno-105-99"></a><span class="n">host</span>    <span class="nb">all</span>             <span class="nb">all</span>             <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span>                 <span class="n">md5</span>
</span><span id="__span-105-100"><a id="__codelineno-105-100" name="__codelineno-105-100" href="#__codelineno-105-100"></a><span class="c1"># Allow replication connections from localhost, by a user with the</span>
</span><span id="__span-105-101"><a id="__codelineno-105-101" name="__codelineno-105-101" href="#__codelineno-105-101"></a><span class="c1"># replication privilege.</span>
</span><span id="__span-105-102"><a id="__codelineno-105-102" name="__codelineno-105-102" href="#__codelineno-105-102"></a><span class="n">local</span>   <span class="n">replication</span>     <span class="nb">all</span>                                     <span class="n">peer</span>
</span><span id="__span-105-103"><a id="__codelineno-105-103" name="__codelineno-105-103" href="#__codelineno-105-103"></a><span class="n">host</span>    <span class="n">replication</span>     <span class="nb">all</span>             <span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span>            <span class="n">md5</span>
</span><span id="__span-105-104"><a id="__codelineno-105-104" name="__codelineno-105-104" href="#__codelineno-105-104"></a><span class="n">host</span>    <span class="n">replication</span>     <span class="nb">all</span>             <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span>                 <span class="n">md5</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">change IPv4 localhost IP to 0.0.0.0/0</span><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="c1"># IPv4 local connections:</span>
</span><span id="__span-106-2"><a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a><span class="n">host</span>    <span class="nb">all</span>             <span class="nb">all</span>             <span class="mf">0.0.0.0</span><span class="o">/</span><span class="mi">0</span>            <span class="n">md5</span>
</span></code></pre></div>
save changes Ctrl + O, then enter
exit config window with Ctrl + X</p>
<div class="language-py highlight"><span class="filename">restart for changes to be applied</span><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">postgresql</span>
</span></code></pre></div>
<p>check if ditto is running</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">same error</span><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="err">●</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Ditto</span>
</span><span id="__span-109-2"><a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">enabled</span><span class="p">)</span>
</span><span id="__span-109-3"><a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">failed</span> <span class="p">(</span><span class="n">Result</span><span class="p">:</span> <span class="n">exit</span><span class="o">-</span><span class="n">code</span><span class="p">)</span> <span class="n">since</span> 
</span><span id="__span-109-4"><a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a>    <span class="n">Process</span><span class="p">:</span> <span class="mi">64502</span> <span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> <span class="n">task</span> <span class="n">start</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAILURE</span><span class="p">)</span>
</span><span id="__span-109-5"><a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a>   <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">64502</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAILURE</span><span class="p">)</span>
</span></code></pre></div>
<p>same error</p>
<hr />
<p>list of ditto files</p>
<div class="language-py highlight"><span class="filename">from /opt/ditto</span><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="n">ls</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="n">CHANGELOG</span><span class="o">.</span><span class="n">md</span>  <span class="n">LICENSE</span>    <span class="n">data</span>       <span class="n">deno</span><span class="o">.</span><span class="n">lock</span>         <span class="n">docs</span>      <span class="n">installation</span>  <span class="n">scripts</span>  <span class="n">static</span>
</span><span id="__span-111-2"><a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a><span class="n">Dockerfile</span>    <span class="n">README</span><span class="o">.</span><span class="n">md</span>  <span class="n">deno</span><span class="o">.</span><span class="n">json</span>  <span class="n">ditto</span><span class="o">-</span><span class="n">planet</span><span class="o">.</span><span class="n">png</span>  <span class="n">fixtures</span>  <span class="n">public</span>        <span class="n">src</span>
</span></code></pre></div>
<hr />
<p>log in as ditto to ditto database</p>
<div class="language-py highlight"><span class="filename">navigate to /opt/ditto, if not there already</span><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">log in as ditto, if not already</span><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="n">sudo</span> <span class="n">su</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter your server user password</span><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="p">[</span><span class="n">sudo</span><span class="p">]</span> <span class="n">password</span> <span class="k">for</span> <span class="n">yourserverusername</span><span class="p">:</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="n">usage</span><span class="p">:</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">-</span><span class="n">K</span> <span class="o">|</span> <span class="o">-</span><span class="n">k</span> <span class="o">|</span> <span class="o">-</span><span class="n">V</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="n">usage</span><span class="p">:</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">v</span> <span class="p">[</span><span class="o">-</span><span class="n">AknS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">g</span> <span class="n">group</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="n">host</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">prompt</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span> <span class="n">user</span><span class="p">]</span>
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="n">usage</span><span class="p">:</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">l</span> <span class="p">[</span><span class="o">-</span><span class="n">AknS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">g</span> <span class="n">group</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="n">host</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">prompt</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">U</span> <span class="n">user</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span> <span class="n">user</span><span class="p">]</span>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a>            <span class="p">[</span><span class="n">command</span><span class="p">]</span>
</span><span id="__span-116-5"><a id="__codelineno-116-5" name="__codelineno-116-5" href="#__codelineno-116-5"></a><span class="n">usage</span><span class="p">:</span> <span class="n">sudo</span> <span class="p">[</span><span class="o">-</span><span class="n">AbEHknPS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">role</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="nb">type</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="n">num</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">g</span> <span class="n">group</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="n">host</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span>
</span><span id="__span-116-6"><a id="__codelineno-116-6" name="__codelineno-116-6" href="#__codelineno-116-6"></a>            <span class="n">prompt</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">T</span> <span class="n">timeout</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span> <span class="n">user</span><span class="p">]</span> <span class="p">[</span><span class="n">VAR</span><span class="o">=</span><span class="n">value</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="o">|-</span><span class="n">s</span><span class="p">]</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span><span class="p">]</span>
</span><span id="__span-116-7"><a id="__codelineno-116-7" name="__codelineno-116-7" href="#__codelineno-116-7"></a><span class="n">usage</span><span class="p">:</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">e</span> <span class="p">[</span><span class="o">-</span><span class="n">AknS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="n">role</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="nb">type</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="n">num</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">g</span> <span class="n">group</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="n">host</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span>
</span><span id="__span-116-8"><a id="__codelineno-116-8" name="__codelineno-116-8" href="#__codelineno-116-8"></a>            <span class="n">prompt</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">T</span> <span class="n">timeout</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span> <span class="n">user</span><span class="p">]</span> <span class="n">file</span> <span class="o">...</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="n">psql</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="n">psql</span> <span class="p">(</span><span class="mf">12.20</span> <span class="p">(</span><span class="n">Ubuntu</span> <span class="mf">12.20</span><span class="o">-</span><span class="mi">0</span><span class="n">ubuntu0</span><span class="mf">.20.04.1</span><span class="p">))</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="n">Type</span> <span class="s2">&quot;help&quot;</span> <span class="k">for</span> <span class="n">help</span><span class="o">.</span>
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="n">ditto</span><span class="o">=&gt;</span> <span class="n">help</span>
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="n">You</span> <span class="n">are</span> <span class="n">using</span> <span class="n">psql</span><span class="p">,</span> <span class="n">the</span> <span class="n">command</span><span class="o">-</span><span class="n">line</span> <span class="n">interface</span> <span class="n">to</span> <span class="n">PostgreSQL</span><span class="o">.</span>
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="n">Type</span><span class="p">:</span>  \<span class="n">copyright</span> <span class="k">for</span> <span class="n">distribution</span> <span class="n">terms</span>
</span><span id="__span-118-7"><a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a>       \<span class="n">h</span> <span class="k">for</span> <span class="n">help</span> <span class="k">with</span> <span class="n">SQL</span> <span class="n">commands</span>
</span><span id="__span-118-8"><a id="__codelineno-118-8" name="__codelineno-118-8" href="#__codelineno-118-8"></a>       \<span class="err">?</span> <span class="k">for</span> <span class="n">help</span> <span class="k">with</span> <span class="n">psql</span> <span class="n">commands</span>
</span><span id="__span-118-9"><a id="__codelineno-118-9" name="__codelineno-118-9" href="#__codelineno-118-9"></a>       \<span class="n">g</span> <span class="ow">or</span> <span class="n">terminate</span> <span class="k">with</span> <span class="n">semicolon</span> <span class="n">to</span> <span class="n">execute</span> <span class="n">query</span>
</span><span id="__span-118-10"><a id="__codelineno-118-10" name="__codelineno-118-10" href="#__codelineno-118-10"></a>       \<span class="n">q</span> <span class="n">to</span> <span class="n">quit</span>
</span><span id="__span-118-11"><a id="__codelineno-118-11" name="__codelineno-118-11" href="#__codelineno-118-11"></a><span class="n">ditto</span><span class="o">=&gt;</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">list databases</span><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a>\<span class="n">l</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a> <span class="n">List</span> <span class="n">of</span> <span class="n">databases</span>
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a>   <span class="n">Name</span>    <span class="o">|</span>  <span class="n">Owner</span>   <span class="o">|</span> <span class="n">Encoding</span> <span class="o">|</span> <span class="n">Collate</span> <span class="o">|</span> <span class="n">Ctype</span> <span class="o">|</span>   <span class="n">Access</span> <span class="n">privileges</span>   
</span><span id="__span-120-3"><a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="o">-----------+----------+----------+---------+-------+-----------------------</span>
</span><span id="__span-120-4"><a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a> <span class="n">ditto</span>     <span class="o">|</span> <span class="n">ditto</span>    <span class="o">|</span> <span class="n">LATIN1</span>   <span class="o">|</span> <span class="n">en_US</span>   <span class="o">|</span> <span class="n">en_US</span> <span class="o">|</span> 
</span><span id="__span-120-5"><a id="__codelineno-120-5" name="__codelineno-120-5" href="#__codelineno-120-5"></a> <span class="n">dittodb</span>   <span class="o">|</span> <span class="n">ditto</span>    <span class="o">|</span> <span class="n">LATIN1</span>   <span class="o">|</span> <span class="n">en_US</span>   <span class="o">|</span> <span class="n">en_US</span> <span class="o">|</span> 
</span><span id="__span-120-6"><a id="__codelineno-120-6" name="__codelineno-120-6" href="#__codelineno-120-6"></a> <span class="n">postgres</span>  <span class="o">|</span> <span class="n">postgres</span> <span class="o">|</span> <span class="n">LATIN1</span>   <span class="o">|</span> <span class="n">en_US</span>   <span class="o">|</span> <span class="n">en_US</span> <span class="o">|</span> 
</span><span id="__span-120-7"><a id="__codelineno-120-7" name="__codelineno-120-7" href="#__codelineno-120-7"></a> <span class="n">template0</span> <span class="o">|</span> <span class="n">postgres</span> <span class="o">|</span> <span class="n">LATIN1</span>   <span class="o">|</span> <span class="n">en_US</span>   <span class="o">|</span> <span class="n">en_US</span> <span class="o">|</span> <span class="o">=</span><span class="n">c</span><span class="o">/</span><span class="n">postgres</span>          <span class="o">+</span>
</span><span id="__span-120-8"><a id="__codelineno-120-8" name="__codelineno-120-8" href="#__codelineno-120-8"></a>           <span class="o">|</span>          <span class="o">|</span>          <span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span> <span class="n">postgres</span><span class="o">=</span><span class="n">CTc</span><span class="o">/</span><span class="n">postgres</span>
</span><span id="__span-120-9"><a id="__codelineno-120-9" name="__codelineno-120-9" href="#__codelineno-120-9"></a> <span class="n">template1</span> <span class="o">|</span> <span class="n">postgres</span> <span class="o">|</span> <span class="n">LATIN1</span>   <span class="o">|</span> <span class="n">en_US</span>   <span class="o">|</span> <span class="n">en_US</span> <span class="o">|</span> <span class="o">=</span><span class="n">c</span><span class="o">/</span><span class="n">postgres</span>          <span class="o">+</span>
</span><span id="__span-120-10"><a id="__codelineno-120-10" name="__codelineno-120-10" href="#__codelineno-120-10"></a>           <span class="o">|</span>          <span class="o">|</span>          <span class="o">|</span>         <span class="o">|</span>       <span class="o">|</span> <span class="n">postgres</span><span class="o">=</span><span class="n">CTc</span><span class="o">/</span><span class="n">postgres</span>
</span><span id="__span-120-11"><a id="__codelineno-120-11" name="__codelineno-120-11" href="#__codelineno-120-11"></a><span class="p">(</span><span class="mi">5</span> <span class="n">rows</span><span class="p">)</span>
</span></code></pre></div>
<p><span class="omega">I'm guessing there should only be one database listed above, and that ditto should point to it in a database config file somewhere.</span> </p>
<div class="language-py highlight"><span class="filename">quit</span><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a>\<span class="n">quit</span>
</span></code></pre></div>
<h3 id="2c-add-soapbox">2.c. Add Soapbox<a class="headerlink" href="#2c-add-soapbox" title="Permanent link">⚓︎</a></h3>
<div class="language-py highlight"><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="n">deno</span> <span class="n">task</span> <span class="n">soapbox</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">a very very long list of files gets installed</span><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="n">Task</span> <span class="n">soapbox</span> <span class="n">curl</span> <span class="o">-</span><span class="n">O</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">dl</span><span class="o">.</span><span class="n">soapbox</span><span class="o">.</span><span class="n">pub</span><span class="o">/</span><span class="n">main</span><span class="o">/</span><span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span> <span class="o">&amp;&amp;</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">public</span> <span class="o">&amp;&amp;</span> <span class="n">mv</span> <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span> <span class="n">public</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">public</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">unzip</span> <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span> <span class="o">&amp;&amp;</span> <span class="n">rm</span> <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-123-2"><a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a>  <span class="o">%</span> <span class="n">Total</span>    <span class="o">%</span> <span class="n">Received</span> <span class="o">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
</span><span id="__span-123-3"><a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a>                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
</span><span id="__span-123-4"><a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a><span class="mi">100</span> <span class="mf">20.8</span><span class="n">M</span>  <span class="mi">100</span> <span class="mf">20.8</span><span class="n">M</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">9666</span><span class="n">k</span>      <span class="mi">0</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="mi">9662</span><span class="n">k</span>
</span><span id="__span-123-5"><a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a><span class="n">Archive</span><span class="p">:</span>  <span class="n">soapbox</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-123-6"><a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">report</span><span class="o">.</span><span class="n">html</span>             
</span><span id="__span-123-7"><a id="__codelineno-123-7" name="__codelineno-123-7" href="#__codelineno-123-7"></a>   <span class="n">creating</span><span class="p">:</span> <span class="n">packs</span><span class="o">/</span>
</span><span id="__span-123-8"><a id="__codelineno-123-8" name="__codelineno-123-8" href="#__codelineno-123-8"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">packs</span><span class="o">/</span><span class="n">audio</span><span class="o">.</span><span class="n">worker</span><span class="o">-</span><span class="n">PmTdibbe</span><span class="o">.</span><span class="n">js</span>  
</span><span id="__span-123-9"><a id="__codelineno-123-9" name="__codelineno-123-9" href="#__codelineno-123-9"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">packs</span><span class="o">/</span><span class="n">memory</span><span class="o">.</span><span class="n">worker</span><span class="o">-</span><span class="n">BoRe3qDz</span><span class="o">.</span><span class="n">js</span> 
</span><span id="__span-123-10"><a id="__codelineno-123-10" name="__codelineno-123-10" href="#__codelineno-123-10"></a>  <span class="o">...</span>
</span><span id="__span-123-11"><a id="__codelineno-123-11" name="__codelineno-123-11" href="#__codelineno-123-11"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">sw</span><span class="o">.</span><span class="n">js</span>                   
</span><span id="__span-123-12"><a id="__codelineno-123-12" name="__codelineno-123-12" href="#__codelineno-123-12"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">sw</span><span class="o">.</span><span class="n">js</span><span class="o">.</span><span class="n">map</span>               
</span><span id="__span-123-13"><a id="__codelineno-123-13" name="__codelineno-123-13" href="#__codelineno-123-13"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="n">index</span><span class="o">.</span><span class="n">html</span>              
</span><span id="__span-123-14"><a id="__codelineno-123-14" name="__codelineno-123-14" href="#__codelineno-123-14"></a>  <span class="n">inflating</span><span class="p">:</span> <span class="mf">404.</span><span class="n">html</span>  
</span></code></pre></div>
<p>to stop being the ditto user, if you type exit just once, it doesn't change the directory location, you're still in /opt/ditto, but, I assume, you do stop being the ditto user.</p>
<div class="language-py highlight"><span class="filename">enter exit only once</span><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="n">exit</span>
</span></code></pre></div>
<h3 id="2d-provision-the-database">2.d. Provision the database<a class="headerlink" href="#2d-provision-the-database" title="Permanent link">⚓︎</a></h3>
<p>create postgress user and database (from within /opt/ditto)</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">createuser</span> <span class="o">-</span><span class="n">P</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enter ditto user password</span><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="n">Enter</span> <span class="n">password</span> <span class="k">for</span> <span class="n">new</span> <span class="n">role</span><span class="p">:</span>
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="n">Retype</span><span class="p">:</span>
</span></code></pre></div>
<p><span class="omega">I entered the existing ditto user password, should it have been a password for a second ditto user?</span></p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">createdb</span> <span class="n">ditto</span> <span class="o">-</span><span class="n">O</span> <span class="n">dittodb</span>
</span></code></pre></div>
<div class="language-py highlight"><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">ditto</span> <span class="n">psql</span> <span class="n">dittodb</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="n">psql</span> <span class="p">(</span><span class="n">version</span> <span class="p">(</span><span class="n">Ubuntu</span><span class="p">)</span>
</span><span id="__span-129-2"><a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a><span class="n">Type</span> <span class="s2">&quot;help&quot;</span> <span class="k">for</span> <span class="n">help</span><span class="o">.</span>
</span><span id="__span-129-3"><a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a>
</span><span id="__span-129-4"><a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a><span class="n">ditto</span><span class="o">=&gt;</span> <span class="n">ALTER</span> <span class="n">USER</span> <span class="n">ditto</span> <span class="n">WITH</span> <span class="n">PASSWORD</span> <span class="s1">&#39;added new database password&#39;</span><span class="p">;</span>
</span></code></pre></div>
<p>The option above saves the password in plaintext.</p>
<p><span class="omega">Unsure on this one, as the docs point out to use a previously entered password, so it could be the one for the second ditto user, or maybe it is to fill in the database password where I just left the word ditto previously. Or perhaps the second ditto user and the database password are the same. I added what I'd like the database password to be. </span></p>
<div class="language-py highlight"><span class="filename">close database</span><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a>\<span class="n">q</span>
</span></code></pre></div>
<h3 id="2e-start-ditto">2.e Start Ditto<a class="headerlink" href="#2e-start-ditto" title="Permanent link">⚓︎</a></h3>
<div class="language-py highlight"><span class="filename">from within the /opt/ditto folder</span><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="n">sudo</span> <span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">installation</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span>
</span></code></pre></div>
<p>no message appeared.</p>
<div class="language-py highlight"><span class="filename">to reload</span><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">daemon</span><span class="o">-</span><span class="n">reload</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">enable ditto to run automatically</span><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="o">--</span><span class="n">now</span> <span class="n">ditto</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="n">Created</span> <span class="n">symlink</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">wants</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="err">→</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="o">.</span>
</span></code></pre></div>
<p>check if ditto is running</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
<p>stop process with Ctrl + C</p>
<p>It fails here, but I haven't updated the .env file yet. </p>
<h3 id="3-getting-online">3. Getting online<a class="headerlink" href="#3-getting-online" title="Permanent link">⚓︎</a></h3>
<h4 id="3a-configure-nginx">3.a. Configure Nginx<a class="headerlink" href="#3a-configure-nginx" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">correct location</span><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="n">sudo</span> <span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">installation</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">conf</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">conf</span>
</span></code></pre></div>
<p>open config file window to replace example.com with your domain</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">conf</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">original conf file for reference</span><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="c1"># Nginx configuration for Ditto.</span>
</span><span id="__span-138-2"><a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a><span class="c1">#</span>
</span><span id="__span-138-3"><a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="c1"># Edit this file to change occurences of &quot;example.com&quot; to your own domain.</span>
</span><span id="__span-138-4"><a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a>
</span><span id="__span-138-5"><a id="__codelineno-138-5" name="__codelineno-138-5" href="#__codelineno-138-5"></a><span class="n">upstream</span> <span class="n">ditto</span> <span class="p">{</span>
</span><span id="__span-138-6"><a id="__codelineno-138-6" name="__codelineno-138-6" href="#__codelineno-138-6"></a>  <span class="n">server</span> <span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">4036</span><span class="p">;</span>
</span><span id="__span-138-7"><a id="__codelineno-138-7" name="__codelineno-138-7" href="#__codelineno-138-7"></a><span class="p">}</span>
</span><span id="__span-138-8"><a id="__codelineno-138-8" name="__codelineno-138-8" href="#__codelineno-138-8"></a>
</span><span id="__span-138-9"><a id="__codelineno-138-9" name="__codelineno-138-9" href="#__codelineno-138-9"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-138-10"><a id="__codelineno-138-10" name="__codelineno-138-10" href="#__codelineno-138-10"></a>  <span class="n">listen</span> <span class="mi">80</span><span class="p">;</span>
</span><span id="__span-138-11"><a id="__codelineno-138-11" name="__codelineno-138-11" href="#__codelineno-138-11"></a>  <span class="n">listen</span> <span class="p">[::]:</span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-138-12"><a id="__codelineno-138-12" name="__codelineno-138-12" href="#__codelineno-138-12"></a>  <span class="n">location</span> <span class="o">/.</span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="o">/</span><span class="n">acme</span><span class="o">-</span><span class="n">challenge</span><span class="o">/</span> <span class="p">{</span> <span class="n">allow</span> <span class="nb">all</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-138-13"><a id="__codelineno-138-13" name="__codelineno-138-13" href="#__codelineno-138-13"></a>  <span class="n">location</span> <span class="o">/</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">301</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="err">$</span><span class="n">host</span><span class="err">$</span><span class="n">request_uri</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-138-14"><a id="__codelineno-138-14" name="__codelineno-138-14" href="#__codelineno-138-14"></a><span class="p">}</span>
</span><span id="__span-138-15"><a id="__codelineno-138-15" name="__codelineno-138-15" href="#__codelineno-138-15"></a>
</span><span id="__span-138-16"><a id="__codelineno-138-16" name="__codelineno-138-16" href="#__codelineno-138-16"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-138-17"><a id="__codelineno-138-17" name="__codelineno-138-17" href="#__codelineno-138-17"></a>  <span class="n">server_name</span> <span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">;</span>
</span><span id="__span-138-18"><a id="__codelineno-138-18" name="__codelineno-138-18" href="#__codelineno-138-18"></a>
</span><span id="__span-138-19"><a id="__codelineno-138-19" name="__codelineno-138-19" href="#__codelineno-138-19"></a>  <span class="n">keepalive_timeout</span> <span class="mi">70</span><span class="p">;</span>
</span><span id="__span-138-20"><a id="__codelineno-138-20" name="__codelineno-138-20" href="#__codelineno-138-20"></a>  <span class="n">sendfile</span> <span class="n">on</span><span class="p">;</span>
</span><span id="__span-138-21"><a id="__codelineno-138-21" name="__codelineno-138-21" href="#__codelineno-138-21"></a>  <span class="n">client_max_body_size</span> <span class="mi">100</span><span class="n">m</span><span class="p">;</span>
</span><span id="__span-138-22"><a id="__codelineno-138-22" name="__codelineno-138-22" href="#__codelineno-138-22"></a>  <span class="n">ignore_invalid_headers</span> <span class="n">off</span><span class="p">;</span>
</span><span id="__span-138-23"><a id="__codelineno-138-23" name="__codelineno-138-23" href="#__codelineno-138-23"></a>
</span><span id="__span-138-24"><a id="__codelineno-138-24" name="__codelineno-138-24" href="#__codelineno-138-24"></a>  <span class="n">proxy_http_version</span> <span class="mf">1.1</span><span class="p">;</span>
</span><span id="__span-138-25"><a id="__codelineno-138-25" name="__codelineno-138-25" href="#__codelineno-138-25"></a>  <span class="n">proxy_set_header</span> <span class="n">Upgrade</span> <span class="err">$</span><span class="n">http_upgrade</span><span class="p">;</span>
</span><span id="__span-138-26"><a id="__codelineno-138-26" name="__codelineno-138-26" href="#__codelineno-138-26"></a>  <span class="n">proxy_set_header</span> <span class="n">Connection</span> <span class="s2">&quot;upgrade&quot;</span><span class="p">;</span>
</span><span id="__span-138-27"><a id="__codelineno-138-27" name="__codelineno-138-27" href="#__codelineno-138-27"></a>  <span class="n">proxy_set_header</span> <span class="n">Host</span> <span class="err">$</span><span class="n">host</span><span class="p">;</span>
</span><span id="__span-138-28"><a id="__codelineno-138-28" name="__codelineno-138-28" href="#__codelineno-138-28"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Real</span><span class="o">-</span><span class="n">IP</span> <span class="err">$</span><span class="n">remote_addr</span><span class="p">;</span>
</span><span id="__span-138-29"><a id="__codelineno-138-29" name="__codelineno-138-29" href="#__codelineno-138-29"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">For</span> <span class="err">$</span><span class="n">proxy_add_x_forwarded_for</span><span class="p">;</span>
</span><span id="__span-138-30"><a id="__codelineno-138-30" name="__codelineno-138-30" href="#__codelineno-138-30"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Proto</span> <span class="err">$</span><span class="n">scheme</span><span class="p">;</span>
</span><span id="__span-138-31"><a id="__codelineno-138-31" name="__codelineno-138-31" href="#__codelineno-138-31"></a>
</span><span id="__span-138-32"><a id="__codelineno-138-32" name="__codelineno-138-32" href="#__codelineno-138-32"></a>  <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-138-33"><a id="__codelineno-138-33" name="__codelineno-138-33" href="#__codelineno-138-33"></a>
</span><span id="__span-138-34"><a id="__codelineno-138-34" name="__codelineno-138-34" href="#__codelineno-138-34"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">packs</span> <span class="p">{</span>
</span><span id="__span-138-35"><a id="__codelineno-138-35" name="__codelineno-138-35" href="#__codelineno-138-35"></a>    <span class="n">add_header</span> <span class="n">Cache</span><span class="o">-</span><span class="n">Control</span> <span class="s2">&quot;public, max-age=31536000, immutable&quot;</span><span class="p">;</span>
</span><span id="__span-138-36"><a id="__codelineno-138-36" name="__codelineno-138-36" href="#__codelineno-138-36"></a>    <span class="n">add_header</span> <span class="n">Strict</span><span class="o">-</span><span class="n">Transport</span><span class="o">-</span><span class="n">Security</span> <span class="s2">&quot;max-age=31536000&quot;</span> <span class="n">always</span><span class="p">;</span>
</span><span id="__span-138-37"><a id="__codelineno-138-37" name="__codelineno-138-37" href="#__codelineno-138-37"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-138-38"><a id="__codelineno-138-38" name="__codelineno-138-38" href="#__codelineno-138-38"></a>  <span class="p">}</span>
</span><span id="__span-138-39"><a id="__codelineno-138-39" name="__codelineno-138-39" href="#__codelineno-138-39"></a>
</span><span id="__span-138-40"><a id="__codelineno-138-40" name="__codelineno-138-40" href="#__codelineno-138-40"></a>  <span class="n">location</span> <span class="o">~</span> <span class="o">^/</span><span class="p">(</span><span class="n">instance</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span><span class="err">$</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span>\<span class="o">.</span><span class="n">map</span><span class="err">$</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-138-41"><a id="__codelineno-138-41" name="__codelineno-138-41" href="#__codelineno-138-41"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-138-42"><a id="__codelineno-138-42" name="__codelineno-138-42" href="#__codelineno-138-42"></a>    <span class="n">try_files</span> <span class="err">$</span><span class="n">uri</span> <span class="o">=</span><span class="mi">404</span><span class="p">;</span>
</span><span id="__span-138-43"><a id="__codelineno-138-43" name="__codelineno-138-43" href="#__codelineno-138-43"></a>  <span class="p">}</span>
</span><span id="__span-138-44"><a id="__codelineno-138-44" name="__codelineno-138-44" href="#__codelineno-138-44"></a>
</span><span id="__span-138-45"><a id="__codelineno-138-45" name="__codelineno-138-45" href="#__codelineno-138-45"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">metrics</span> <span class="p">{</span>
</span><span id="__span-138-46"><a id="__codelineno-138-46" name="__codelineno-138-46" href="#__codelineno-138-46"></a>    <span class="n">allow</span> <span class="mf">127.0.0.1</span><span class="p">;</span>
</span><span id="__span-138-47"><a id="__codelineno-138-47" name="__codelineno-138-47" href="#__codelineno-138-47"></a>    <span class="n">deny</span> <span class="nb">all</span><span class="p">;</span>
</span><span id="__span-138-48"><a id="__codelineno-138-48" name="__codelineno-138-48" href="#__codelineno-138-48"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-138-49"><a id="__codelineno-138-49" name="__codelineno-138-49" href="#__codelineno-138-49"></a>  <span class="p">}</span>
</span><span id="__span-138-50"><a id="__codelineno-138-50" name="__codelineno-138-50" href="#__codelineno-138-50"></a>
</span><span id="__span-138-51"><a id="__codelineno-138-51" name="__codelineno-138-51" href="#__codelineno-138-51"></a><span class="n">location</span> <span class="o">/</span> <span class="p">{</span>
</span><span id="__span-138-52"><a id="__codelineno-138-52" name="__codelineno-138-52" href="#__codelineno-138-52"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-138-53"><a id="__codelineno-138-53" name="__codelineno-138-53" href="#__codelineno-138-53"></a>  <span class="p">}</span>
</span><span id="__span-138-54"><a id="__codelineno-138-54" name="__codelineno-138-54" href="#__codelineno-138-54"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">updated file</span><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="c1"># Nginx configuration for Ditto.</span>
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="c1">#</span>
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="c1"># Edit this file to change occurences of &quot;example.com&quot; to your own domain.</span>
</span><span id="__span-139-4"><a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a>
</span><span id="__span-139-5"><a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a><span class="n">upstream</span> <span class="n">ditto</span> <span class="p">{</span>
</span><span id="__span-139-6"><a id="__codelineno-139-6" name="__codelineno-139-6" href="#__codelineno-139-6"></a>  <span class="n">server</span> <span class="mf">111.111.11.11</span><span class="p">:</span><span class="mi">2140</span><span class="p">;</span>
</span><span id="__span-139-7"><a id="__codelineno-139-7" name="__codelineno-139-7" href="#__codelineno-139-7"></a><span class="p">}</span>
</span><span id="__span-139-8"><a id="__codelineno-139-8" name="__codelineno-139-8" href="#__codelineno-139-8"></a>
</span><span id="__span-139-9"><a id="__codelineno-139-9" name="__codelineno-139-9" href="#__codelineno-139-9"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-139-10"><a id="__codelineno-139-10" name="__codelineno-139-10" href="#__codelineno-139-10"></a>  <span class="n">listen</span> <span class="mi">80</span><span class="p">;</span>
</span><span id="__span-139-11"><a id="__codelineno-139-11" name="__codelineno-139-11" href="#__codelineno-139-11"></a>  <span class="n">listen</span> <span class="p">[::]:</span><span class="mi">80</span><span class="p">;</span>
</span><span id="__span-139-12"><a id="__codelineno-139-12" name="__codelineno-139-12" href="#__codelineno-139-12"></a>  <span class="n">location</span> <span class="o">/.</span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="o">/</span><span class="n">acme</span><span class="o">-</span><span class="n">challenge</span><span class="o">/</span> <span class="p">{</span> <span class="n">allow</span> <span class="nb">all</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-139-13"><a id="__codelineno-139-13" name="__codelineno-139-13" href="#__codelineno-139-13"></a>  <span class="n">location</span> <span class="o">/</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">301</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="err">$</span><span class="n">host</span><span class="err">$</span><span class="n">request_uri</span><span class="p">;</span> <span class="p">}</span>
</span><span id="__span-139-14"><a id="__codelineno-139-14" name="__codelineno-139-14" href="#__codelineno-139-14"></a><span class="p">}</span>
</span><span id="__span-139-15"><a id="__codelineno-139-15" name="__codelineno-139-15" href="#__codelineno-139-15"></a>
</span><span id="__span-139-16"><a id="__codelineno-139-16" name="__codelineno-139-16" href="#__codelineno-139-16"></a><span class="n">server</span> <span class="p">{</span>
</span><span id="__span-139-17"><a id="__codelineno-139-17" name="__codelineno-139-17" href="#__codelineno-139-17"></a>  <span class="n">server_name</span> <span class="n">owndomain</span><span class="o">.</span><span class="n">com</span><span class="p">;</span>
</span><span id="__span-139-18"><a id="__codelineno-139-18" name="__codelineno-139-18" href="#__codelineno-139-18"></a>
</span><span id="__span-139-19"><a id="__codelineno-139-19" name="__codelineno-139-19" href="#__codelineno-139-19"></a>  <span class="n">keepalive_timeout</span> <span class="mi">70</span><span class="p">;</span>
</span><span id="__span-139-20"><a id="__codelineno-139-20" name="__codelineno-139-20" href="#__codelineno-139-20"></a>  <span class="n">sendfile</span> <span class="n">on</span><span class="p">;</span>
</span><span id="__span-139-21"><a id="__codelineno-139-21" name="__codelineno-139-21" href="#__codelineno-139-21"></a>  <span class="n">client_max_body_size</span> <span class="mi">100</span><span class="n">m</span><span class="p">;</span>
</span><span id="__span-139-22"><a id="__codelineno-139-22" name="__codelineno-139-22" href="#__codelineno-139-22"></a>  <span class="n">ignore_invalid_headers</span> <span class="n">off</span><span class="p">;</span>
</span><span id="__span-139-23"><a id="__codelineno-139-23" name="__codelineno-139-23" href="#__codelineno-139-23"></a>
</span><span id="__span-139-24"><a id="__codelineno-139-24" name="__codelineno-139-24" href="#__codelineno-139-24"></a>  <span class="n">proxy_http_version</span> <span class="mf">1.1</span><span class="p">;</span>
</span><span id="__span-139-25"><a id="__codelineno-139-25" name="__codelineno-139-25" href="#__codelineno-139-25"></a>  <span class="n">proxy_set_header</span> <span class="n">Upgrade</span> <span class="err">$</span><span class="n">http_upgrade</span><span class="p">;</span>
</span><span id="__span-139-26"><a id="__codelineno-139-26" name="__codelineno-139-26" href="#__codelineno-139-26"></a>  <span class="n">proxy_set_header</span> <span class="n">Connection</span> <span class="s2">&quot;upgrade&quot;</span><span class="p">;</span>
</span><span id="__span-139-27"><a id="__codelineno-139-27" name="__codelineno-139-27" href="#__codelineno-139-27"></a>  <span class="n">proxy_set_header</span> <span class="n">Host</span> <span class="err">$</span><span class="n">host</span><span class="p">;</span>
</span><span id="__span-139-28"><a id="__codelineno-139-28" name="__codelineno-139-28" href="#__codelineno-139-28"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Real</span><span class="o">-</span><span class="n">IP</span> <span class="err">$</span><span class="n">remote_addr</span><span class="p">;</span>
</span><span id="__span-139-29"><a id="__codelineno-139-29" name="__codelineno-139-29" href="#__codelineno-139-29"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">For</span> <span class="err">$</span><span class="n">proxy_add_x_forwarded_for</span><span class="p">;</span>
</span><span id="__span-139-30"><a id="__codelineno-139-30" name="__codelineno-139-30" href="#__codelineno-139-30"></a>  <span class="n">proxy_set_header</span> <span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Proto</span> <span class="err">$</span><span class="n">scheme</span><span class="p">;</span>
</span><span id="__span-139-31"><a id="__codelineno-139-31" name="__codelineno-139-31" href="#__codelineno-139-31"></a>
</span><span id="__span-139-32"><a id="__codelineno-139-32" name="__codelineno-139-32" href="#__codelineno-139-32"></a>  <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-139-33"><a id="__codelineno-139-33" name="__codelineno-139-33" href="#__codelineno-139-33"></a>
</span><span id="__span-139-34"><a id="__codelineno-139-34" name="__codelineno-139-34" href="#__codelineno-139-34"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">packs</span> <span class="p">{</span>
</span><span id="__span-139-35"><a id="__codelineno-139-35" name="__codelineno-139-35" href="#__codelineno-139-35"></a>    <span class="n">add_header</span> <span class="n">Cache</span><span class="o">-</span><span class="n">Control</span> <span class="s2">&quot;public, max-age=31536000, immutable&quot;</span><span class="p">;</span>
</span><span id="__span-139-36"><a id="__codelineno-139-36" name="__codelineno-139-36" href="#__codelineno-139-36"></a>    <span class="n">add_header</span> <span class="n">Strict</span><span class="o">-</span><span class="n">Transport</span><span class="o">-</span><span class="n">Security</span> <span class="s2">&quot;max-age=31536000&quot;</span> <span class="n">always</span><span class="p">;</span>
</span><span id="__span-139-37"><a id="__codelineno-139-37" name="__codelineno-139-37" href="#__codelineno-139-37"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-139-38"><a id="__codelineno-139-38" name="__codelineno-139-38" href="#__codelineno-139-38"></a>  <span class="p">}</span>
</span><span id="__span-139-39"><a id="__codelineno-139-39" name="__codelineno-139-39" href="#__codelineno-139-39"></a>
</span><span id="__span-139-40"><a id="__codelineno-139-40" name="__codelineno-139-40" href="#__codelineno-139-40"></a>  <span class="n">location</span> <span class="o">~</span> <span class="o">^/</span><span class="p">(</span><span class="n">instance</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span><span class="err">$</span><span class="o">|</span><span class="n">sw</span>\<span class="o">.</span><span class="n">js</span>\<span class="o">.</span><span class="n">map</span><span class="err">$</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-139-41"><a id="__codelineno-139-41" name="__codelineno-139-41" href="#__codelineno-139-41"></a>    <span class="n">root</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span><span class="o">/</span><span class="n">public</span><span class="p">;</span>
</span><span id="__span-139-42"><a id="__codelineno-139-42" name="__codelineno-139-42" href="#__codelineno-139-42"></a>
</span><span id="__span-139-43"><a id="__codelineno-139-43" name="__codelineno-139-43" href="#__codelineno-139-43"></a>    <span class="n">try_files</span> <span class="err">$</span><span class="n">uri</span> <span class="o">=</span><span class="mi">404</span><span class="p">;</span>
</span><span id="__span-139-44"><a id="__codelineno-139-44" name="__codelineno-139-44" href="#__codelineno-139-44"></a>  <span class="p">}</span>
</span><span id="__span-139-45"><a id="__codelineno-139-45" name="__codelineno-139-45" href="#__codelineno-139-45"></a>
</span><span id="__span-139-46"><a id="__codelineno-139-46" name="__codelineno-139-46" href="#__codelineno-139-46"></a>  <span class="n">location</span> <span class="o">/</span><span class="n">metrics</span> <span class="p">{</span>
</span><span id="__span-139-47"><a id="__codelineno-139-47" name="__codelineno-139-47" href="#__codelineno-139-47"></a>    <span class="n">allow</span> <span class="mf">111.111.11.11</span><span class="p">;</span>
</span><span id="__span-139-48"><a id="__codelineno-139-48" name="__codelineno-139-48" href="#__codelineno-139-48"></a>    <span class="c1"># changed to server IP</span>
</span><span id="__span-139-49"><a id="__codelineno-139-49" name="__codelineno-139-49" href="#__codelineno-139-49"></a>    <span class="n">deny</span> <span class="nb">all</span><span class="p">;</span>
</span><span id="__span-139-50"><a id="__codelineno-139-50" name="__codelineno-139-50" href="#__codelineno-139-50"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-139-51"><a id="__codelineno-139-51" name="__codelineno-139-51" href="#__codelineno-139-51"></a>  <span class="p">}</span>
</span><span id="__span-139-52"><a id="__codelineno-139-52" name="__codelineno-139-52" href="#__codelineno-139-52"></a>
</span><span id="__span-139-53"><a id="__codelineno-139-53" name="__codelineno-139-53" href="#__codelineno-139-53"></a><span class="n">location</span> <span class="o">/</span> <span class="p">{</span>
</span><span id="__span-139-54"><a id="__codelineno-139-54" name="__codelineno-139-54" href="#__codelineno-139-54"></a>    <span class="n">proxy_pass</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ditto</span><span class="p">;</span>
</span><span id="__span-139-55"><a id="__codelineno-139-55" name="__codelineno-139-55" href="#__codelineno-139-55"></a>  <span class="p">}</span>
</span><span id="__span-139-56"><a id="__codelineno-139-56" name="__codelineno-139-56" href="#__codelineno-139-56"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>after changes</strong></p>
<p>If you make any other changes to the .env file, make sure to restart nginx. If you get any errors, the latest change you made is likely to be wrong.</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">nginx</span>
</span></code></pre></div>
<br></p>
<h5 id="3bi-setting-up-nginx-to-serve-local-uploads">3.b.i. Setting up nginx to serve local uploads<a class="headerlink" href="#3bi-setting-up-nginx-to-serve-local-uploads" title="Permanent link">⚓︎</a></h5>
<p>There's an extra step here if you didn't choose nostr.build for image uploads. </p>
<p><br></p>
<h4 id="3b-obtain-an-ssl-certificate">3.b. Obtain an SSL certificate<a class="headerlink" href="#3b-obtain-an-ssl-certificate" title="Permanent link">⚓︎</a></h4>
<div class="language-py highlight"><span class="filename">navigate back to your server's home folder (username@server) repeating the following command twice</span><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="n">cd</span> <span class="o">..</span>
</span></code></pre></div>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-142-1"><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="n">sudo</span> <span class="n">certbot</span> <span class="o">--</span><span class="n">nginx</span>
</span></code></pre></div>
If your env file has no syntax errors, it will ask you for a contact email:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-143-1"><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="n">Saving</span> <span class="n">debug</span> <span class="n">log</span> <span class="n">to</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">.</span><span class="n">log</span>
</span><span id="__span-143-2"><a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a><span class="n">Plugins</span> <span class="n">selected</span><span class="p">:</span> <span class="n">Authenticator</span> <span class="n">nginx</span><span class="p">,</span> <span class="n">Installer</span> <span class="n">nginx</span>
</span><span id="__span-143-3"><a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a><span class="n">Enter</span> <span class="n">email</span> <span class="n">address</span> <span class="p">(</span><span class="n">used</span> <span class="k">for</span> <span class="n">urgent</span> <span class="n">renewal</span> <span class="ow">and</span> <span class="n">security</span> <span class="n">notices</span><span class="p">)</span> <span class="p">(</span><span class="n">Enter</span> <span class="s1">&#39;c&#39;</span> <span class="n">to</span>
</span><span id="__span-143-4"><a id="__codelineno-143-4" name="__codelineno-143-4" href="#__codelineno-143-4"></a><span class="n">cancel</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">agree to the terms of service</span><pre><span></span><code><span id="__span-144-1"><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-144-2"><a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a><span class="n">Please</span> <span class="n">read</span> <span class="n">the</span> <span class="n">Terms</span> <span class="n">of</span> <span class="n">Service</span> <span class="n">at</span>
</span><span id="__span-144-3"><a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">letsencrypt</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">documents</span><span class="o">/</span><span class="n">LE</span><span class="o">-</span><span class="n">SA</span><span class="o">-</span><span class="n">v1</span><span class="mf">.4</span><span class="o">-</span><span class="n">April</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mf">2024.</span><span class="n">pdf</span><span class="o">.</span> <span class="n">You</span> <span class="n">must</span> <span class="n">agree</span> <span class="ow">in</span>
</span><span id="__span-144-4"><a id="__codelineno-144-4" name="__codelineno-144-4" href="#__codelineno-144-4"></a><span class="n">order</span> <span class="n">to</span> <span class="n">register</span> <span class="k">with</span> <span class="n">the</span> <span class="n">ACME</span> <span class="n">server</span> <span class="n">at</span>
</span><span id="__span-144-5"><a id="__codelineno-144-5" name="__codelineno-144-5" href="#__codelineno-144-5"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">acme</span><span class="o">-</span><span class="n">v02</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">letsencrypt</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">directory</span>
</span><span id="__span-144-6"><a id="__codelineno-144-6" name="__codelineno-144-6" href="#__codelineno-144-6"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-144-7"><a id="__codelineno-144-7" name="__codelineno-144-7" href="#__codelineno-144-7"></a><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="n">gree</span><span class="o">/</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="n">ancel</span><span class="p">:</span> <span class="n">A</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">share your email address</span><pre><span></span><code><span id="__span-145-1"><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-145-2"><a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a><span class="n">Would</span> <span class="n">you</span> <span class="n">be</span> <span class="n">willing</span> <span class="n">to</span> <span class="n">share</span> <span class="n">your</span> <span class="n">email</span> <span class="n">address</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Electronic</span> <span class="n">Frontier</span>
</span><span id="__span-145-3"><a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="n">Foundation</span><span class="p">,</span> <span class="n">a</span> <span class="n">founding</span> <span class="n">partner</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Let</span><span class="s1">&#39;s Encrypt project and the non-profit</span>
</span><span id="__span-145-4"><a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a><span class="n">organization</span> <span class="n">that</span> <span class="n">develops</span> <span class="n">Certbot</span><span class="err">?</span> <span class="n">We</span><span class="s1">&#39;d like to send you email about our work</span>
</span><span id="__span-145-5"><a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a><span class="n">encrypting</span> <span class="n">the</span> <span class="n">web</span><span class="p">,</span> <span class="n">EFF</span> <span class="n">news</span><span class="p">,</span> <span class="n">campaigns</span><span class="p">,</span> <span class="ow">and</span> <span class="n">ways</span> <span class="n">to</span> <span class="n">support</span> <span class="n">digital</span> <span class="n">freedom</span><span class="o">.</span>
</span><span id="__span-145-6"><a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-145-7"><a id="__codelineno-145-7" name="__codelineno-145-7" href="#__codelineno-145-7"></a><span class="p">(</span><span class="n">Y</span><span class="p">)</span><span class="n">es</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="p">)</span><span class="n">o</span><span class="p">:</span> <span class="n">N</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">it will display your domain name, hit enter</span><pre><span></span><code><span id="__span-146-1"><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="n">Which</span> <span class="n">names</span> <span class="n">would</span> <span class="n">you</span> <span class="n">like</span> <span class="n">to</span> <span class="n">activate</span> <span class="n">HTTPS</span> <span class="k">for</span><span class="err">?</span>
</span><span id="__span-146-2"><a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-146-3"><a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="mi">1</span><span class="p">:</span> <span class="n">your</span> <span class="n">domain</span> <span class="n">name</span>
</span><span id="__span-146-4"><a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-146-5"><a id="__codelineno-146-5" name="__codelineno-146-5" href="#__codelineno-146-5"></a><span class="n">Select</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">numbers</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">commas</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">spaces</span><span class="p">,</span> <span class="ow">or</span> <span class="n">leave</span> <span class="nb">input</span>
</span><span id="__span-146-6"><a id="__codelineno-146-6" name="__codelineno-146-6" href="#__codelineno-146-6"></a><span class="n">blank</span> <span class="n">to</span> <span class="n">select</span> <span class="nb">all</span> <span class="n">options</span> <span class="n">shown</span> <span class="p">(</span><span class="n">Enter</span> <span class="s1">&#39;c&#39;</span> <span class="n">to</span> <span class="n">cancel</span><span class="p">):</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">choose your option</span><pre><span></span><code><span id="__span-147-1"><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="n">Please</span> <span class="n">choose</span> <span class="n">whether</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">to</span> <span class="n">redirect</span> <span class="n">HTTP</span> <span class="n">traffic</span> <span class="n">to</span> <span class="n">HTTPS</span><span class="p">,</span> <span class="n">removing</span> <span class="n">HTTP</span> <span class="n">access</span><span class="o">.</span>
</span><span id="__span-147-2"><a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-147-3"><a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="mi">1</span><span class="p">:</span> <span class="n">No</span> <span class="n">redirect</span> <span class="o">-</span> <span class="n">Make</span> <span class="n">no</span> <span class="n">further</span> <span class="n">changes</span> <span class="n">to</span> <span class="n">the</span> <span class="n">webserver</span> <span class="n">configuration</span><span class="o">.</span>
</span><span id="__span-147-4"><a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a><span class="mi">2</span><span class="p">:</span> <span class="n">Redirect</span> <span class="o">-</span> <span class="n">Make</span> <span class="nb">all</span> <span class="n">requests</span> <span class="n">redirect</span> <span class="n">to</span> <span class="n">secure</span> <span class="n">HTTPS</span> <span class="n">access</span><span class="o">.</span> <span class="n">Choose</span> <span class="n">this</span> <span class="k">for</span>
</span><span id="__span-147-5"><a id="__codelineno-147-5" name="__codelineno-147-5" href="#__codelineno-147-5"></a><span class="n">new</span> <span class="n">sites</span><span class="p">,</span> <span class="ow">or</span> <span class="k">if</span> <span class="n">you</span> <span class="n">are</span> <span class="n">confident</span> <span class="n">your</span> <span class="n">site</span> <span class="n">works</span> <span class="n">on</span> <span class="n">HTTPS</span><span class="o">.</span> 
</span><span id="__span-147-6"><a id="__codelineno-147-6" name="__codelineno-147-6" href="#__codelineno-147-6"></a><span class="n">You</span> <span class="n">can</span> <span class="n">undo</span> <span class="n">this</span>
</span><span id="__span-147-7"><a id="__codelineno-147-7" name="__codelineno-147-7" href="#__codelineno-147-7"></a><span class="n">change</span> <span class="n">by</span> <span class="n">editing</span> <span class="n">your</span> <span class="n">web</span> <span class="n">server</span> <span class="n">s</span> <span class="n">configuration</span><span class="o">.</span>
</span><span id="__span-147-8"><a id="__codelineno-147-8" name="__codelineno-147-8" href="#__codelineno-147-8"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-147-9"><a id="__codelineno-147-9" name="__codelineno-147-9" href="#__codelineno-147-9"></a><span class="n">Select</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">number</span> <span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="n">then</span> <span class="p">[</span><span class="n">enter</span><span class="p">]</span> <span class="p">(</span><span class="n">press</span> <span class="s1">&#39;c&#39;</span> <span class="n">to</span> <span class="n">cancel</span><span class="p">):</span> <span class="mi">2</span>
</span></code></pre></div>
<span class="omega">chose to redirect all traffic to https, not sure if all traffic to ditto arrives so</span></p>
<p><div class="language-py highlight"><span class="filename">success message with analyze link</span><pre><span></span><code><span id="__span-148-1"><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-148-2"><a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a><span class="n">Congratulations</span><span class="err">!</span> <span class="n">You</span> <span class="n">have</span> <span class="n">successfully</span> <span class="n">enabled</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">yourdomain</span>
</span><span id="__span-148-3"><a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a>
</span><span id="__span-148-4"><a id="__codelineno-148-4" name="__codelineno-148-4" href="#__codelineno-148-4"></a><span class="n">You</span> <span class="n">should</span> <span class="n">test</span> <span class="n">your</span> <span class="n">configuration</span> <span class="n">at</span><span class="p">:</span>
</span><span id="__span-148-5"><a id="__codelineno-148-5" name="__codelineno-148-5" href="#__codelineno-148-5"></a><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">ssllabs</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ssltest</span><span class="o">/</span><span class="n">analyze</span><span class="o">.</span><span class="n">html</span><span class="err">?</span><span class="n">d</span><span class="o">=</span><span class="n">yourdomain</span>
</span><span id="__span-148-6"><a id="__codelineno-148-6" name="__codelineno-148-6" href="#__codelineno-148-6"></a><span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span>
</span><span id="__span-148-7"><a id="__codelineno-148-7" name="__codelineno-148-7" href="#__codelineno-148-7"></a>
</span><span id="__span-148-8"><a id="__codelineno-148-8" name="__codelineno-148-8" href="#__codelineno-148-8"></a><span class="n">IMPORTANT</span> <span class="n">NOTES</span><span class="p">:</span>
</span><span id="__span-148-9"><a id="__codelineno-148-9" name="__codelineno-148-9" href="#__codelineno-148-9"></a> <span class="o">-</span> <span class="n">Congratulations</span><span class="err">!</span> <span class="n">Your</span> <span class="n">certificate</span> <span class="ow">and</span> <span class="n">chain</span> <span class="n">have</span> <span class="n">been</span> <span class="n">saved</span> <span class="n">at</span><span class="p">:</span>
</span><span id="__span-148-10"><a id="__codelineno-148-10" name="__codelineno-148-10" href="#__codelineno-148-10"></a>   <span class="o">...</span>
</span><span id="__span-148-11"><a id="__codelineno-148-11" name="__codelineno-148-11" href="#__codelineno-148-11"></a>   <span class="n">Your</span> <span class="n">cert</span> <span class="n">will</span> <span class="n">expire</span> <span class="n">on</span><span class="o">.</span> <span class="n">To</span> <span class="n">obtain</span> <span class="n">a</span> <span class="n">new</span> <span class="ow">or</span> <span class="n">tweaked</span>
</span><span id="__span-148-12"><a id="__codelineno-148-12" name="__codelineno-148-12" href="#__codelineno-148-12"></a>   <span class="n">version</span> <span class="n">of</span> <span class="n">this</span> <span class="n">certificate</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">future</span><span class="p">,</span> <span class="n">simply</span> <span class="n">run</span> <span class="n">certbot</span> <span class="n">again</span>
</span><span id="__span-148-13"><a id="__codelineno-148-13" name="__codelineno-148-13" href="#__codelineno-148-13"></a>   <span class="k">with</span> <span class="n">the</span> <span class="s2">&quot;certonly&quot;</span> <span class="n">option</span><span class="o">.</span> <span class="n">To</span> <span class="n">non</span><span class="o">-</span><span class="n">interactively</span> <span class="n">renew</span> <span class="o">*</span><span class="nb">all</span><span class="o">*</span> <span class="n">of</span>
</span><span id="__span-148-14"><a id="__codelineno-148-14" name="__codelineno-148-14" href="#__codelineno-148-14"></a>   <span class="n">your</span> <span class="n">certificates</span><span class="p">,</span> <span class="n">run</span> <span class="s2">&quot;certbot renew&quot;</span>
</span><span id="__span-148-15"><a id="__codelineno-148-15" name="__codelineno-148-15" href="#__codelineno-148-15"></a> <span class="o">-</span> <span class="n">Your</span> <span class="n">account</span> <span class="n">credentials</span> <span class="n">have</span> <span class="n">been</span> <span class="n">saved</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">Certbot</span>
</span><span id="__span-148-16"><a id="__codelineno-148-16" name="__codelineno-148-16" href="#__codelineno-148-16"></a>   <span class="n">configuration</span> <span class="n">directory</span> <span class="n">at</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">.</span> <span class="n">You</span> <span class="n">should</span> <span class="n">make</span> <span class="n">a</span>
</span><span id="__span-148-17"><a id="__codelineno-148-17" name="__codelineno-148-17" href="#__codelineno-148-17"></a>   <span class="n">secure</span> <span class="n">backup</span> <span class="n">of</span> <span class="n">this</span> <span class="n">folder</span> <span class="n">now</span><span class="o">.</span> <span class="n">This</span> <span class="n">configuration</span> <span class="n">directory</span> <span class="n">will</span>
</span><span id="__span-148-18"><a id="__codelineno-148-18" name="__codelineno-148-18" href="#__codelineno-148-18"></a>   <span class="n">also</span> <span class="n">contain</span> <span class="n">certificates</span> <span class="ow">and</span> <span class="n">private</span> <span class="n">keys</span> <span class="n">obtained</span> <span class="n">by</span> <span class="n">Certbot</span> <span class="n">so</span>
</span><span id="__span-148-19"><a id="__codelineno-148-19" name="__codelineno-148-19" href="#__codelineno-148-19"></a>   <span class="n">making</span> <span class="n">regular</span> <span class="n">backups</span> <span class="n">of</span> <span class="n">this</span> <span class="n">folder</span> <span class="ow">is</span> <span class="n">ideal</span><span class="o">.</span>
</span><span id="__span-148-20"><a id="__codelineno-148-20" name="__codelineno-148-20" href="#__codelineno-148-20"></a> <span class="o">-</span> <span class="n">If</span> <span class="n">you</span> <span class="n">like</span> <span class="n">Certbot</span><span class="p">,</span> <span class="n">please</span> <span class="n">consider</span> <span class="n">supporting</span> <span class="n">our</span> <span class="n">work</span> <span class="n">by</span><span class="p">:</span>
</span><span id="__span-148-21"><a id="__codelineno-148-21" name="__codelineno-148-21" href="#__codelineno-148-21"></a>
</span><span id="__span-148-22"><a id="__codelineno-148-22" name="__codelineno-148-22" href="#__codelineno-148-22"></a>   <span class="n">Donating</span> <span class="n">to</span> <span class="n">ISRG</span> <span class="o">/</span> <span class="n">Let</span><span class="s1">&#39;s Encrypt:   https://letsencrypt.org/donate</span>
</span><span id="__span-148-23"><a id="__codelineno-148-23" name="__codelineno-148-23" href="#__codelineno-148-23"></a>   <span class="n">Donating</span> <span class="n">to</span> <span class="n">EFF</span><span class="p">:</span>                    <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">eff</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">donate</span><span class="o">-</span><span class="n">le</span>
</span></code></pre></div>
<div class="language-py highlight"><span class="filename">visit the analyze link above</span><pre><span></span><code><span id="__span-149-1"><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="n">A</span> <span class="n">grade</span> 
</span><span id="__span-149-2"><a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="k">for</span> 
</span><span id="__span-149-3"><a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="n">certificate</span>
</span><span id="__span-149-4"><a id="__codelineno-149-4" name="__codelineno-149-4" href="#__codelineno-149-4"></a><span class="n">protocol</span> <span class="n">support</span> 
</span><span id="__span-149-5"><a id="__codelineno-149-5" name="__codelineno-149-5" href="#__codelineno-149-5"></a><span class="n">key</span> <span class="n">exchange</span> 
</span><span id="__span-149-6"><a id="__codelineno-149-6" name="__codelineno-149-6" href="#__codelineno-149-6"></a><span class="n">cipher</span> <span class="n">strength</span>
</span><span id="__span-149-7"><a id="__codelineno-149-7" name="__codelineno-149-7" href="#__codelineno-149-7"></a>
</span><span id="__span-149-8"><a id="__codelineno-149-8" name="__codelineno-149-8" href="#__codelineno-149-8"></a><span class="n">HTTP</span> <span class="n">request</span> <span class="n">failed</span>
</span><span id="__span-149-9"><a id="__codelineno-149-9" name="__codelineno-149-9" href="#__codelineno-149-9"></a><span class="n">Server</span> <span class="n">supports</span> <span class="n">TLS</span> <span class="mf">1.3</span>
</span><span id="__span-149-10"><a id="__codelineno-149-10" name="__codelineno-149-10" href="#__codelineno-149-10"></a><span class="n">Trusted</span> <span class="n">Yes</span>
</span><span id="__span-149-11"><a id="__codelineno-149-11" name="__codelineno-149-11" href="#__codelineno-149-11"></a>
</span><span id="__span-149-12"><a id="__codelineno-149-12" name="__codelineno-149-12" href="#__codelineno-149-12"></a><span class="n">It</span> <span class="n">expires</span> <span class="ow">in</span> <span class="n">over</span> <span class="mi">2</span> <span class="n">years</span>
</span></code></pre></div></p>
<p><a href="https://www.ssllabs.com/projects/documentation/index.html" target="_blank" alt="Qualys SSL labs">Qualys SSL labs documentation page</a></p>
<p>restart nginx</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-150-1"><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">nginx</span>
</span></code></pre></div>
<p>The previous two times I got a 502 error.
Right now I'm getting a connection that has timed out. </p>
<p>check again if ditto is running</p>
<p>if checked from server home folder</p>
<p><div class="language-py highlight"><span class="filename">check status</span><pre><span></span><code><span id="__span-151-1"><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
stop process with Ctrl + C</p>
<div class="language-py highlight"><span class="filename">it's not running, here's the error message</span><pre><span></span><code><span id="__span-152-1"><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="err">●</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Ditto</span>
</span><span id="__span-152-2"><a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span> <span class="n">enabled</span><span class="p">)</span>
</span><span id="__span-152-3"><a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">failed</span> <span class="p">(</span><span class="n">Result</span><span class="p">:</span> <span class="n">exit</span><span class="o">-</span><span class="n">code</span><span class="p">)</span> <span class="n">since</span> <span class="n">date</span> <span class="o">&amp;</span> <span class="n">time</span>
</span><span id="__span-152-4"><a id="__codelineno-152-4" name="__codelineno-152-4" href="#__codelineno-152-4"></a>    <span class="n">Process</span><span class="p">:</span> <span class="mi">64502</span> <span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> <span class="n">task</span> <span class="n">start</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAIL</span><span class="o">&gt;</span>
</span><span id="__span-152-5"><a id="__codelineno-152-5" name="__codelineno-152-5" href="#__codelineno-152-5"></a>   <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">64502</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAILURE</span><span class="p">)</span>
</span></code></pre></div>
<p>if checked from within /opt/ditto</p>
<p><div class="language-py highlight"><span class="filename">check status</span><pre><span></span><code><span id="__span-153-1"><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="n">systemctl</span> <span class="n">status</span> <span class="n">ditto</span>
</span></code></pre></div>
stop process with Ctrl + C</p>
<p><div class="language-py highlight"><span class="filename">it's not running, here's the error message</span><pre><span></span><code><span id="__span-154-1"><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="err">●</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span> <span class="o">-</span> <span class="n">Ditto</span>
</span><span id="__span-154-2"><a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a>     <span class="n">Loaded</span><span class="p">:</span> <span class="n">loaded</span> <span class="p">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">;</span> <span class="n">enabled</span><span class="p">;</span> <span class="n">vendor</span> <span class="n">preset</span><span class="p">:</span><span class="o">&gt;</span>
</span><span id="__span-154-3"><a id="__codelineno-154-3" name="__codelineno-154-3" href="#__codelineno-154-3"></a>     <span class="n">Active</span><span class="p">:</span> <span class="n">failed</span> <span class="p">(</span><span class="n">Result</span><span class="p">:</span> <span class="n">exit</span><span class="o">-</span><span class="n">code</span><span class="p">)</span> <span class="n">since</span> <span class="n">date</span> <span class="n">a</span><span class="o">&gt;</span>
</span><span id="__span-154-4"><a id="__codelineno-154-4" name="__codelineno-154-4" href="#__codelineno-154-4"></a>    <span class="n">Process</span><span class="p">:</span> <span class="mi">64502</span> <span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> <span class="n">task</span> <span class="n">start</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">statu</span><span class="o">&gt;</span>
</span><span id="__span-154-5"><a id="__codelineno-154-5" name="__codelineno-154-5" href="#__codelineno-154-5"></a>   <span class="n">Main</span> <span class="n">PID</span><span class="p">:</span> <span class="mi">64502</span> <span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">exited</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">FAILURE</span><span class="p">)</span>
</span><span id="__span-154-6"><a id="__codelineno-154-6" name="__codelineno-154-6" href="#__codelineno-154-6"></a>
</span><span id="__span-154-7"><a id="__codelineno-154-7" name="__codelineno-154-7" href="#__codelineno-154-7"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">:</span> <span class="n">Scheduled</span><span class="o">&gt;</span>
</span><span id="__span-154-8"><a id="__codelineno-154-8" name="__codelineno-154-8" href="#__codelineno-154-8"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Stopped</span> <span class="n">Ditto</span><span class="o">.</span>
</span><span id="__span-154-9"><a id="__codelineno-154-9" name="__codelineno-154-9" href="#__codelineno-154-9"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">:</span> <span class="n">Start</span> <span class="n">req</span><span class="o">&gt;</span>
</span><span id="__span-154-10"><a id="__codelineno-154-10" name="__codelineno-154-10" href="#__codelineno-154-10"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">ditto</span><span class="o">.</span><span class="n">service</span><span class="p">:</span> <span class="n">Failed</span> <span class="n">wi</span><span class="o">&gt;</span>
</span><span id="__span-154-11"><a id="__codelineno-154-11" name="__codelineno-154-11" href="#__codelineno-154-11"></a><span class="n">date</span> <span class="n">time</span> <span class="n">server1</span><span class="o">.</span><span class="n">yourdomain</span><span class="o">.</span><span class="n">com</span> <span class="n">systemd</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">start</span> <span class="n">Ditto</span><span class="o">.</span>
</span></code></pre></div>
stop process with Ctrl + C</p>
<h3 id="files-in-error-message">files in error message<a class="headerlink" href="#files-in-error-message" title="Permanent link">⚓︎</a></h3>
<p>opening both files mentioned in the message above</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-155-1"><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">ditto</span><span class="o">.</span><span class="n">service</span>
</span></code></pre></div>
<p><div class="language-py highlight"><span class="filename">message from terminal</span><pre><span></span><code><span id="__span-156-1"><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="p">[</span><span class="n">Unit</span><span class="p">]</span>
</span><span id="__span-156-2"><a id="__codelineno-156-2" name="__codelineno-156-2" href="#__codelineno-156-2"></a><span class="n">Description</span><span class="o">=</span><span class="n">Ditto</span>
</span><span id="__span-156-3"><a id="__codelineno-156-3" name="__codelineno-156-3" href="#__codelineno-156-3"></a><span class="n">Wants</span><span class="o">=</span><span class="n">network</span><span class="o">-</span><span class="n">online</span><span class="o">.</span><span class="n">target</span>
</span><span id="__span-156-4"><a id="__codelineno-156-4" name="__codelineno-156-4" href="#__codelineno-156-4"></a><span class="n">After</span><span class="o">=</span><span class="n">network</span><span class="o">-</span><span class="n">online</span><span class="o">.</span><span class="n">target</span>
</span><span id="__span-156-5"><a id="__codelineno-156-5" name="__codelineno-156-5" href="#__codelineno-156-5"></a>
</span><span id="__span-156-6"><a id="__codelineno-156-6" name="__codelineno-156-6" href="#__codelineno-156-6"></a><span class="p">[</span><span class="n">Service</span><span class="p">]</span>
</span><span id="__span-156-7"><a id="__codelineno-156-7" name="__codelineno-156-7" href="#__codelineno-156-7"></a><span class="n">Type</span><span class="o">=</span><span class="n">simple</span>
</span><span id="__span-156-8"><a id="__codelineno-156-8" name="__codelineno-156-8" href="#__codelineno-156-8"></a><span class="n">User</span><span class="o">=</span><span class="n">ditto</span>
</span><span id="__span-156-9"><a id="__codelineno-156-9" name="__codelineno-156-9" href="#__codelineno-156-9"></a><span class="n">WorkingDirectory</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">ditto</span>
</span><span id="__span-156-10"><a id="__codelineno-156-10" name="__codelineno-156-10" href="#__codelineno-156-10"></a><span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> <span class="n">task</span> <span class="n">start</span>
</span><span id="__span-156-11"><a id="__codelineno-156-11" name="__codelineno-156-11" href="#__codelineno-156-11"></a><span class="n">Restart</span><span class="o">=</span><span class="n">on</span><span class="o">-</span><span class="n">failure</span>
</span><span id="__span-156-12"><a id="__codelineno-156-12" name="__codelineno-156-12" href="#__codelineno-156-12"></a>
</span><span id="__span-156-13"><a id="__codelineno-156-13" name="__codelineno-156-13" href="#__codelineno-156-13"></a><span class="p">[</span><span class="n">Install</span><span class="p">]</span>
</span><span id="__span-156-14"><a id="__codelineno-156-14" name="__codelineno-156-14" href="#__codelineno-156-14"></a><span class="n">WantedBy</span><span class="o">=</span><span class="n">multi</span><span class="o">-</span><span class="n">user</span><span class="o">.</span><span class="n">target</span>
</span></code></pre></div>
Ctrl + C to close</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-157-1"><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">deno</span> 
</span></code></pre></div>
<p>Getting a lot of non-parsed characters and a few mentions of fatal errors, but nothing specific that would point to a possible fix. I'll review later in more detail. </p>
<hr />
<h2 id="restart-from-scratch">restart from scratch<a class="headerlink" href="#restart-from-scratch" title="Permanent link">⚓︎</a></h2>
<blockquote>
<p>Learning about tech means learning to make mistakes and trying again.</p>
</blockquote>
<p>If you reinstall the server software to try this process again from scratch, on the same server IP, you will get a scary warning like this one:</p>
<p><div class="language-py highlight"><pre><span></span><code><span id="__span-158-1"><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="o">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span>
</span><span id="__span-158-2"><a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a><span class="o">@</span>    <span class="n">WARNING</span><span class="p">:</span> <span class="n">REMOTE</span> <span class="n">HOST</span> <span class="n">IDENTIFICATION</span> <span class="n">HAS</span> <span class="n">CHANGED</span><span class="err">!</span>     <span class="o">@</span>
</span><span id="__span-158-3"><a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="o">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span>
</span><span id="__span-158-4"><a id="__codelineno-158-4" name="__codelineno-158-4" href="#__codelineno-158-4"></a><span class="n">IT</span> <span class="n">IS</span> <span class="n">POSSIBLE</span> <span class="n">THAT</span> <span class="n">SOMEONE</span> <span class="n">IS</span> <span class="n">DOING</span> <span class="n">SOMETHING</span> <span class="n">NASTY</span><span class="err">!</span>
</span><span id="__span-158-5"><a id="__codelineno-158-5" name="__codelineno-158-5" href="#__codelineno-158-5"></a><span class="n">Someone</span> <span class="n">could</span> <span class="n">be</span> <span class="n">eavesdropping</span> <span class="n">on</span> <span class="n">you</span> <span class="n">right</span> <span class="n">now</span> <span class="p">(</span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span> <span class="n">attack</span><span class="p">)</span><span class="err">!</span>
</span><span id="__span-158-6"><a id="__codelineno-158-6" name="__codelineno-158-6" href="#__codelineno-158-6"></a><span class="n">It</span> <span class="ow">is</span> <span class="n">also</span> <span class="n">possible</span> <span class="n">that</span> <span class="n">a</span> <span class="n">host</span> <span class="n">key</span> <span class="n">has</span> <span class="n">just</span> <span class="n">been</span> <span class="n">changed</span><span class="o">.</span>
</span></code></pre></div>
Don't worry, you can fix it by removing your old key from the server's IP:</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-159-1"><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">R</span> <span class="mf">111.111.11.11</span>
</span></code></pre></div>
<p>source: <a href="https://www.youtube.com/watch?v=SOjtB4n8WiE" target="blank" alt="How to Fix Warning Remote Host Identification Has Changed from Tony Teaches Tech">How to Fix Warning Remote Host Identification Has Changed</a></p>
<p><br>
<br>
<br></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../../terminology/index.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: terminology">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                terminology
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Powered by shaka hugs. Built to be free. Content and art released under a creative commons 0 license, except when content is about projects and art not created by elidy.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/cyberspacemysteries/cyberspacemysteries.github.io" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://nostr.com/npub1a7n2h5y3gt90y00mwrknhx74fyzzjqw25ehkscje58x9tfyhqd5snyvfnu" target="_blank" rel="noopener" title="nostr.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M21.1 33.9c12.7-4.6 26.9-.7 35.5 9.6L320 359.6V64c0-17.7 14.3-32 32-32s32 14.3 32 32v384c0 13.5-8.4 25.5-21.1 30.1s-26.9.7-35.5-9.6L64 152.4V448c0 17.7-14.3 32-32 32S0 465.7 0 448V64c0-13.5 8.4-25.5 21.1-30.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
  
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    

  <!-- Extra JavaScript (can't be set in mkdocs.yml due to content hash) -->
  <script src="../../../javascripts/extra.js"></script>

  </body>
</html>